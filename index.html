<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>











<head>
<title>Planet SymPy</title>
<link rel="shortcut icon" type="image/png" href="images/sympy_favicon.png"/>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="generator" content="http://intertwingly.net/code/venus/">
<link rel="stylesheet" href="planet.css" type="text/css">
<link rel="alternate" href="http://planet.sympy.org/atom.xml" title="" type="application/atom+xml">
</head>

<body>
<h1>Planet SymPy</h1>

<div class="daygroup">
<h2>June 22, 2014</h2>

<div class="channelgroup">







<h3><a href="http://tarzzz.github.io/gsoc14" title="Tarun Gaba's blog - GSoC">Tarun Gaba</a></h3>


<div class="entrygroup" id="http://tarzzz.github.io/gsoc14/second-week.html">
<h4><a href="http://tarzzz.github.io/gsoc14/second-week.html">GSoC 14: Second Week!</a></h4>
<div class="entry">
<div class="content">
<p><a href="http://tarzzz.github.io/gsoc14"> &lt;-Back to posts </a></p>

<p>Second week of GSoC ‘14 has ended. It has been a very hectic week. A good part of my time was spent in studying 
and tweaking the MGView code(whose fork we had decided to work on). The new <em>generic-visualizer</em> has to be compatible 
with both PyDy as well as MG(MotionGenesis), so great care is being taken to maintain the backwards compatibility
of the package, as well to add the support for PyDy visualization data. I have also worked on Python side, to 
modify the JSON data generated for the visualizations(from PyDy side).</p>

<h3 id="accomplishments">Accomplishments:</h3>

<p>There have been three major accomplishments this week:</p>

<ul>
  <li>
    <p><strong>Studying MGView code:</strong> This has to be the most time consuming part! I had to go over a module spanning
multiple files to study the workflow, and how each methods are linked together. Some conversations with
Adam Leeper(who wrote the original package) have been very useful in this regard.</p>
  </li>
  <li>
    <p><strong>Modifying JSON generated from PyDy:</strong> Certain modifications have been done on the JSON generated from the
PyDy backend, so that they are compatible with MotionView. A major change is that the generated JSON data
is split over two files, one <code>scene_desc.json</code> shall contain all the parameters required to create a static
scene, and another file <code>simulation_data.json</code> which shall contain all the simulation data(in the form of 
4x4 matrices). It would be very helpful in un-cluttering the data. The API changes in Python side are totally
backward compatible, which means no previous code shall break once these changes are merged.</p>
  </li>
  <li>
    <p><strong>Tweaking MGView code:</strong> I have started working on MGView code, to provide the support for PyDy generated
JSON data. This part will span the coming weeks too.</p>
  </li>
</ul>

<h3 id="objectives">Objectives:</h3>

<p>The objectives of the upcoming week are to be able to produce some visualizations on the frontend side. 
For that I will need to tweak into the MGView code to allow support for PyDy JSONs.</p>

<h3 id="issues">Issues:</h3>

<p>The main issues I am facing is the inhomogenities in the output produced by PyDy and MG. Since the visualizer
(MOtionView) must be able to visualize data generated from both of these packages, without any bias it has to be 
designed like so. Since It is already built to specifically visualize data generated from MotionGenesis software,
There are certain parts of code which need to be totally rewritten, and it has to be done without breaking the
workflow of the visualizer. So it can get somewhat messy to do so. I am working on to find a clean way to do so.</p>

<p>The upcoming two weeks are somewhat crucial to the project timeline. I have to work really hard in the coming weeks to
keep up with my deliverables before the midterm evaluations. I think I shall get back to coding now! :)</p>

<p><a href="http://tarzzz.github.io/gsoc14"> &lt;-Back to posts </a></p></div>







<p class="date">
<a href="http://tarzzz.github.io/gsoc14/second-week.html">June 22, 2014 07:00 PM</a>
</p>
</div>
</div>



</div>
<div class="channelgroup">







<h3><a href="http://kundankumar185.wordpress.com" title="my experiments with life">Kundan Kumar</a></h3>


<div class="entrygroup" id="http://kundankumar185.wordpress.com/?p=100">
<h4 lang="en"><a href="http://kundankumar185.wordpress.com/2014/06/22/gsoc-week-5-non-linear-system-of-odes/">GSoC Week 5: Non-linear system of ODEs</a></h4>
<div class="entry">
<div class="content" lang="en">
<p>Considering the 5th week has passed, <a href="https://github.com/sympy/sympy/pull/7611">PR</a> for linear system of 3 equations of first order still remains to be merged. Also, <a href="https://github.com/sympy/sympy/pull/7616">PR</a> for non-linear system of ODEs for 2 equations of first order is on the way. The non-linear system of ODEs which I have included are these -</p>
<p>&gt;<span style="color: #000000; font-size: small;"><span style="font-family: Arial, sans-serif;">x’ = x**n*F(x, y)</span></span></p>
<p><span style="color: #000000; font-size: small;"><span style="font-family: Arial, sans-serif;">   y’ = g(y)*F(x, y)</span></span></p>
<p>&gt;<span style="color: #000000; font-size: small;"><span style="font-family: Arial, sans-serif;">x’ = exp(λx)*F(x, y)</span></span></p>
<p><span style="color: #000000; font-size: small;"><span style="font-family: Arial, sans-serif;">   y’ = g(y)*F(x, y)</span></span></p>
<p>&gt;<span style="color: #000000; font-size: small;"><span style="font-family: Arial, sans-serif;">x’ = F(x, y)</span></span></p>
<p><span style="color: #000000; font-size: small;"><span style="font-family: Arial, sans-serif;">   y’ = G(x, y)</span></span></p>
<p>&gt;<span style="color: #000000; font-size: small;"><span style="font-family: Arial, sans-serif;">x’ = f1(x)*g1(y)*Φ(x, y, t)</span></span></p>
<p><span style="color: #000000; font-size: small;"><span style="font-family: Arial, sans-serif;">   y’ = f2(x)*g2(y)*Φ(x, y, t)</span></span></p>
<p>&gt;<span style="color: #000000; font-size: small;"><span style="font-family: Arial, sans-serif;">x = t*x’ + F(x’, y’)</span></span></p>
<p><span style="color: #000000; font-size: small;"><span style="font-family: Arial, sans-serif;">   y = t*y’ + G(x’, y’)</span></span></p>
<p>Though the representation of output of these equation are due, because of `Eq` representation not working with a list. So the representation of test cases is not complete.</p>
<p>There are some equations which may be of above format but is not solvable due to problem of dsolve with certain single equation ODEs, whose solutions, being entwined in terms of function and variable, are inseparable. This is also due to inefficiency of `solve` function that `solve` is not able seperate function and variable in a solution returned by dsolve.</p>
<p>This week’s I spent a lot of time correcting conflicts in git rebase which created a lot of mess. I tried to solve those but wasn’t very succesful so I deleted the previous branches and created new one.</p>
<p>This week I intend to complete the documentation part which I have left for implemented differential equations and complete the system of non-linear ODEs for 1st order.</p><br />  <a href="http://feeds.wordpress.com/1.0/gocomments/kundankumar185.wordpress.com/100/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/comments/kundankumar185.wordpress.com/100/" alt="" border="0" /></a> <img src="http://stats.wordpress.com/b.gif?host=kundankumar185.wordpress.com&amp;blog=68025302&amp;post=100&amp;subd=kundankumar185&amp;ref=&amp;feed=1" alt="" border="0" width="1" height="1" /></div>







<p class="date">
<a href="http://kundankumar185.wordpress.com/2014/06/22/gsoc-week-5-non-linear-system-of-odes/">by Kundan at June 22, 2014 10:28 AM</a>
</p>
</div>
</div>


</div>

</div>
<div class="daygroup">
<h2>June 21, 2014</h2>

<div class="channelgroup">







<h3><a href="http://codesachin.wordpress.com" title="Dream. Think. Code. » Google Summer of Code 2014">Sachin Joglekar</a></h3>


<div class="entrygroup" id="http://codesachin.wordpress.com/?p=17">
<h4 lang="en"><a href="http://codesachin.wordpress.com/2014/06/21/gsoc-week-5-pr-reviews-and-starting-coordsysrect/">GSoC Week 5: PR reviews and starting CoordSysRect</a></h4>
<div class="entry">
<div class="content" lang="en">
<p>This week had the dual focus of -</p>
<p>1. Polishing off the Vector framework based on PR reviews</p>
<p>2. Starting the implementation of CoordSysRect+Point</p>
<p>I had thought last week, that the vector classes I implemented in the first PR <em>were</em> the polished version. However, with the reviews given, I have come to realise that a lot of improvements had/have to be made. Francesco Bonazzi, one of the SymPy contributors, was a huge help in improving the code and making it more efficient than what it initially was.</p>
<p>The biggest suggestion for improvement that was provided was to not implement custom hashing and equality checking methods for the Vector classes. Initially, I had overridden the inherited versions of these methods in the new classes, based on tuples generated with respect to the vectorial components of any Vector instance. However, SymPy already has a strong framework for these functionalities, based on the <em>args</em> of a Basic object. Moreover, the SymPy core is apparently being re-written in C++. This would make the SymPy-core versions of the aforementioned methods much, much more efficient than my Python versions.</p>
<p>Luckily, I had implemented the ‘__new__’ methods of the Vector classes in such a way that ‘equivalent’ Vector instances had exactly the same args. This made the usage of the inherited methods much, much easier – the only thing that remained to do was to pass the appropriate args to the superclass __new__ methods. Hence, all Vector classes rely on the SymPy core now, for as much as they can. Phew. Still a problem is the BaseScalar class, whose superclass is Dummy. The __new__ method for Dummy makes it not-possible to pass coordinate-system and index-related information to it – making the appropriate hashing impossible. If I instead inherit from AtomicExpr, I will have to rewrite many methods – not sure if its a good idea. Lets see what the community has to say about this.</p>
<p>About the implementation of the new stuff, I have already finished implementing the Point class. Now I am currently working on implementing CoordSysRect – I am still writing the HUGE __new__ method for this class. For now, I am referring to the tests of sympy.physics.vector while doing the coding. Hope I am successful in writing the classes soon, and integrating it with a polishing and ‘perfected’ version of the vector core.</p>
<p>Thats all for this week. Have a great week!</p><br />  <a href="http://feeds.wordpress.com/1.0/gocomments/codesachin.wordpress.com/17/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/comments/codesachin.wordpress.com/17/" alt="" border="0" /></a> <img src="http://stats.wordpress.com/b.gif?host=codesachin.wordpress.com&amp;blog=67602166&amp;post=17&amp;subd=codesachin&amp;ref=&amp;feed=1" alt="" border="0" width="1" height="1" /></div>







<p class="date">
<a href="http://codesachin.wordpress.com/2014/06/21/gsoc-week-5-pr-reviews-and-starting-coordsysrect/">by srjoglekar246 at June 21, 2014 11:45 AM</a>
</p>
</div>
</div>



</div>
<div class="channelgroup">







<h3><a href="http://thilinaatsympy.wordpress.com" title="Thilina's SymPy Blog">Thilina Rathnayake</a></h3>


<div class="entrygroup" id="http://thilinaatsympy.wordpress.com/?p=348">
<h4 lang="en"><a href="http://thilinaatsympy.wordpress.com/2014/06/21/gsoc-week-5-matrix-decompositions/">[GSoC] Week 5: Matrix Decompositions</a></h4>
<div class="entry">
<div class="content" lang="en">
<p>Hi All,</p>
<p>Week 5 of the GSoC is over and I have made some progress in Matrix factorizations. I implemented LU factorization and QR factorization. Still I have to implement Cholesky factorization. I hope to do it during the Weekend.</p>
<h2>LU factorization</h2>
<p>LU factorization was invented by Alan Turing and this is very important when solving a system of equations. In <strong>LU</strong> decomposition we try to factorize a given square matrix into a product of two matrices, <strong>L</strong> and <strong>U</strong> where <strong>L</strong> is a lower triangular matrix and <strong>U</strong> is a upper triangular matrix. The factorization can be a true factorization i.e. <strong>A = LU</strong> or it may be the process of finding two matrices <strong>L</strong>, <strong>U</strong> which can be used in solving the system <strong>Ax = B</strong>. In the latter case we don’t have <strong>A = LU.</strong> I implemented three different algorithms for <strong>LU</strong> decomposition.</p>
<h4>Fraction Free LU decomposition in [1]</h4>
<p>Fraction free version described in [1] results in two matrices, a lower triangular matrix <strong>L </strong>and a upper triangular matrix <strong>U</strong>. But this is not a true factorization i.e. <strong>A != LU</strong> in this case. The algorithm is more focused in a factorization that helps to solve a system <strong>Ax = B</strong>. So we are only interested in finding two matrices which can be used in backward / forward substitution to solve the system.</p>
<h4>Normal and Fraction Free version in SymPy</h4>
<p>I also implemented the normal and fraction free version of the algorithm in SymPy which gives an exact factorization <strong>A = LU</strong>. Normal algorithm results in fractions and not good for numerical calculations if you are not using arbitrary precision arithmetic. In contrast fraction free versions do not generate these kinds of fraction as a result of the decomposition. These algorithms can be found in [2] and [3] respectively.</p>
<h2>QR decomposition</h2>
<p>In <strong>QR </strong>decomposition we find two matrices, an [orthogonal matrix](<a href="http://en.wikipedia.org/wiki/Orthogonal_matrix" rel="nofollow">http://en.wikipedia.org/wiki/Orthogonal_matrix</a>)  <strong>Q </strong>and  a upper triangular matrix <strong>R</strong> such that <strong>A = QR</strong>. Here <strong>A </strong>doesn’t have to be a square matrix.There are several method to calculate <strong>QR</strong> factorization but <strong>SymPy</strong> uses <strong><span class="mw-headline" id="Using_the_Gram.E2.80.93Schmidt_process">Gram–Schmidt </span></strong><span class="mw-headline" id="Using_the_Gram.E2.80.93Schmidt_process">process. The Algorithm can be found in [4].<br />
</span></p>
<h2>Issues</h2>
<p><strong>QR</strong> decomposition is not a `symbolic friendly` algorithm as it involves finding square root. I searched thoroughly for an algorithm that is suited for symbolic entries but couldn’t find one.</p>
<h2>References</h2>
<div class="line" id="LC175"><span class="c1">[1] Algorithm 3, page 14, Nakos, G. C., Turner, P. R., Williams, R. M. (1997). Fraction-free algorithms for linear and polynomial equations. ACM SIGSAM Bulletin, 31(3), 11–19. doi:10.1145/271130.271133.</span></div>
<div class="line"></div>
<div class="line">[2] <a href="http://docs.sympy.org/latest/modules/matrices/matrices.html#sympy.matrices.matrices.MatrixBase.LUdecomposition" rel="nofollow">http://docs.sympy.org/latest/modules/matrices/matrices.html#sympy.matrices.matrices.MatrixBase.LUdecomposition</a></div>
<div class="line"></div>
<div class="line">[3] <a href="http://docs.sympy.org/latest/modules/matrices/matrices.html#sympy.matrices.matrices.MatrixBase.LUdecompositionFF" rel="nofollow">http://docs.sympy.org/latest/modules/matrices/matrices.html#sympy.matrices.matrices.MatrixBase.LUdecompositionFF</a></div>
<div class="line"></div>
<div class="line">[4] <a href="http://docs.sympy.org/latest/modules/matrices/matrices.html#sympy.matrices.matrices.MatrixBase.QRdecomposition" rel="nofollow">http://docs.sympy.org/latest/modules/matrices/matrices.html#sympy.matrices.matrices.MatrixBase.QRdecomposition</a></div><br />  <a href="http://feeds.wordpress.com/1.0/gocomments/thilinaatsympy.wordpress.com/348/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/comments/thilinaatsympy.wordpress.com/348/" alt="" border="0" /></a> <img src="http://stats.wordpress.com/b.gif?host=thilinaatsympy.wordpress.com&amp;blog=52956410&amp;post=348&amp;subd=thilinaatsympy&amp;ref=&amp;feed=1" alt="" border="0" width="1" height="1" /></div>







<p class="date">
<a href="http://thilinaatsympy.wordpress.com/2014/06/21/gsoc-week-5-matrix-decompositions/">by Thilina Rathnayake at June 21, 2014 06:20 AM</a>
</p>
</div>
</div>


</div>

</div>
<div class="daygroup">
<h2>June 20, 2014</h2>

<div class="channelgroup">







<h3><a href="http://jcrist.github.io/" title="Marginally Stable">Jim Crist</a></h3>


<div class="entrygroup" id="tag:,2014-06-20:gsoc-week-5.html">
<h4><a href="http://jcrist.github.io/gsoc-week-5.html">GSoC Week 5: Adventures in Profiling</a></h4>
<div class="entry">
<div class="content">
<p>
</p><div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>This week I've been working on little fixes. Improving the docstrings, a couple interface improvements, finalizing some design decisions. The plan is to finish up this work next week, and then move on to the code generation portion of the project. In it's current state, the linearizer can handle <code>KanesMethod</code> and <code>LagrangesMethod</code> with ease. I'll probably spend some time hacking away at the <code>matrix_to_linearizer</code> function as well, but that's not priority.</p>
<p>The rest of the week was spent profiling and doing some basic optimizations. Being a mechanical engineer, I haven't spent much time learning about numerical methods (although, I am taking this <a href="http://ocw.mit.edu/courses/mathematics/18-085-computational-science-and-engineering-i-fall-2008/index.htm">MIT OCW course this summer</a>). As such, my natural way of solving the system</p>
<p><span class="math">\[
A x = B
\]</span></p>
<p>where <span class="math">\(A\)</span>, <span class="math">\(B\)</span>, and <span class="math">\(x\)</span> are matrices, is to take the inverse of <span class="math">\(A\)</span>, and multiply it by <span class="math">\(B\)</span>:</p>
<p><span class="math">\[ x = A^{-1} B \]</span></p>
<p>Turns out, this is horribly inefficient. But what is the best way? I had to do some profiling.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="creating-benchmark-matrices">Creating Benchmark Matrices</h1>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>For most systems of the form <span class="math">\(A x = B\)</span> in <code>sympy.physics.mechanics</code>, <span class="math">\(A\)</span> is a symmetric matrix, and <span class="math">\(B\)</span> is a column vector. To do proper benchmarks, I'd need to create random matrices of this form. Looking at some example equations of motion, it can be seen that these mostly consisted of products and sums of terms composed of symbols, trigonometric functions, power functions, <code>sqrt</code>, and <code>inv</code>. After some time, I was able to create a couple functions to create these matrices in a composable way:</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In [1]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight-ipynb"><pre class="ipynb"><span class="c"># Below are some functions to create random matrices of varying sizes.</span>
<span class="c"># These will be used in the benchmarks.</span>

<span class="kn">from</span> <span class="nn">random</span> <span class="kn">import</span> <span class="n">sample</span><span class="p">,</span> <span class="n">randint</span>
<span class="kn">from</span> <span class="nn">sympy</span> <span class="kn">import</span> <span class="n">Matrix</span><span class="p">,</span> <span class="n">symbols</span><span class="p">,</span> <span class="n">sin</span><span class="p">,</span> <span class="n">cos</span><span class="p">,</span> <span class="n">tan</span><span class="p">,</span> <span class="n">sqrt</span><span class="p">,</span> <span class="n">zeros</span><span class="p">,</span> \
    <span class="n">Symbol</span><span class="p">,</span> <span class="n">diag</span><span class="p">,</span> <span class="n">prod</span>

<span class="c"># Define some operations</span>
<span class="n">pow2</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="nb">pow</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="n">pow3</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="nb">pow</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="n">pow4</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="nb">pow</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="n">inv</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="mi">1</span><span class="o">/</span><span class="n">x</span>

<span class="c"># Defaults</span>
<span class="c"># OPS is a list of common operations in sympy.physics.mechanics</span>
<span class="n">OPS</span> <span class="o">=</span> <span class="p">[</span><span class="n">sin</span><span class="p">,</span> <span class="n">cos</span><span class="p">,</span> <span class="n">tan</span><span class="p">,</span> <span class="n">pow2</span><span class="p">,</span> <span class="n">pow3</span><span class="p">,</span> <span class="n">pow4</span><span class="p">,</span> <span class="n">sqrt</span><span class="p">,</span> <span class="n">inv</span><span class="p">]</span>
<span class="c"># SYMS is a list of symbols that could be found in a matrix</span>
<span class="n">SYMS</span> <span class="o">=</span> <span class="n">symbols</span><span class="p">(</span><span class="s">'a, b, c, d, e, f, g, h, i, j'</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">sum_or_prod</span><span class="p">(</span><span class="n">vec</span><span class="p">):</span>
    <span class="sd">""" Return either the sum or product of a vector """</span>
    <span class="n">func</span> <span class="o">=</span> <span class="n">sample</span><span class="p">([</span><span class="nb">sum</span><span class="p">,</span> <span class="n">prod</span><span class="p">],</span> <span class="mi">1</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">func</span><span class="p">(</span><span class="n">vec</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">randterms</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">max_terms</span><span class="p">,</span> <span class="n">ops</span><span class="o">=</span><span class="n">OPS</span><span class="p">,</span> <span class="n">syms</span><span class="o">=</span><span class="n">SYMS</span><span class="p">):</span>
    <span class="sd">""" Creates a list of random terms of size n. Each cell is composed of</span>
<span class="sd">    0 to max_terms, composed of randomly sampled functions from ops, and</span>
<span class="sd">    symbols from syms """</span>
    <span class="n">ntermlist</span> <span class="o">=</span> <span class="p">[</span><span class="n">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">max_terms</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">)]</span>
    <span class="n">pick</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">vec</span><span class="p">,</span> <span class="n">nlist</span><span class="p">:</span> <span class="p">[[</span><span class="n">vec</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> 
            <span class="n">sample</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">vec</span><span class="p">)),</span> <span class="n">n</span><span class="p">)]</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">nlist</span><span class="p">]</span>
    <span class="n">rops</span> <span class="o">=</span> <span class="n">pick</span><span class="p">(</span><span class="n">ops</span><span class="p">,</span> <span class="n">ntermlist</span><span class="p">)</span>
    <span class="n">rsyms</span> <span class="o">=</span> <span class="n">pick</span><span class="p">(</span><span class="n">syms</span><span class="p">,</span> <span class="n">ntermlist</span><span class="p">)</span>
    <span class="n">terms</span> <span class="o">=</span> <span class="p">[</span><span class="nb">zip</span><span class="p">(</span><span class="o">*</span><span class="n">opsym</span><span class="p">)</span> <span class="k">for</span> <span class="n">opsym</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">rops</span><span class="p">,</span> <span class="n">rsyms</span><span class="p">)]</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">sum_or_prod</span><span class="p">(</span><span class="n">op</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="k">for</span> <span class="p">(</span><span class="n">op</span><span class="p">,</span> <span class="n">s</span><span class="p">)</span> <span class="ow">in</span> <span class="n">term</span><span class="p">)</span> <span class="k">for</span> <span class="n">term</span> <span class="ow">in</span> <span class="n">terms</span><span class="p">]</span>

<span class="k">def</span> <span class="nf">randmat</span><span class="p">(</span><span class="n">m</span><span class="p">,</span> <span class="n">n</span><span class="p">,</span> <span class="n">max_terms</span><span class="p">,</span> <span class="n">ops</span><span class="o">=</span><span class="n">OPS</span><span class="p">,</span> <span class="n">syms</span><span class="o">=</span><span class="n">SYMS</span><span class="p">):</span>
    <span class="sd">""" Creates a random matrix of size (m,n). Each cell is composed of</span>
<span class="sd">    1 to max_terms, composed of randomly sampled functions from ops, and</span>
<span class="sd">    symbols from syms """</span>
    <span class="k">return</span> <span class="n">Matrix</span><span class="p">(</span><span class="n">randterms</span><span class="p">(</span><span class="n">m</span><span class="o">*</span><span class="n">n</span><span class="p">,</span> <span class="n">max_terms</span><span class="p">,</span> <span class="n">ops</span><span class="p">,</span> <span class="n">syms</span><span class="p">))</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="n">m</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">randuppertriag</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">max_terms</span><span class="p">,</span> <span class="n">ops</span><span class="o">=</span><span class="n">OPS</span><span class="p">,</span> <span class="n">syms</span><span class="o">=</span><span class="n">SYMS</span><span class="p">):</span>
    <span class="sd">""" Creates a random upper triangular matrix of size (n, n). Each cell is</span>
<span class="sd">    composed of 1 to max_terms, composed of randomly sampled functions from</span>
<span class="sd">    ops, and symbols from syms """</span>
    <span class="n">nupper</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">))</span>
    <span class="n">terms</span> <span class="o">=</span> <span class="n">randterms</span><span class="p">(</span><span class="n">nupper</span><span class="p">,</span> <span class="n">max_terms</span><span class="p">,</span> <span class="n">ops</span><span class="p">,</span> <span class="n">syms</span><span class="p">)</span>
    <span class="n">t</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">rows</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">n</span><span class="p">):</span>
        <span class="n">rows</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">zeros</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span><span class="o">.</span><span class="n">row_join</span><span class="p">(</span><span class="n">Matrix</span><span class="p">(</span><span class="n">terms</span><span class="p">[</span><span class="n">t</span><span class="p">:</span><span class="n">t</span><span class="o">+</span><span class="n">n</span><span class="o">-</span><span class="n">i</span><span class="p">])</span><span class="o">.</span><span class="n">T</span><span class="p">))</span>
        <span class="n">t</span> <span class="o">+=</span> <span class="n">n</span><span class="o">-</span><span class="n">i</span>
    <span class="n">rows</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">zeros</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">n</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">Matrix</span><span class="p">(</span><span class="n">rows</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">symrandmat</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">max_terms</span><span class="p">,</span> <span class="n">ops</span><span class="o">=</span><span class="n">OPS</span><span class="p">,</span> <span class="n">syms</span><span class="o">=</span><span class="n">SYMS</span><span class="p">):</span>
    <span class="sd">""" Creates a random symmetric matrix of size (n, n). Each cell is</span>
<span class="sd">    composed of 1 to max_terms, composed of randomly sampled functions from</span>
<span class="sd">    ops, and symbols from syms """</span>
    <span class="n">upper</span> <span class="o">=</span> <span class="n">randuppertriag</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">max_terms</span><span class="p">,</span> <span class="n">ops</span><span class="p">,</span> <span class="n">syms</span><span class="p">)</span>
    <span class="n">lower</span> <span class="o">=</span> <span class="n">upper</span><span class="o">.</span><span class="n">T</span>
    <span class="n">D</span> <span class="o">=</span> <span class="n">diag</span><span class="p">(</span><span class="o">*</span><span class="n">randterms</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">max_terms</span><span class="p">,</span> <span class="n">ops</span><span class="p">,</span> <span class="n">syms</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">upper</span> <span class="o">+</span> <span class="n">D</span> <span class="o">+</span> <span class="n">lower</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In [2]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight-ipynb"><pre class="ipynb"><span class="c"># 3x3 Random Upper Triangular Matrix with max number of terms 2</span>
<span class="n">randuppertriag</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">
    Out[2]:</div>


<div class="output_text output_subarea output_pyout">
<pre>Matrix([
[0, cos(e),      tan(g)],
[0,      0, f**4*cos(j)],
[0,      0,           0]])
</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In [3]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight-ipynb"><pre class="ipynb"><span class="c"># 3x3 Random Matrix with max number of terms 2</span>
<span class="n">randmat</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">
    Out[3]:</div>


<div class="output_text output_subarea output_pyout">
<pre>Matrix([
[   b**4, j**2 + tan(c),           d**4],
[    1/d,        cos(f), c**2 + sqrt(d)],
[sqrt(a),        cos(g),           j**4]])
</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In [4]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight-ipynb"><pre class="ipynb"><span class="c"># 3x3 Symmetric matrix with max number of terms 2</span>
<span class="n">symrandmat</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">
    Out[4]:</div>


<div class="output_text output_subarea output_pyout">
<pre>Matrix([
[          cos(a), sqrt(g) + sin(b),        tan(f)],
[sqrt(g) + sin(b),   sqrt(i)*cos(j),           1/b],
[          tan(f),              1/b, cos(f)*tan(c)]])
</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="solution-methods">Solution Methods</h1>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>There are 4 different methods we'll be testing:</p>
<ol style="">
<li><strong><code>LUsolve</code>:</strong> Solve the problem with LU decomposition</li>
<li><strong><code>LDLsolve</code>:</strong> For symmetric matrices, solve with LDL decomposition</li>
<li><strong><code>cholesky_solve</code>:</strong> For symmetric matrices, solve with cholesky decomposition</li>
<li><strong><code>_mat_inv_mul</code>:</strong> Solve using LDL decomposition, and an intermediate substitution dictionary. This is what <code>mechanics</code> is currently using.</li>
</ol>
<p>After doing some reading up on these, <code>LDLsolve</code> and <code>cholesky_solve</code> <a href="http://en.wikipedia.org/wiki/Cholesky_decomposition#Computation">should be the fastest</a>, as the <span class="math">\(A\)</span> matrix is symmetric. <code>_mat_inv_mul</code> also uses LDL decomposition, but it has the overhead of substitution. However, for larger matrices this may yield benefits, as the LDL decomposition is performed only on a matrix of single symbols.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In [5]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight-ipynb"><pre class="ipynb"><span class="c"># This is what sympy.physics.mechanics is currently using.</span>
<span class="c"># Copied into this file, to show what it's doing.</span>
<span class="k">def</span> <span class="nf">_mat_inv_mul</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">):</span>
    <span class="sd">"""</span>
<span class="sd">    Computes A^-1 * B symbolically w/ substitution, where B is not</span>
<span class="sd">    necessarily a vector, but can be a matrix.</span>

<span class="sd">    """</span>

    <span class="n">r1</span><span class="p">,</span> <span class="n">c1</span> <span class="o">=</span> <span class="n">A</span><span class="o">.</span><span class="n">shape</span>
    <span class="n">r2</span><span class="p">,</span> <span class="n">c2</span> <span class="o">=</span> <span class="n">B</span><span class="o">.</span><span class="n">shape</span>
    <span class="n">temp1</span> <span class="o">=</span> <span class="n">Matrix</span><span class="p">(</span><span class="n">r1</span><span class="p">,</span> <span class="n">c1</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">:</span> <span class="n">Symbol</span><span class="p">(</span><span class="s">'x'</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">j</span><span class="p">)</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">r1</span> <span class="o">*</span> <span class="n">i</span><span class="p">)))</span>
    <span class="n">temp2</span> <span class="o">=</span> <span class="n">Matrix</span><span class="p">(</span><span class="n">r2</span><span class="p">,</span> <span class="n">c2</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">:</span> <span class="n">Symbol</span><span class="p">(</span><span class="s">'y'</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">j</span><span class="p">)</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">r2</span> <span class="o">*</span> <span class="n">i</span><span class="p">)))</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">temp1</span><span class="p">)):</span>
        <span class="k">if</span> <span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">temp1</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">temp2</span><span class="p">)):</span>
        <span class="k">if</span> <span class="n">B</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">temp2</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">temp3</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">c2</span><span class="p">):</span>
        <span class="n">temp3</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">temp1</span><span class="o">.</span><span class="n">LDLsolve</span><span class="p">(</span><span class="n">temp2</span><span class="p">[:,</span> <span class="n">i</span><span class="p">]))</span>
    <span class="n">temp3</span> <span class="o">=</span> <span class="n">Matrix</span><span class="p">([</span><span class="n">i</span><span class="o">.</span><span class="n">T</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">temp3</span><span class="p">])</span><span class="o">.</span><span class="n">T</span>
    <span class="k">return</span> <span class="n">temp3</span><span class="o">.</span><span class="n">subs</span><span class="p">(</span><span class="nb">dict</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">temp1</span><span class="p">,</span> <span class="n">A</span><span class="p">))))</span><span class="o">.</span><span class="n">subs</span><span class="p">(</span><span class="nb">dict</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">temp2</span><span class="p">,</span> <span class="n">B</span><span class="p">))))</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="benchmark-constant-matrix-complexity-varying-n">Benchmark: Constant Matrix Complexity, Varying <em>n</em></h1>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Here we check increasing matrix dimensions, with a constant complexity of each cell (<code>max_terms = 3</code>). Only running up to n=6, as computation got excessive after that.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In [6]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight-ipynb"><pre class="ipynb"><span class="kn">from</span> <span class="nn">timeit</span> <span class="kn">import</span> <span class="n">repeat</span>

<span class="c"># Run the benchmark for varying values of n, with max_terms = 3</span>
<span class="n">timestmt</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">stmt</span><span class="p">,</span> <span class="n">setup</span><span class="p">,</span> <span class="n">n</span><span class="p">,</span> <span class="n">r</span><span class="p">:</span> <span class="nb">min</span><span class="p">(</span><span class="n">repeat</span><span class="p">(</span><span class="n">stmt</span><span class="p">,</span> <span class="n">setup</span><span class="o">=</span><span class="n">setup</span><span class="p">,</span> <span class="n">repeat</span><span class="o">=</span><span class="n">r</span><span class="p">,</span> <span class="n">number</span><span class="o">=</span><span class="n">n</span><span class="p">))</span><span class="o">/</span><span class="n">n</span>
<span class="n">ns</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">7</span><span class="p">)</span>
<span class="n">lu_t</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">ldl_t</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">chol_t</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">matinv_t</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">ns</span><span class="p">:</span>
    <span class="n">A</span> <span class="o">=</span> <span class="n">symrandmat</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
    <span class="n">B</span> <span class="o">=</span> <span class="n">randmat</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
    <span class="n">lu_t</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">timestmt</span><span class="p">(</span><span class="s">'A.LUsolve(B)'</span><span class="p">,</span> <span class="s">'from __main__ import A, B'</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
    <span class="n">ldl_t</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">timestmt</span><span class="p">(</span><span class="s">'A.LDLsolve(B)'</span><span class="p">,</span> <span class="s">'from __main__ import A, B'</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
    <span class="n">chol_t</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">timestmt</span><span class="p">(</span><span class="s">'A.cholesky_solve(B)'</span><span class="p">,</span> <span class="s">'from __main__ import A, B'</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
    <span class="n">matinv_t</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">timestmt</span><span class="p">(</span><span class="s">'_mat_inv_mul(A, B)'</span><span class="p">,</span>
        <span class="s">'from __main__ import A, B, _mat_inv_mul'</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In [7]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight-ipynb"><pre class="ipynb"><span class="c"># Plot the results</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="kn">as</span> <span class="nn">plt</span>
<span class="o">%</span> <span class="n">matplotlib</span> <span class="n">inline</span>

<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ns</span><span class="p">,</span> <span class="n">lu_t</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s">'A.LUsolve(B)'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ns</span><span class="p">,</span> <span class="n">ldl_t</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s">'A.LDLsolve(B)'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ns</span><span class="p">,</span> <span class="n">chol_t</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s">'A.cholesky_solve(B)'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ns</span><span class="p">,</span> <span class="n">matinv_t</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s">'mat_inv_mul(A, B)'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s">'Matrix Dimension'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s">'Time (s)'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s">'Timings for Solution to A*x = b, Varying Dimensions'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ns</span><span class="p">,</span> <span class="n">lu_t</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s">'A.LUsolve(B)'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ns</span><span class="p">,</span> <span class="n">ldl_t</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s">'A.LDLsolve(B)'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ns</span><span class="p">,</span> <span class="n">chol_t</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s">'A.cholesky_solve(B)'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s">'Matrix Dimension'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s">'Time (s)'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s">'Timings for Solution to A*x = b,  Varying Dimensions'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>


<div class="output_png output_subarea ">
<img />
</div>

</div>

<div class="output_area"><div class="prompt"></div>


<div class="output_png output_subarea ">
<img />
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Observing the above plots it can be seen that <code>_mat_inv_mul</code> is several orders of magnitude slower than the other three methods, and increases in time at a faster rate. As the underlying algorithm is the same as <code>LDLsolve</code>, this indicates that the <code>subs</code> operations are slow, and of larger complexity than <code>LDLsolve</code>. While the other three methods are all close, <code>LUsolve</code> is the fastest. This is interesting, because for purely numeric computation (i.e. floating point only), <code>LDLsolve</code> and <code>cholesky_solve</code> should be faster for symmetric matrices.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="benchmark-varying-matrix-complexity-constant-n">Benchmark: Varying Matrix Complexity, Constant <em>n</em></h1>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Here we vary the complexity of the matrix (how many terms in each cell), but keep the matrix size constant. I picked <em>n</em> = 4, because it was big enough to take some time, but not too big to take forever. I'd expect to see the computation time increase with complexity, but not as rapidly as it did with matrix dimension.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In [8]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight-ipynb"><pre class="ipynb"><span class="c"># Run the benchmark for varying values of max_terms, with n = 4</span>
<span class="n">ms</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">9</span><span class="p">)</span>
<span class="n">lu_t</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">ldl_t</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">chol_t</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">matinv_t</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">m</span> <span class="ow">in</span> <span class="n">ms</span><span class="p">:</span>
    <span class="n">A</span> <span class="o">=</span> <span class="n">symrandmat</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="n">m</span><span class="p">)</span>
    <span class="n">B</span> <span class="o">=</span> <span class="n">randmat</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">m</span><span class="p">)</span>
    <span class="n">lu_t</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">timestmt</span><span class="p">(</span><span class="s">'A.LUsolve(B)'</span><span class="p">,</span> <span class="s">'from __main__ import A, B'</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
    <span class="n">ldl_t</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">timestmt</span><span class="p">(</span><span class="s">'A.LDLsolve(B)'</span><span class="p">,</span> <span class="s">'from __main__ import A, B'</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
    <span class="n">chol_t</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">timestmt</span><span class="p">(</span><span class="s">'A.cholesky_solve(B)'</span><span class="p">,</span> <span class="s">'from __main__ import A, B'</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
    <span class="n">matinv_t</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">timestmt</span><span class="p">(</span><span class="s">'_mat_inv_mul(A, B)'</span><span class="p">,</span>
        <span class="s">'from __main__ import A, B, _mat_inv_mul'</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In [9]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight-ipynb"><pre class="ipynb"><span class="c"># Plot the results</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ms</span><span class="p">,</span> <span class="n">lu_t</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s">'A.LUsolve(B)'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ms</span><span class="p">,</span> <span class="n">ldl_t</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s">'A.LDLsolve(B)'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ms</span><span class="p">,</span> <span class="n">chol_t</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s">'A.cholesky_solve(B)'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ms</span><span class="p">,</span> <span class="n">matinv_t</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s">'mat_inv_mul(A, B)'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s">'Matrix Complexity'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s">'Time (s)'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s">'Timings for Solution to A*x = b, Varying Complexity'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ms</span><span class="p">,</span> <span class="n">lu_t</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s">'A.LUsolve(B)'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ms</span><span class="p">,</span> <span class="n">ldl_t</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s">'A.LDLsolve(B)'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ms</span><span class="p">,</span> <span class="n">chol_t</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s">'A.cholesky_solve(B)'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s">'Matrix Complexity'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s">'Time (s)'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s">'Timings for Solution to A*x = b, Varying Complexity'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>


<div class="output_png output_subarea ">
<img />
</div>

</div>

<div class="output_area"><div class="prompt"></div>


<div class="output_png output_subarea ">
<img />
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Interestingly, it seems that <code>LUsolve</code>, <code>LDLsolve</code>, and <code>cholesky_solve</code> don't increase in time with complexity, while <code>_mat_inv_mul</code> does. This must be due to the intermediate substitution step.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="benchmark-turning-matrix-term-complexity-up-to-11">Benchmark: Turning Matrix Term Complexity up to 11</h1>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Using the matrices composed by the above methods, all cells are either a sum of terms, or a product. This is close to how the matrices we need to solve look, but it's not a perfect representation. Let's try with a really ugly matrix. We can use the fact that for any matrix <span class="math">\(A\)</span>, <span class="math">\(A A^T\)</span> is a symmetric matrix.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In [10]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight-ipynb"><pre class="ipynb"><span class="n">temp</span> <span class="o">=</span> <span class="n">prod</span><span class="p">([</span><span class="n">randmat</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">)])</span>
<span class="n">A</span> <span class="o">=</span> <span class="n">temp</span><span class="o">*</span><span class="n">temp</span><span class="o">.</span><span class="n">T</span>
<span class="n">B</span> <span class="o">=</span> <span class="n">randmat</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">6</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In [11]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight-ipynb"><pre class="ipynb"><span class="n">A</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">
    Out[11]:</div>


<div class="output_text output_subarea output_pyout">
<pre>Matrix([
[                                                                                                                                                                                                                                                                                                   (h**(9/2) + (sqrt(a) + cos(i))*(c**4 + tan(f)) + sin(i)*cos(c) + sin(f)*sin(g)/c)**2 + (c*sin(g) + (sqrt(a) + cos(i))*tan(g) + sin(i)*cos(c) + sqrt(h)*tan(a)/e)**2 + (sqrt(h)*(b**4 + sqrt(h)) + sqrt(i)*(sqrt(a) + cos(i)) + sin(a)*cos(c) + i**2*sin(g)*sin(j)/c)**2 + (b**2*e**4*cos(c) + d**3*(sqrt(a) + cos(i)) + g**2*sqrt(h) + (g**4 + cos(f))*sin(g)/c)**2, (h**(9/2) + (sqrt(a) + cos(i))*(c**4 + tan(f)) + sin(i)*cos(c) + sin(f)*sin(g)/c)*(d**3*sin(i) + j**3*sin(f) + h**4/f + h**2*(c**4 + tan(f))/f) + (c*sin(g) + (sqrt(a) + cos(i))*tan(g) + sin(i)*cos(c) + sqrt(h)*tan(a)/e)*(c**2*j**3 + d**3*sin(i) + h**2*tan(g)/f + tan(a)/(e*f)) + (d**3*sin(a) + i**2*j**3*sin(j) + h**2*sqrt(i)/f + (b**4 + sqrt(h))/f)*(sqrt(h)*(b**4 + sqrt(h)) + sqrt(i)*(sqrt(a) + cos(i)) + sin(a)*cos(c) + i**2*sin(g)*sin(j)/c) + (b**2*d**3*e**4 + d**3*h**2/f + j**3*(g**4 + cos(f)) + g**2/f)*(b**2*e**4*cos(c) + d**3*(sqrt(a) + cos(i)) + g**2*sqrt(h) + (g**4 + cos(f))*sin(g)/c), (h**(9/2) + (sqrt(a) + cos(i))*(c**4 + tan(f)) + sin(i)*cos(c) + sin(f)*sin(g)/c)*(c**2*sin(f)/h + h**4*(sin(a) + cos(b)) + (c**4 + tan(f))/c + sin(i)/c) + (c*sin(g) + (sqrt(a) + cos(i))*tan(g) + sin(i)*cos(c) + sqrt(h)*tan(a)/e)*(c**4/h + (sin(a) + cos(b))*tan(a)/e + sin(i)/c + tan(g)/c) + (sqrt(h)*(b**4 + sqrt(h)) + sqrt(i)*(sqrt(a) + cos(i)) + sin(a)*cos(c) + i**2*sin(g)*sin(j)/c)*(c**2*i**2*sin(j)/h + (b**4 + sqrt(h))*(sin(a) + cos(b)) + sqrt(i)/c + sin(a)/c) + (b**2*e**4/c + c**2*(g**4 + cos(f))/h + g**2*(sin(a) + cos(b)) + d**3/c)*(b**2*e**4*cos(c) + d**3*(sqrt(a) + cos(i)) + g**2*sqrt(h) + (g**4 + cos(f))*sin(g)/c), (h**(9/2) + (sqrt(a) + cos(i))*(c**4 + tan(f)) + sin(i)*cos(c) + sin(f)*sin(g)/c)*(sqrt(b)*g**2*sin(f) + sqrt(e)*sin(i) + f**2*h**4 + (c**4 + tan(f))*tan(i)) + (c*sin(g) + (sqrt(a) + cos(i))*tan(g) + sin(i)*cos(c) + sqrt(h)*tan(a)/e)*(sqrt(b)*c**2*g**2 + sqrt(e)*sin(i) + tan(g)*tan(i) + f**2*tan(a)/e) + (sqrt(h)*(b**4 + sqrt(h)) + sqrt(i)*(sqrt(a) + cos(i)) + sin(a)*cos(c) + i**2*sin(g)*sin(j)/c)*(sqrt(b)*g**2*i**2*sin(j) + sqrt(e)*sin(a) + f**2*(b**4 + sqrt(h)) + sqrt(i)*tan(i)) + (sqrt(b)*g**2*(g**4 + cos(f)) + b**2*e**(9/2) + d**3*tan(i) + f**2*g**2)*(b**2*e**4*cos(c) + d**3*(sqrt(a) + cos(i)) + g**2*sqrt(h) + (g**4 + cos(f))*sin(g)/c)],
[                                                  (h**(9/2) + (sqrt(a) + cos(i))*(c**4 + tan(f)) + sin(i)*cos(c) + sin(f)*sin(g)/c)*(d**3*sin(i) + j**3*sin(f) + h**4/f + h**2*(c**4 + tan(f))/f) + (c*sin(g) + (sqrt(a) + cos(i))*tan(g) + sin(i)*cos(c) + sqrt(h)*tan(a)/e)*(c**2*j**3 + d**3*sin(i) + h**2*tan(g)/f + tan(a)/(e*f)) + (d**3*sin(a) + i**2*j**3*sin(j) + h**2*sqrt(i)/f + (b**4 + sqrt(h))/f)*(sqrt(h)*(b**4 + sqrt(h)) + sqrt(i)*(sqrt(a) + cos(i)) + sin(a)*cos(c) + i**2*sin(g)*sin(j)/c) + (b**2*d**3*e**4 + d**3*h**2/f + j**3*(g**4 + cos(f)) + g**2/f)*(b**2*e**4*cos(c) + d**3*(sqrt(a) + cos(i)) + g**2*sqrt(h) + (g**4 + cos(f))*sin(g)/c),                                                                                                                                                                                                                                                                                                                                       (c**2*j**3 + d**3*sin(i) + h**2*tan(g)/f + tan(a)/(e*f))**2 + (d**3*sin(a) + i**2*j**3*sin(j) + h**2*sqrt(i)/f + (b**4 + sqrt(h))/f)**2 + (d**3*sin(i) + j**3*sin(f) + h**4/f + h**2*(c**4 + tan(f))/f)**2 + (b**2*d**3*e**4 + d**3*h**2/f + j**3*(g**4 + cos(f)) + g**2/f)**2,                                                                                      (c**2*j**3 + d**3*sin(i) + h**2*tan(g)/f + tan(a)/(e*f))*(c**4/h + (sin(a) + cos(b))*tan(a)/e + sin(i)/c + tan(g)/c) + (d**3*sin(a) + i**2*j**3*sin(j) + h**2*sqrt(i)/f + (b**4 + sqrt(h))/f)*(c**2*i**2*sin(j)/h + (b**4 + sqrt(h))*(sin(a) + cos(b)) + sqrt(i)/c + sin(a)/c) + (d**3*sin(i) + j**3*sin(f) + h**4/f + h**2*(c**4 + tan(f))/f)*(c**2*sin(f)/h + h**4*(sin(a) + cos(b)) + (c**4 + tan(f))/c + sin(i)/c) + (b**2*e**4/c + c**2*(g**4 + cos(f))/h + g**2*(sin(a) + cos(b)) + d**3/c)*(b**2*d**3*e**4 + d**3*h**2/f + j**3*(g**4 + cos(f)) + g**2/f),                                                                                      (c**2*j**3 + d**3*sin(i) + h**2*tan(g)/f + tan(a)/(e*f))*(sqrt(b)*c**2*g**2 + sqrt(e)*sin(i) + tan(g)*tan(i) + f**2*tan(a)/e) + (d**3*sin(a) + i**2*j**3*sin(j) + h**2*sqrt(i)/f + (b**4 + sqrt(h))/f)*(sqrt(b)*g**2*i**2*sin(j) + sqrt(e)*sin(a) + f**2*(b**4 + sqrt(h)) + sqrt(i)*tan(i)) + (d**3*sin(i) + j**3*sin(f) + h**4/f + h**2*(c**4 + tan(f))/f)*(sqrt(b)*g**2*sin(f) + sqrt(e)*sin(i) + f**2*h**4 + (c**4 + tan(f))*tan(i)) + (sqrt(b)*g**2*(g**4 + cos(f)) + b**2*e**(9/2) + d**3*tan(i) + f**2*g**2)*(b**2*d**3*e**4 + d**3*h**2/f + j**3*(g**4 + cos(f)) + g**2/f)],
[                 (h**(9/2) + (sqrt(a) + cos(i))*(c**4 + tan(f)) + sin(i)*cos(c) + sin(f)*sin(g)/c)*(c**2*sin(f)/h + h**4*(sin(a) + cos(b)) + (c**4 + tan(f))/c + sin(i)/c) + (c*sin(g) + (sqrt(a) + cos(i))*tan(g) + sin(i)*cos(c) + sqrt(h)*tan(a)/e)*(c**4/h + (sin(a) + cos(b))*tan(a)/e + sin(i)/c + tan(g)/c) + (sqrt(h)*(b**4 + sqrt(h)) + sqrt(i)*(sqrt(a) + cos(i)) + sin(a)*cos(c) + i**2*sin(g)*sin(j)/c)*(c**2*i**2*sin(j)/h + (b**4 + sqrt(h))*(sin(a) + cos(b)) + sqrt(i)/c + sin(a)/c) + (b**2*e**4/c + c**2*(g**4 + cos(f))/h + g**2*(sin(a) + cos(b)) + d**3/c)*(b**2*e**4*cos(c) + d**3*(sqrt(a) + cos(i)) + g**2*sqrt(h) + (g**4 + cos(f))*sin(g)/c),                                                     (c**2*j**3 + d**3*sin(i) + h**2*tan(g)/f + tan(a)/(e*f))*(c**4/h + (sin(a) + cos(b))*tan(a)/e + sin(i)/c + tan(g)/c) + (d**3*sin(a) + i**2*j**3*sin(j) + h**2*sqrt(i)/f + (b**4 + sqrt(h))/f)*(c**2*i**2*sin(j)/h + (b**4 + sqrt(h))*(sin(a) + cos(b)) + sqrt(i)/c + sin(a)/c) + (d**3*sin(i) + j**3*sin(f) + h**4/f + h**2*(c**4 + tan(f))/f)*(c**2*sin(f)/h + h**4*(sin(a) + cos(b)) + (c**4 + tan(f))/c + sin(i)/c) + (b**2*e**4/c + c**2*(g**4 + cos(f))/h + g**2*(sin(a) + cos(b)) + d**3/c)*(b**2*d**3*e**4 + d**3*h**2/f + j**3*(g**4 + cos(f)) + g**2/f),                                                                                                                                                                                                                                                                                                                                       (c**4/h + (sin(a) + cos(b))*tan(a)/e + sin(i)/c + tan(g)/c)**2 + (b**2*e**4/c + c**2*(g**4 + cos(f))/h + g**2*(sin(a) + cos(b)) + d**3/c)**2 + (c**2*sin(f)/h + h**4*(sin(a) + cos(b)) + (c**4 + tan(f))/c + sin(i)/c)**2 + (c**2*i**2*sin(j)/h + (b**4 + sqrt(h))*(sin(a) + cos(b)) + sqrt(i)/c + sin(a)/c)**2,                                                     (c**4/h + (sin(a) + cos(b))*tan(a)/e + sin(i)/c + tan(g)/c)*(sqrt(b)*c**2*g**2 + sqrt(e)*sin(i) + tan(g)*tan(i) + f**2*tan(a)/e) + (sqrt(b)*g**2*(g**4 + cos(f)) + b**2*e**(9/2) + d**3*tan(i) + f**2*g**2)*(b**2*e**4/c + c**2*(g**4 + cos(f))/h + g**2*(sin(a) + cos(b)) + d**3/c) + (sqrt(b)*g**2*sin(f) + sqrt(e)*sin(i) + f**2*h**4 + (c**4 + tan(f))*tan(i))*(c**2*sin(f)/h + h**4*(sin(a) + cos(b)) + (c**4 + tan(f))/c + sin(i)/c) + (sqrt(b)*g**2*i**2*sin(j) + sqrt(e)*sin(a) + f**2*(b**4 + sqrt(h)) + sqrt(i)*tan(i))*(c**2*i**2*sin(j)/h + (b**4 + sqrt(h))*(sin(a) + cos(b)) + sqrt(i)/c + sin(a)/c)],
[(h**(9/2) + (sqrt(a) + cos(i))*(c**4 + tan(f)) + sin(i)*cos(c) + sin(f)*sin(g)/c)*(sqrt(b)*g**2*sin(f) + sqrt(e)*sin(i) + f**2*h**4 + (c**4 + tan(f))*tan(i)) + (c*sin(g) + (sqrt(a) + cos(i))*tan(g) + sin(i)*cos(c) + sqrt(h)*tan(a)/e)*(sqrt(b)*c**2*g**2 + sqrt(e)*sin(i) + tan(g)*tan(i) + f**2*tan(a)/e) + (sqrt(h)*(b**4 + sqrt(h)) + sqrt(i)*(sqrt(a) + cos(i)) + sin(a)*cos(c) + i**2*sin(g)*sin(j)/c)*(sqrt(b)*g**2*i**2*sin(j) + sqrt(e)*sin(a) + f**2*(b**4 + sqrt(h)) + sqrt(i)*tan(i)) + (sqrt(b)*g**2*(g**4 + cos(f)) + b**2*e**(9/2) + d**3*tan(i) + f**2*g**2)*(b**2*e**4*cos(c) + d**3*(sqrt(a) + cos(i)) + g**2*sqrt(h) + (g**4 + cos(f))*sin(g)/c),                                    (c**2*j**3 + d**3*sin(i) + h**2*tan(g)/f + tan(a)/(e*f))*(sqrt(b)*c**2*g**2 + sqrt(e)*sin(i) + tan(g)*tan(i) + f**2*tan(a)/e) + (d**3*sin(a) + i**2*j**3*sin(j) + h**2*sqrt(i)/f + (b**4 + sqrt(h))/f)*(sqrt(b)*g**2*i**2*sin(j) + sqrt(e)*sin(a) + f**2*(b**4 + sqrt(h)) + sqrt(i)*tan(i)) + (d**3*sin(i) + j**3*sin(f) + h**4/f + h**2*(c**4 + tan(f))/f)*(sqrt(b)*g**2*sin(f) + sqrt(e)*sin(i) + f**2*h**4 + (c**4 + tan(f))*tan(i)) + (sqrt(b)*g**2*(g**4 + cos(f)) + b**2*e**(9/2) + d**3*tan(i) + f**2*g**2)*(b**2*d**3*e**4 + d**3*h**2/f + j**3*(g**4 + cos(f)) + g**2/f),                                    (c**4/h + (sin(a) + cos(b))*tan(a)/e + sin(i)/c + tan(g)/c)*(sqrt(b)*c**2*g**2 + sqrt(e)*sin(i) + tan(g)*tan(i) + f**2*tan(a)/e) + (sqrt(b)*g**2*(g**4 + cos(f)) + b**2*e**(9/2) + d**3*tan(i) + f**2*g**2)*(b**2*e**4/c + c**2*(g**4 + cos(f))/h + g**2*(sin(a) + cos(b)) + d**3/c) + (sqrt(b)*g**2*sin(f) + sqrt(e)*sin(i) + f**2*h**4 + (c**4 + tan(f))*tan(i))*(c**2*sin(f)/h + h**4*(sin(a) + cos(b)) + (c**4 + tan(f))/c + sin(i)/c) + (sqrt(b)*g**2*i**2*sin(j) + sqrt(e)*sin(a) + f**2*(b**4 + sqrt(h)) + sqrt(i)*tan(i))*(c**2*i**2*sin(j)/h + (b**4 + sqrt(h))*(sin(a) + cos(b)) + sqrt(i)/c + sin(a)/c),                                                                                                                                                                                                                                                                                                                                       (sqrt(b)*c**2*g**2 + sqrt(e)*sin(i) + tan(g)*tan(i) + f**2*tan(a)/e)**2 + (sqrt(b)*g**2*(g**4 + cos(f)) + b**2*e**(9/2) + d**3*tan(i) + f**2*g**2)**2 + (sqrt(b)*g**2*sin(f) + sqrt(e)*sin(i) + f**2*h**4 + (c**4 + tan(f))*tan(i))**2 + (sqrt(b)*g**2*i**2*sin(j) + sqrt(e)*sin(a) + f**2*(b**4 + sqrt(h)) + sqrt(i)*tan(i))**2]])
</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In [12]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight-ipynb"><pre class="ipynb"><span class="n">B</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">
    Out[12]:</div>


<div class="output_text output_subarea output_pyout">
<pre>Matrix([
[                 a**3 + d**4 + g**2],
[a**4 + f**2 + sin(g) + tan(e) + 1/d],
[                         f**2 + 1/g],
[                             sin(d)]])
</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Yikes, that's some ugly stuff. Let's see how the various methods fair against that:</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In [13]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight-ipynb"><pre class="ipynb"><span class="c"># Run the benchmarks</span>
<span class="k">print</span><span class="p">(</span><span class="s">"Time for LUsolve: "</span><span class="p">,</span> <span class="n">timestmt</span><span class="p">(</span><span class="s">'A.LUsolve(B)'</span><span class="p">,</span> <span class="s">'from __main__ import A, B'</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
<span class="k">print</span><span class="p">(</span><span class="s">"Time for LDLsolve: "</span><span class="p">,</span> <span class="n">timestmt</span><span class="p">(</span><span class="s">'A.LDLsolve(B)'</span><span class="p">,</span> <span class="s">'from __main__ import A, B'</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
<span class="k">print</span><span class="p">(</span><span class="s">"Time for cholesky_solve: "</span><span class="p">,</span> <span class="n">timestmt</span><span class="p">(</span><span class="s">'A.cholesky_solve(B)'</span><span class="p">,</span> <span class="s">'from __main__ import A, B'</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
<span class="k">print</span><span class="p">(</span><span class="s">"Time for _mat_inv_mul: "</span><span class="p">,</span> <span class="n">timestmt</span><span class="p">(</span><span class="s">'_mat_inv_mul(A, B)'</span><span class="p">,</span> <span class="s">'from __main__ import A, B, _mat_inv_mul'</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>Time for LUsolve:  0.0034651060013857204
Time for LDLsolve:  0.009068403000128455
Time for cholesky_solve:  0.006806592999055283
Time for _mat_inv_mul:  144.967967898001

</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>From this it can be seen that <code>_mat_inv_mul</code> is <em>far</em> slower than the other three methods, even for extremely complex matrices. There doesn't seem to be any benefit to the intermediate <code>subs</code> step.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="benchmark-expression-size">Benchmark: Expression Size</h1>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>This isn't a time benchmark. Rather, it's a measurment of the resulting expression's readability. If <code>LUsolve</code> is faster, but results in a less compact expression than <code>LDLsolve</code>, then it may be more beneficial to go with the latter. To test this we'll measure the number of operations using the <code>count_ops</code> method. This is a rough metric of the compactness of the solution.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In [14]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight-ipynb"><pre class="ipynb"><span class="kn">from</span> <span class="nn">sympy</span> <span class="kn">import</span> <span class="n">count_ops</span>
<span class="c"># Run the benchmark for varying values of n, with max_terms = 2</span>
<span class="n">ns</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>
<span class="n">lu_nops</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">ldl_nops</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">chol_nops</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">matinv_nops</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">ns</span><span class="p">:</span>
    <span class="n">A</span> <span class="o">=</span> <span class="n">symrandmat</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
    <span class="n">B</span> <span class="o">=</span> <span class="n">randmat</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
    <span class="c"># Solve the system</span>
    <span class="n">sol_LU</span> <span class="o">=</span> <span class="n">A</span><span class="o">.</span><span class="n">LUsolve</span><span class="p">(</span><span class="n">B</span><span class="p">)</span>
    <span class="n">sol_LDL</span> <span class="o">=</span> <span class="n">A</span><span class="o">.</span><span class="n">LDLsolve</span><span class="p">(</span><span class="n">B</span><span class="p">)</span>
    <span class="n">sol_chol</span> <span class="o">=</span> <span class="n">A</span><span class="o">.</span><span class="n">cholesky_solve</span><span class="p">(</span><span class="n">B</span><span class="p">)</span>
    <span class="n">sol_matinv</span> <span class="o">=</span> <span class="n">_mat_inv_mul</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">)</span>
    <span class="c"># Count the number of ops</span>
    <span class="n">lu_nops</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">count_ops</span><span class="p">(</span><span class="n">sol_LU</span><span class="p">))</span>
    <span class="n">ldl_nops</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">count_ops</span><span class="p">(</span><span class="n">sol_LDL</span><span class="p">))</span>
    <span class="n">chol_nops</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">count_ops</span><span class="p">(</span><span class="n">sol_chol</span><span class="p">))</span>
    <span class="n">matinv_nops</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">count_ops</span><span class="p">(</span><span class="n">sol_matinv</span><span class="p">))</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In [15]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight-ipynb"><pre class="ipynb"><span class="c"># Plot the results</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ns</span><span class="p">,</span> <span class="n">lu_nops</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s">'A.LUsolve(B)'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ns</span><span class="p">,</span> <span class="n">ldl_nops</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s">'A.LDLsolve(B)'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ns</span><span class="p">,</span> <span class="n">chol_nops</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s">'A.cholesky_solve(B)'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ns</span><span class="p">,</span> <span class="n">matinv_nops</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s">'mat_inv_mul(A, B)'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s">'Matrix Dimensions'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s">'Number of Operations'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s">'Expression Size for Solution to A*x = b'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ns</span><span class="p">,</span> <span class="n">lu_nops</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s">'A.LUsolve(B)'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ns</span><span class="p">,</span> <span class="n">ldl_nops</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s">'A.LDLsolve(B)'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ns</span><span class="p">,</span> <span class="n">chol_nops</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s">'A.cholesky_solve(B)'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s">'Matrix Dimensions'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s">'Number of Operations'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s">'Expression Size for Solution to A*x = b'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>


<div class="output_png output_subarea ">
<img />
</div>

</div>

<div class="output_area"><div class="prompt"></div>


<div class="output_png output_subarea ">
<img />
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Observing the above plots, once again <code>_mat_inv_mul</code> comes out as the worst (by far). The remaining three barely differ, but <code>LUsolve</code> results in the most compact expression.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="discussion-of-results">Discussion of Results</h1>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Overall, <code>_mat_inv_mul</code> comes out the worst for every benchmark, and <code>LUsolve</code> comes out the best. Unless I did something wrong with my benchmarks <code>LUsolve</code> should replace every call to <code>_mat_inv_mul</code> in <code>mechanics</code>. It results in a more compact form, and has several order of magnitude faster running speed.</p>
<p>This surprised me. I would have thought that a more complicated expression would take longer to solve, but as seen in the second benchmark matrix complexity had no effect on running speed for the three solution algorithms (although it did affect the substitution speed for <code>_mat_inv_mul</code>). I suppose that's why you're always told to profile <em>before</em> you optimize. Often your intuition is wrong.</p>
<p>Something else that surprised me was that <code>LDLsolve</code> and <code>cholesky_solve</code> had a slower running time than <code>LUsolve</code>. For numerical symmetric matrices, this shouldn't be the case. I wasn't able to find anything about symbolic calculation of these decompositions, but I assume it should be about the same. Either way, the more general LU decomposition seems to be the fastest.</p>
<hr />
<p><em>Did I do something wrong? Disagree with these benchmarks? Let me know in the comments below!</em></p>
</div>
</div>
</div><p></p></div>







<p class="date">
<a href="http://jcrist.github.io/gsoc-week-5.html">by Jim Crist at June 20, 2014 07:00 PM</a>
</p>
</div>
</div>


</div>

</div>
<div class="daygroup">
<h2>June 19, 2014</h2>

<div class="channelgroup">







<h3><a href="http://fa.bianp.net/blog/" title="I say things">Fabian Pedregosa</a></h3>


<div class="entrygroup" id="tag:fa.bianp.net,2014-06-20:blog/2014/surrogate-loss-functions-in-machine-learning/">
<h4><a href="http://fa.bianp.net/blog/2014/surrogate-loss-functions-in-machine-learning/">Surrogate Loss Functions in Machine Learning</a></h4>
<div class="entry">
<div class="content">
<p><span class="bold">TL; DR</span> These are some notes on calibration of surrogate loss functions in the context of machine learning. But mostly it is an excuse to post some images I made.</p>
<p>In the binary-class classification setting we are given $n$ training samples $\{(X_1, Y_1), \ldots, (X_n, Y_n)\}$, where $X_i$ belongs to some sample space $\mathcal{X}$, usually $\mathbb{R}^p$ but for the purpose of this post we can keep i abstract, and $y_i \in \{-1, 1\}$ is an integer representing the class label. </p>
<p>We are also given a loss function $\ell: \{-1, 1\} \times \{-1, 1\} \to \mathbb{R}$ that measures the error of a given prediction. The value of the loss function $\ell$ at an arbitrary point $(y, \hat{y})$ is interpreted as the cost incurred by predicting $\hat{y}$ when the true label is $y$. In classification this function is often the zero-one loss, that is, $\ell(y, \hat{y})$ is zero when $y = \hat{y}$  and one otherwise.</p>
<p>The goal is to find a function $h: \mathcal{X} \to [k]$, the classifier, with the smallest expected loss on a new sample. In other words, we seek to find a function $h$ that minimizes the expected $\ell$-risk, given by 
$$
\mathcal{R}_{\ell}(h) = \mathbb{E}_{XY}[\ell(Y, h(X))]
$$</p>
<p>In theory, we could directly minimize the $\ell$-risk and we would have the optimal classifier, also known as <em>Bayes predictor</em>. However, there are several problems associated with this approach. One is that the probability distribution of $XY$ is unknown, thus computing the exact expected value is not feasible. It must be approximated by the empirical risk. Another issue is that this quantity is difficult to optimize because the function $\ell$ is discontinuous. Take for example a problem in which $\mathcal{X} = \mathbb{R}^2, k=2$, and we seek to find the linear function $f(X) = \text{sign}(X w), w \in \mathbb{R}^2$  and that minimizes the $\ell$-risk. As a function of the parameter $w$ this function looks something like</p>
<div style="text-align: center;">
<img width="350px" alt="loss as function of w" style="margin-top: 0px;" src="http://fa.bianp.net/blog/images/2014/loss_01.png" />
</div>

<p>This function is discontinuous with large, flat regions and is thus extremely hard to optimize using gradient-based methods. For this reason it is usual to consider a proxy to the loss called a <em>surrogate loss function</em>. For computational reasons this is usually convex function $\Psi: \mathbb{R}  \to \mathbb{R}_+$. An example of such surrogate loss functions is the <em>hinge loss</em>, $\Psi(t) = \max(1-t, 0)$, which is the loss used by Support Vector Machines (SVMs). Another example is the logistic loss, $\Psi(t) = 1/(1 + \exp(-t))$, used by the logistic regression model. If we consider the logistic loss, minimizing the $\Psi$-risk, given by $\mathbb{E}_{XY}[\Psi(Y, f(X))]$, of the function $f(X) = X w$ becomes a much more more tractable optimization problem:</p>
<div style="text-align: center;">
<img src="http://fa.bianp.net/blog/images/2014/loss_log.png" style="margin-top: 0px;" width="350px" />
</div>

<p>In short, we have replaced the $\ell$-risk which is computationally difficult to optimize with the $\Psi$-risk which has more advantageous properties. A natural questions to ask is how much have we lost by this change. The property of whether minimizing the $\Psi$-risk leads to a function that also minimizes the $\ell$-risk is often referred to as <em>consistency</em> or <em>calibration</em>. For a more formal definition see [<sup id="fnref:1"><a href="http://fa.bianp.net/blog/feed/#fn:1" class="footnote-ref" rel="footnote">1</a></sup>] and [<sup id="fnref:2"><a href="http://fa.bianp.net/blog/feed/#fn:2" class="footnote-ref" rel="footnote">2</a></sup>]. This property will depend on the surrogate function $\Psi$: for some functions $\Psi$ it will be verified the consistency property and for some not. One of the most useful characterizations was given in [<sup id="fnref:1"><a href="http://fa.bianp.net/blog/feed/#fn:1" class="footnote-ref" rel="footnote">1</a></sup>] and states that if $\Psi$ is convex then it is consistent if and only if it is differentiable at zero and $\Psi'(0) &lt; 0$. This includes most of the commonly used surrogate loss functions, including hinge, logistic regression and Huber loss functions.</p>
<div style="text-align: center;">
<img src="http://fa.bianp.net/blog/images/2014/loss_functions.png" style="margin-top: 0px;" width="550px" />
</div>

<div class="footnote">
<hr />
<ol>
<li id="fn:1">
<p>P. L. Bartlett, M. I. Jordan, and J. D. McAuliffe, “Convexity , Classification , and Risk Bounds,” J. Am. Stat. Assoc., pp. 1–36, 2003. <a href="http://fa.bianp.net/blog/feed/#fnref:1" rev="footnote" class="footnote-backref" title="Jump back to footnote 1 in the text">↩</a></p>
</li>
<li id="fn:2">
<p>A. Tewari and P. L. Bartlett, “On the Consistency of Multiclass Classification Methods,” J. Mach. Learn. Res., vol. 8, pp. 1007–1025, 2007. <a href="http://fa.bianp.net/blog/feed/#fnref:2" rev="footnote" class="footnote-backref" title="Jump back to footnote 2 in the text">↩</a></p>
</li>
</ol>
</div></div>







<p class="date">
<a href="http://fa.bianp.net/blog/2014/surrogate-loss-functions-in-machine-learning/">by Fabian Pedregosa at June 19, 2014 10:00 PM</a>
</p>
</div>
</div>



</div>
<div class="channelgroup">







<h3><a href="http://gsocblog.blogspot.com/" title="GSoC 2014 with SymPy">Avichal Dayal</a></h3>


<div class="entrygroup" id="tag:blogger.com,1999:blog-283806077182880539.post-821534238345280726">
<div class="entry">
<div class="content">
<div style="text-align: left;" dir="ltr">In this week I worked on Formal Power Series and getting my two PRs merged.<br /><br />While getting my PRs related to asymptotic expansion merged, I learned about how important documentation is and the little details that matter. I made some very silly mistakes causing delay in getting the PRs merged.<br /><br />Formal Power Series:<br />I made some good progress regarding FPS this week. As I said in the earlier post, I decided to go with lazy recursion to implement infinite power series.<br />In this a series is represented as a tuple of head and tail where head is the first term of the series while tail is rest of the infinite series.<br />Algorithms to do addition, subtraction, multiplication are very simple if we use recursion.<br />E.g.:-<br />series1 = (head1, tail1)<br />series2 = (head2, tail2)<br />Then,<br />- series1 + series2 = (head1+head2, tail1+tail2)<br />- series1 * series2 = (head1*head2, head1*tail2 + head2*tail1 + tail1*tail2)<br /><br />Similarly other operations like division, inversion, composition can be written.<br /><br />Along with this, I also finished implementing simpleDE, DEtoRE and somewhat solveRE methods. These methods are used to find the generator for a given function in x.<br />- simpleDE() converts function into a simple differential equation. This involved finding the number of rationally independent terms among a set of expressions. I coded a very inefficient solution with repeatedly dividing each term by other and checking if there quotient is a rational function. This is O(n**2) approach. There might be a better approach.<br />- DEtoRE() converts differential equation to a recurrence equation. This is a straightforward algorithm with simple substitutions.<br /><br />Next week:<br />Since the operations on infinite series are a recursive process, I guess there is a problem of memory management with my code. Operations like division, multiplication are highly recursive creating Stream class numerous times. Upon giving high value of "n" while printing terms, it gives a "maximum recursion depth" error.<br />I will work on this and add more operations to Stream class.</div></div>







<p class="date">
<a href="http://gsocblog.blogspot.com/2014/06/in-this-week-i-worked-on-formal-power.html">by Avichal Dayal (noreply@blogger.com) at June 19, 2014 04:40 PM</a>
</p>
</div>
</div>


</div>

</div>
<div class="daygroup">
<h2>June 18, 2014</h2>

<div class="channelgroup">







<h3><a href="https://hargup.github.io/" title="Harsh's blog">Harsh Gupta</a></h3>


<div class="entrygroup" id="https://hargup.github.io/posts/week-4.html">
<h4 lang="en"><a href="https://hargup.github.io/posts/week-4.html">week 4</a></h4>
<div class="entry">
<div class="content">
<div><h3>Intersections of Infinitely indexed sets</h3>
<p>This week I implemented a method to do intersection of imagesets using the
solutions of Diophantine equations at <a href="https://github.com/sympy/sympy/pull/7587">PR</a>.</p>
<p>Say you have
to find the intersection of sets <code>2*n| n in Integers</code> and <code>3*m| m in Integers</code>.
The intersection of these sets is the set of the common values in the two sets,
which in this case is equivalent to the values of <code>n</code> for which the equation <code>2*n - 3*m</code> has
some integral solution in <code>m</code>. Or the values of <code>m</code> for which the <code>2*n - 3*m</code>
has some integral solution in <code>n</code>. Diophantine equations are equations for
which only integral solutions are searched for.
The Diophantine module was written by
<a href="https://github.com/thilinarmtb">Thilina</a> as his GSoC project last year.
It gives the parametric solution for such equation.</p>
<div class="code"><pre><span class="n">In</span> <span class="p">[</span><span class="mi">17</span><span class="p">]</span><span class="o">:</span> <span class="n">diophantine</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">n</span> <span class="o">-</span> <span class="mi">3</span><span class="o">*</span><span class="n">m</span><span class="p">)</span>
<span class="n">Out</span><span class="p">[</span><span class="mi">17</span><span class="p">]</span><span class="o">:</span> <span class="p">{(</span><span class="o">-</span><span class="mi">2</span><span class="o">*</span><span class="n">t</span><span class="p">,</span> <span class="o">-</span><span class="mi">3</span><span class="o">*</span><span class="n">t</span><span class="p">)}</span>
</pre></div>


<p>The Solution is sorted according to alphabetic order of the variables involved.
So the value of LHS (<code>2*n</code>) for which the equation is <code>2*(-3*t)</code> that is <code>-6*t</code>
and it is the intersection of the sets described above <code>-6*t| t in Integers</code>.
Since <code>-6*t| t in Integers</code> is same as <code>6*t| t in Integers</code> I also wrote some
simplification rules for the imagesets with Integers as baseset.</p>
<h3>Sets for Invert Function</h3>
<p>The sets module turned out to be better than I expected. I had a perception
that substitutions doesn't work properly with sets and I have even opened an
<a href="https://github.com/sympy/sympy/issues/7483">issue</a> for that but it turned out
I hadn't looked closely enough. It worked well for the free variables and it
didn't worked for the things it shouldn't work i.e., the bound variables in the
imagesets.</p>
<p>Using sets simplified the code. All the list comprehensions like this
<code>[i.subs(symbol, symbol/g) for i in _invert(h, symbol)]</code> were converted to
simple substitutions for sets and other sets operations.  <code>_invert(h,
symbol).subs(symbol, symbol/g)</code></p>
<p>Just by changing the output of invert to sets, then by adding the inverse of
trigonometric function and writing the code to rewrite then as tan I was able
to return all the solutions of the equations like <code>cos(x) + sin(x) == 0</code> it
turned to out to easier than I thought. Using sets as output makes thinking
about the mathematics of the solvers much more easier and the code comes
out to be pretty natural. Now when we can see the results I can surely say
there can be no better output for solvers than sets.</p>
<p>This week I'll study LambertW function and then code additional techniques to
solve real equations. I'll also try to figure out techniques to perform Union
on infinitely indexed sets.</p></div></div>







<p class="date">
<a href="https://hargup.github.io/posts/week-4.html">June 18, 2014 05:59 AM</a>
</p>
</div>
</div>


</div>

</div>
<div class="daygroup">
<h2>June 17, 2014</h2>

<div class="channelgroup">







<h3><a href="http://blog.s-d-b.com" title="SDB's Blog » SymPy">Soumya Dipta Biswas</a></h3>


<div class="entrygroup" id="http://blog.s-d-b.com/?p=67">
<h4 lang="en-US"><a href="http://blog.s-d-b.com/gsoc-2014-week-4/">GSoC 2014: Week 4</a></h4>
<div class="entry">
<div class="content" lang="en-US">
<p>Hello Everyone,</p>
<p>The majority of work this week was finishing up my previous work and creating the architecture for the First Order Logic module. Consequently, this post is concerned with First Order Logic (FoL) and is intended mostly for those who are not familiar with the concepts. If you find yourself comfortable with writing formulas in FoL then you can safely skip this post.</p>
<p>Before we go on to the discussion about First Order Logic, one very interesting topic that came up this week was the idea of an Atom. What is an atom for propositional logic? The classic answer amounts to anything that cannot be broken down further to yield simpler terms. Analogously, let us define a <code>literal</code> to mean any atom or its negation. So, <code>A</code> is a literal (and so is <code>~A</code>). How about <code>A &gt; B</code>. Without bordering on any ideas of higher order logic, let us tweak the definition of atom to mean anything that cannot be broken down <em>using propositional logic</em> to yield simpler terms. So, how does this definition change things? It means we can treat any expression that propositional logic can’t break down as a black box with the assumption that it will yield a boolean value once evaluated. Analogously, a literal is now any expression which cannot be simplified (in propositional logic) or its negation. This definition gives a lot more freedom and power to the idea of formulas. Ofcourse, one needs to keep in mind that it is compulsory for these <em>literals</em> to yield a boolean once evaluated (typically before propositional formula evaluation methods are called on the formula).</p>
<p>Ok, with that, we finish the first part our Propositional Logic post series. The future posts will be associated with First Order Logic before coming back to SAT (in propositional formula). For the remainder of the series the words First Order Logic and Predicate Logic will be used interchangeably (while there is some <a href="http://http://en.wikipedia.org/wiki/Predicate_logic" title="Predicate Logic">difference</a> between the two, we will ignore them. Finally beginning the actual discussion about FoL, let us start with some definitions.</p>
<ul>
<li><strong>Constant:</strong> Any object of the universe whose value remains the same throughout the expression. e.g. john, 1, computer, socrates</li>
<li><strong>Variable:</strong> An object which can take up any value from the domain. e.g. X, Y</li>
<li><strong>Function:</strong> A mapping of n-ary terms (see below) to a term. e.g. F(X, G(a, Y)), teacher(teacher(aristotle))</li>
<li><strong>Term:</strong> Any Constant, Variable or Function is called a Term.</li>
<li><strong>Predicate:</strong> A mapping of n-ary terms to a boolean value. e.g. IsTeacher(Socrates, plato)</li>
<li><strong>Quantifier:</strong> Quantifiers assert a particular property with respect to a bound variable. Q(X, IsTeacher(X, alexander)) Here Q is some quantifier (see below) and X is the bound variable.</li>
<li><strong>ForAll (∀)</strong>: Also known as Universal Quantifier, this asserts that for each value of the bound variable the expression holds True</li>
<li><strong>Exists (∃)</strong>: Also known as Existential Quantifier, this asserts that for atleast one of the values of the bound variable the expression holds True</li>
</ul>
<p>The above description is far from complete. Below are some more examples. For these examples assume that the program is intelligent enough to know the answer.</p>
<p></p><pre class="crayon-plain-tag"># All constants are in lowercase
# All variables are in uppercase
# All functions starts with a lowercase but subsequent words start with an uppercase
# All predicates follow camel casing

# teacher(person) is a function which maps a person to his teacher
&gt;&gt;&gt; teacher(alexander)
aristotle
&gt;&gt;&gt; teacher(teacher(aristotle))
'Socrates'

# f(X) = 2X + 3y + 1
&gt;&gt;&gt; f(X, Y)
Add(Mul(2, X), Mul(3, Y), 1)

# IsTeacher(a, b) is a predicate which returns if a is the teacher of b
&gt;&gt;&gt; IsTeacher(alexander, plato)
False

# Assume that the following properties hold for the relationship teacher
# If A is the teacher of B, and B is the teacher of C, then A is the teacher of C (Transitivity)
# A is always the teacher of A (Identity)
&gt;&gt;&gt; domain = [socrates, plato, aristotle, alexander]
&gt;&gt;&gt; ForAll(X, IsTeacher(X, alexander))
True
&gt;&gt;&gt; Exists(X, IsWarrior(X))
True
&gt;&gt;&gt; ForAll(X, IsWarrior(X))
False
&gt;&gt;&gt; Exists(X, InventedCalculus(X))
False

# f(x, y) = x + 2y
# g(x, y) = 2x + y
&gt;&gt;&gt; ForAll(X, ForAll(Y, Greater(f(X, Y), g(X, Y)))
False
&gt;&gt;&gt; Exists(X, Exists(Y, Greater(f(X, Y), g(X, Y)))
True</pre><p> </p>
<p>I hope the above examples make the definitions clearer. However SymPy is a symbolic library (rather than a numeric one). The implication of the same is that we are much less concerned about the value of the expression than the expression itself. For example, we will be predominantly dealing with functions, variables and predicates without being bothered by their (real life) values. What follows next are examples of conversion of natural language sentences to First Order Logic and their representation in SymPy. One would notice that we have only dealt with the new FoL concepts in the examples above and completely ignored the traditional propositional operators. Using the idea of Atom described at the beginning of this post, if we think of every Predicate (and Quantifier) as an Atom, then we can use every idea of propositional logic here. The examples below describe the complete idea.</p>
<p></p><pre class="crayon-plain-tag"># All dolphins all mammals
&gt;&gt;&gt; X = symbols('X')
&gt;&gt;&gt; Dolphin = Predicate('Dolphin')
&gt;&gt;&gt; Mammal = Predicate('Mammal')
&gt;&gt;&gt; ForAll(X, Dolphin(X) &gt;&gt; Mammal(X))
ForAll((X), Implies(Dolphin(X), Mammal(X)))


&gt;&gt;&gt; X, T = symbols('X T')
&gt;&gt;&gt; Person = Predicate('Person')
&gt;&gt;&gt; Time = Predicate('Time')
&gt;&gt;&gt; CanFool = Predicate('CanFool')

# You can fool some of the people all of the time
&gt;&gt;&gt; Exists(X, ForAll(T, (Person(X) &amp; Time(T)) &gt;&gt; CanFool(X, T)))
Exists((X), ForAll(T, Implies(And(Person(X), Time(T)), CanFool(X, T))))

# You can fool all of the people some of the time
&gt;&gt;&gt; ForAll(X, Exists(T, (Person(X) &amp; Time(T)) &gt;&gt; CanFool(X, T)))
ForAll((X), Exists(T, Implies(And(Person(X), Time(T)), CanFool(X, T))))

# You cannot fool all of the people all of the time
&gt;&gt;&gt; ~ForAll(X, ForAll(T, (Person(X) &amp; Time(T)) &gt;&gt; CanFool(X, T)))
Not(ForAll((X,T), Implies(And(Person(X), Time(T)), CanFool(X, T))))</pre><p> </p>
<p>I hope this should provide you with some basic idea about First Order Logic. I will be updating this post with ideas related to Interpretation/Model. Stay tuned.</p>
<p>Aloha!!!</p></div>







<p class="date">
<a href="http://blog.s-d-b.com/gsoc-2014-week-4/">by SD at June 17, 2014 08:54 PM</a>
</p>
</div>
</div>



</div>
<div class="channelgroup">







<h3><a href="http://geekpy.blogspot.com/" title="Akshay Narasimha">Akshay Narasimha</a></h3>


<div class="entrygroup" id="tag:blogger.com,1999:blog-54146973659574488.post-857251037734880412">
<h4><a href="http://geekpy.blogspot.com/2014/06/gsoc-week-4.html">Gsoc Week-4</a></h4>
<div class="entry">
<div class="content">
<div style="text-align: left;" dir="ltr">Week 4 of Gsoc has come to an end this week and I have decided the class structure of Plane which I am going to implement in the following week.<br /><a href="https://github.com/akshayah3/sympy/blob/Plane/sympy/geometry/plane.py">Here</a> is the link to the Plane class I have implemented so far.<br /><br />A plane can be represented with the help of 3 points or with a point and a normal vector to the desired plane. Regarding which implementation to follow , I had a long discussion with Stefan and decided to go with the latter as 3 points will be redundant in the algorithms I am planning to implement.<br /><br />Implementation:<br /><span class="sd">&gt;&gt;&gt; a = Plane(Point3D(1, 1, 1), Point3D(2, 3, 4), Point3D(2, 2, 2)</span><br /><span class="sd">&gt;&gt;&gt;a </span><br /><span class="sd">Plane(Point3D(1,  1, 1), [-1, 2, -1])</span><br /><span class="sd">&gt;&gt;&gt; b =Plane(Point3D(1, 1, 1), normal_vector=[1, 3, 5])</span><br /><span class="sd">&gt;&gt;&gt; b </span><br /><span class="sd">Plane(Point3D(1, 1, 1), [1, 3, 5])</span><br /><span class="sd">&gt;&gt;&gt; b.equation()</span><br /><span class="sd"> x + 3*y + 5*z - 9</span><br /><span class="sd"><br /></span>I plan to continue the work on the Plane class this week an will add more methods to it. <br /><br />Until then cheers!</div></div>







<p class="date">
<a href="http://geekpy.blogspot.com/2014/06/gsoc-week-4.html">by Akshay Narasimha (noreply@blogger.com) at June 17, 2014 01:47 PM</a>
</p>
</div>
</div>



</div>
<div class="channelgroup">







<h3><a href="http://tarzzz.github.io/gsoc14" title="Tarun Gaba's blog - GSoC">Tarun Gaba</a></h3>


<div class="entrygroup" id="http://tarzzz.github.io/gsoc14/fourth-week.html">
<h4><a href="http://tarzzz.github.io/gsoc14/fourth-week.html">GSoC 14: Fourth Week!</a></h4>
<div class="entry">
<div class="content">
{% include JB/setup %}


[ &lt;-Back to posts ](/gsoc14)

Fourth week of GSoC'14 has ended. This week has been no less than an adventure for me. 
A lot of stuff happened in this week, which I will try to elaborate in this post.
Meanwhile, something to be proud about:

<img src="http://tarzzz.github.io/fourth-week.png" alt="Screenshot" width="800" height="500" />



###Accomplishments:

  - **PyDy Visualizer UI**: I have been working on a refined UI for the visualizer. The critical components
    of the UI are nearly complete, and are working inside the IPython notebook. It is a great accomplishment, as
    I was initially skeptical about binding buttons and events _inside_ the notebook's output cell, all thanks to 
    the new features in IPython2.0. Also apart from the UI, the THREE animations are also working inside the 
    output cell. 

  
###Objectives:
  
For the upcoming week, I am supposed to make the UI elements as well as backend functionality
for changing the visualization objects via GUI itself. The objects changed should be passed
to python side using IPython notebook's Javascript API. 

This implementation will mean a fully functional visualizer in place, which can be plugged 
into the PyDy package for usage.


###Issues:

There are two main issues which need to be addressed right now:

  - The animations are buggy, and are not behaving the way they are expected to behave.
    Probably there is some problem with the object rendering code.

  - The Javascript Libraries(Prototype.js and jQuery) are conflicting with each other, 
    and with those included in native IPython notebook. This is a major issue which needs
    to be addressed, as it leads to unexpected behavior when the visualizations are run 
    inside the notebook, leading to notebook freeze.



Just a week left before the midterm evaluations start, and I have to get a lot before 
the deliverables are met. I really hope that the pending issues are addressed before 
the evaluations, so that I can merge a stable visualizer with the PyDy repository.






[ &lt;-Back to posts ](/gsoc14)</div>







<p class="date">
<a href="http://tarzzz.github.io/gsoc14/fourth-week.html">June 17, 2014 10:00 AM</a>
</p>
</div>
</div>


</div>

</div>
<div class="daygroup">
<h2>June 16, 2014</h2>

<div class="channelgroup">







<h3><a href="http://lifelesscode.blogspot.com/search/label/sympy" title="Shortlog">Sudhanshu Mishra</a></h3>


<div class="entrygroup" id="tag:blogger.com,1999:blog-8847459392628952171.post-2737301790391464158">
<h4><a href="http://lifelesscode.blogspot.com/2014/06/gsoc14-progress-week-4-finished-medium.html">GSoC'14 progress, week 4: finished medium, working on Fermat's principle and Snell's law</a></h4>
<div class="entry">
<div class="content">
<div style="text-align: left;" dir="ltr"><div style="color: #444444; font-family: Arvo, 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 13px; line-height: 18px; margin-bottom: 9px;">It was a great week! My last to last PR, on enhancing <code style="background-color: #f7f7f9; border-bottom-left-radius: 3px; border-bottom-right-radius: 3px; border-top-left-radius: 3px; border-top-right-radius: 3px; border: 1px solid rgb(225, 225, 232); color: #dd1144; font-family: Consolas, 'Liberation Mono', Courier, monospace !important; font-size: 12px; padding: 3px 4px;">TWave</code>, got merged! I have also finished<code style="background-color: #f7f7f9; border-bottom-left-radius: 3px; border-bottom-right-radius: 3px; border-top-left-radius: 3px; border-top-right-radius: 3px; border: 1px solid rgb(225, 225, 232); color: #dd1144; font-family: Consolas, 'Liberation Mono', Courier, monospace !important; font-size: 12px; padding: 3px 4px;">Medium</code> and waiting for Sean's comments on it. Here's the link to that PR:</div><div style="color: #444444; font-family: Arvo, 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 13px; line-height: 18px; margin-bottom: 9px;"><a style="color: blue;" href="https://github.com/sympy/sympy/pull/7580">https://github.com/sympy/sympy/pull/7580</a></div><div style="color: #444444; font-family: Arvo, 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 13px; line-height: 18px; margin-bottom: 9px;">I still have a <em style="">todo</em> in the tests:</div><pre style=""><code style="background-color: transparent; border-bottom-left-radius: 3px; border-bottom-right-radius: 3px; border-top-left-radius: 3px; border-top-right-radius: 3px; border: 0px; color: inherit; font-family: Consolas, 'Liberation Mono', Courier, monospace !important; padding: 0px;">m5 = Medium(<span style="color: #dd1144;" class="hljs-string">'m5'</span>, permittivity=<span style="color: #009999;" class="hljs-number">710</span><span style="color: teal;" class="hljs-variable">*10</span><span style="color: teal;" class="hljs-variable">**</span>(-<span style="color: #009999;" class="hljs-number">12</span>)<span style="color: teal;" class="hljs-variable">*s</span><span style="color: teal;" class="hljs-variable">**</span><span style="color: #009999;" class="hljs-number">4</span><span style="color: teal;" class="hljs-variable">*A</span><span style="color: teal;" class="hljs-variable">**</span><span style="color: #009999;" class="hljs-number">2</span>/(<span style="color: #333333; font-weight: bold;" class="hljs-keyword">m</span><span style="color: teal;" class="hljs-variable">**</span><span style="color: #009999;" class="hljs-number">3</span><span style="color: teal;" class="hljs-variable">*kg</span>), n=<span style="color: #009999;" class="hljs-number">1.33</span>)<br />assert simplify(m5.intrinsic_impedance - <span style="color: #009999;" class="hljs-number">6.24845417765552</span><span style="color: teal;" class="hljs-variable">*kg</span><span style="color: teal;" class="hljs-variable">*m</span><span style="color: teal;" class="hljs-variable">**</span><span style="color: #009999;" class="hljs-number">2</span>/(A<span style="color: teal;" class="hljs-variable">**</span><span style="color: #009999;" class="hljs-number">2</span><span style="color: teal;" class="hljs-variable">*s</span><span style="color: teal;" class="hljs-variable">**</span><span style="color: #009999;" class="hljs-number">3</span>)) == <span style="color: #009999;" class="hljs-number">0</span><br /><span style="color: #999988; font-style: italic;" class="hljs-comment"># XXX: This is supposed to be zero but it turns out to be</span><br /><span style="color: #999988; font-style: italic;" class="hljs-comment"># very close to zero and not zero.</span><br /><span style="color: #999988; font-style: italic;" class="hljs-comment"># assert simplify(m5.speed - 225407863.157895*m/s) == 0</span><br /></code></pre><div style="color: #444444; font-family: Arvo, 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 13px; line-height: 18px; margin-bottom: 9px;">This <code style="background-color: #f7f7f9; border-bottom-left-radius: 3px; border-bottom-right-radius: 3px; border-top-left-radius: 3px; border-top-right-radius: 3px; border: 1px solid rgb(225, 225, 232); color: #dd1144; font-family: Consolas, 'Liberation Mono', Courier, monospace !important; font-size: 12px; padding: 3px 4px;">m5.speed</code> is equal to <code style="background-color: #f7f7f9; border-bottom-left-radius: 3px; border-bottom-right-radius: 3px; border-top-left-radius: 3px; border-top-right-radius: 3px; border: 1px solid rgb(225, 225, 232); color: #dd1144; font-family: Consolas, 'Liberation Mono', Courier, monospace !important; font-size: 12px; padding: 3px 4px;">225407863.157895*m/s</code> (or maybe very close to it) but, assertion results in a failure.</div><div style="color: #444444; font-family: Arvo, 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 13px; line-height: 18px; margin-bottom: 9px;">Similarly in the constructor of the <code style="background-color: #f7f7f9; border-bottom-left-radius: 3px; border-bottom-right-radius: 3px; border-top-left-radius: 3px; border-top-right-radius: 3px; border: 1px solid rgb(225, 225, 232); color: #dd1144; font-family: Consolas, 'Liberation Mono', Courier, monospace !important; font-size: 12px; padding: 3px 4px;">Medium</code> inconsistency comes due to slight difference in floating point parameters(permittivity and permeability). I've commented out this part of my code. Maybe Sean will suggest a better way to do it.</div><pre style=""><code style="background-color: transparent; border-bottom-left-radius: 3px; border-bottom-right-radius: 3px; border-top-left-radius: 3px; border-top-right-radius: 3px; border: 0px; color: inherit; font-family: Consolas, 'Liberation Mono', Courier, monospace !important; padding: 0px;"><span style="color: #999988; font-style: italic;" class="hljs-comment"># XXX: There's issue with precision. Values may be</span><br /><span style="color: #999988; font-style: italic;" class="hljs-comment"># different slightly.</span><br /><span style="color: #333333; font-weight: bold;" class="hljs-keyword">if</span> permittivity != u<span style="color: #009999;" class="hljs-number">0</span> <span style="color: #333333; font-weight: bold;" class="hljs-keyword">and</span> permittivity != e<span style="color: #009999;" class="hljs-number">0</span>:<br />    <span style="color: #333333; font-weight: bold;" class="hljs-keyword">if</span> n != c<span style="color: teal;" class="hljs-variable">*sqrt</span>(permittivity<span style="color: teal;" class="hljs-variable">*permeability</span>):<br />        raise ValueError(<span style="color: #dd1144;" class="hljs-string">"Values are not consistent."</span>)<br /></code></pre><div style="color: #444444; font-family: Arvo, 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 13px; line-height: 18px; margin-bottom: 9px;">As soon as it gets merged, I'll make necessary changes in Fermat's principle and Snell's law part of the code and send a PR to review.</div><div style="color: #444444; font-family: Arvo, 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 13px; line-height: 18px; margin-bottom: 9px;">Now I realize that the next two weeks are not going to be a joy ride for me. I must finish major part of geometrical optics as written in my proposal.<br /><br />That's all for now. Cheers!</div></div></div>







<p class="date">
<a href="http://lifelesscode.blogspot.com/2014/06/gsoc14-progress-week-4-finished-medium.html">by Sudhanshu Mishra (noreply@blogger.com) at June 16, 2014 07:32 PM</a>
</p>
</div>
</div>


</div>

</div>
<div class="daygroup">
<h2>June 15, 2014</h2>

<div class="channelgroup">







<h3><a href="http://sushant-hiray.in" title="Sushant Hiray's Blog - Posts tagged sympy/gsoc/csympy">Sushant Hiray</a></h3>


<div class="entrygroup" id="http://sushant-hiray.in/posts/gsoc/csympy-week4/">
<h4><a href="http://sushant-hiray.in/posts/gsoc/csympy-week4/">This Week in CSymPy: #4</a></h4>
<div class="entry">
<div class="content">
<p>Week 4 for GSoC just ended and this week I completed implementing the Exponential Module.</p>

<h1 id="progress">Progress</h1>

<p>I started the week by implementing <code>ATan2</code> which was not implemented in the PR of Trignometric Module.
<br /><br />
<a href="https://github.com/sympy/csympy/pull/189">Pull 189</a> looked into implementing the <code>ATan2</code> functionality. Since to implement <code>ATan2</code> we needed to find whether the signs of numerator and denominators. In case of complex symbolic expressions, we are yet to implement <code>numeric-eval</code> in CSymPy, so in those cases we just
return the object, in cases where we find the <code>arg</code> in lookup table we simplify and give out the result.
<br />
A more detailed version of the assumptions can be found in this <a href="https://github.com/sympy/csympy/pull/189#issuecomment-45625322">comment</a> in PR. It is also documented in the code.
<br /><br />
After implementing <code>ATan2</code>, I worked on the Exponential module. <a href="https://github.com/asmeurer">Aaron</a> gave some insights regarding the implementation of the exponential module, specifically he mentioned the fact that </p>

<blockquote>
  <pre><code>It's better to special case E in one place `(pow)` 
than to special case exp everywhere in the code 
that tries to deal with pow objects 
</code></pre>
</blockquote>

<p>So discussing this with <a href="https://github.com/certik">Ondrej</a> we decided to keep <code>exp</code> only as a function which just calls <code>pow(E, x)</code> underneath.
<br /><br />
The logarithm class was similar to the current implementation of SymPy barring the part involving complex numbers. The exponential module as a whole was implemented in <a href="https://github.com/sympy/csympy/pull/194">pull request</a> which has been merged into master.
<br /><br />
I have also decided to implement the LambertW function. It wasn’t a part of my original proposal but it seems pretty trivial to implement! Once this is merged into master, the exponential module will cover all major functions implemented by SymPy.</p>

<h1 id="discussions">Discussions</h1>

<p>As usual most of the actual discussions happened on PR, Aaron also gave some insights on gitter! So its good to hangout there as well.</p>

<h1 id="week-highlights">Week Highlights!</h1>

<ul>
  <li>This week <a href="https://github.com/isuruf">@isuruf</a> started helping us out in the Number Theory module which was originally added by Thilina.</li>
  <li>Also I’ve noticed extra traffic in <a href="https://gitter.im/sympy/csympy">CSymPy gitter</a>. A lot of people have started following the conversations there! That is good to see :)</li>
</ul>

<h1 id="the-week-ahead">The Week Ahead</h1>
<ul>
  <li>Add the <code>LambertW</code> class.</li>
  <li>Implement the <code>Hyperbolic Module</code>.</li>
</ul>

<p><br />
Thats all for now :) Will get back next week!</p></div>







<p class="date">
<a href="http://sushant-hiray.in/posts/gsoc/csympy-week4/">June 15, 2014 06:20 PM</a>
</p>
</div>
</div>



</div>
<div class="channelgroup">







<h3><a href="http://kundankumar185.wordpress.com" title="my experiments with life">Kundan Kumar</a></h3>


<div class="entrygroup" id="http://kundankumar185.wordpress.com/?p=57">
<h4 lang="en"><a href="http://kundankumar185.wordpress.com/2014/06/15/gsoc-week-4-implemented-system-of-three-linear-equation-of-first-order/">GSoC week 4: Implemented system of three linear equation of first order</a></h4>
<div class="entry">
<div class="content" lang="en">
<p>I will summarize the work completed until now since beginning of first week. These included</p>
<p>&gt; Implementing classify_sysode to classify all type of equations on the basis of linearity, number of equations, order of equations.</p>
<p>&gt; Implementing system of two linear equations of first order which includes seven type of equation of various forms.</p>
<p>&gt; Implementing system of two linear equations of second order which has eleven type of equation.</p>
<p>&gt; Implementing system of three linear equations of third order which has five type of equation both of constant coefficient and variable coefficients.</p>
<p>&gt; Implementing homogeneous system of n linear equations of first order of constant coefficients.</p>
<p>Those were the work completed till now of which last week work was on implemention of system of three linear equations of 1st order and homogeneous system of n equations. I am currently working on implementing system of two and three nonlinear system of equations of first order and aiming to complete it by next week. Its been a good progress till now and hope to work likely in coming weeks <span class="wp-smiley emoji emoji-smile" title=":)">:)</span> .</p><br />  <a href="http://feeds.wordpress.com/1.0/gocomments/kundankumar185.wordpress.com/57/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/comments/kundankumar185.wordpress.com/57/" alt="" border="0" /></a> <img src="http://stats.wordpress.com/b.gif?host=kundankumar185.wordpress.com&amp;blog=68025302&amp;post=57&amp;subd=kundankumar185&amp;ref=&amp;feed=1" alt="" border="0" width="1" height="1" /></div>







<p class="date">
<a href="http://kundankumar185.wordpress.com/2014/06/15/gsoc-week-4-implemented-system-of-three-linear-equation-of-first-order/">by Kundan at June 15, 2014 09:26 AM</a>
</p>
</div>
</div>


</div>

</div>
<div class="daygroup">
<h2>June 14, 2014</h2>

<div class="channelgroup">







<h3><a href="http://thilinaatsympy.wordpress.com" title="Thilina's SymPy Blog">Thilina Rathnayake</a></h3>


<div class="entrygroup" id="http://thilinaatsympy.wordpress.com/?p=339">
<h4 lang="en"><a href="http://thilinaatsympy.wordpress.com/2014/06/15/gsoc-week-4/">[GSoC] Week 4: Fraction Free Algorithms</a></h4>
<div class="entry">
<div class="content" lang="en">
<p>Hi All,</p>
<p>As the week 4 of the GSoC comes to an end I was able to start implementing Matrix decompositions, starting with the LU decomposition.</p>
<h3>Fraction Free Algorithms</h3>
<p>Gaussian elimination is the procedure for reducing a given matrix to an echelon form. In Gauss-Jordan elimination, we reduce a given matrix into a reduced row echelon form. I implemented quite a few algorithms for Gaussian elimination and Gauss-Jordan elimination. The conventional algorithm for Guassian elimination is a very straight forward one and can be found in[1]. There are two problems in this algorithm. One is that we have to perform division which is not a good thing to do if the divisor is too small. Also, the above implementation doesn’t allow pivoting, which makes the algorithm not applicable to non-singular matrices.</p>
<p>To avoid the problem with division, I implemented a set of algorithms which results in fraction free matrix entries. These algorithms are described in detail in [2] and [3]. One disadvantage in these fraction free methods is that the resulting matrix entries tends to grow larger than the naive algorithm described in [1]. These can be avoided by observing that certain entries are divisible by other entries in the matrix. This is described in detail in [3].</p>
<p>Pivoting is also a concern in these algorithms. Since we are mostly dealing with symbolic matrices, first row below the current pow which has a non-zero element is chosen as the pivot row.</p>
<p>Also, I implemented a fraction free version of LU decomposition.</p>
<h3>Plan for upcoming week</h3>
<p>I hope to implement some other Matrix decomposition algorithms like QR and Cholesky in the coming week. Also, I wish to implement a Gaussian elimination algorithm which is more suited to matrices with symbolic entries. For the time being I am studying about it in [4].</p>
<h3>References</h3>
<p>[1] <a href="http://www.cs.rutgers.edu/~venugopa/parallel_summer2012/ge.html#algo" rel="nofollow">http://www.cs.rutgers.edu/~venugopa/parallel_summer2012/ge.html#algo</a><br />
[2] Fraction-free algorithms for linear and polynomial equations (1997) by George Nakos, Peter Turner, Robert Williams<br />
[3] A Simplified Fraction-Free integer Gauss elimination algorithm, Peter R. Turner, Ph.D.<br />
[4] Modified Gauss Algorithm for Matrices with Symbolic Entries, Benno Fuchssteiner.</p><br />  <a href="http://feeds.wordpress.com/1.0/gocomments/thilinaatsympy.wordpress.com/339/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/comments/thilinaatsympy.wordpress.com/339/" alt="" border="0" /></a> <img src="http://stats.wordpress.com/b.gif?host=thilinaatsympy.wordpress.com&amp;blog=52956410&amp;post=339&amp;subd=thilinaatsympy&amp;ref=&amp;feed=1" alt="" border="0" width="1" height="1" /></div>







<p class="date">
<a href="http://thilinaatsympy.wordpress.com/2014/06/15/gsoc-week-4/">by Thilina Rathnayake at June 14, 2014 11:51 PM</a>
</p>
</div>
</div>



</div>
<div class="channelgroup">







<h3><a href="http://codesachin.wordpress.com" title="Dream. Think. Code. » Google Summer of Code 2014">Sachin Joglekar</a></h3>


<div class="entrygroup" id="http://codesachin.wordpress.com/?p=15">
<h4 lang="en"><a href="http://codesachin.wordpress.com/2014/06/15/gsoc-week-4-vector-framework-done/">GSoC Week 4: Vector framework done</a></h4>
<div class="entry">
<div class="content" lang="en">
<p>This has been a tricky week. Not hectic, but rather tricky. Most of it was spent fixing the innumerable bugs that I encountered while polishing and ‘packaging’ the basic version of the new vector module – it’s in a PR <a href="https://github.com/sympy/sympy/pull/7566">here</a>.</p>
<p>I cannot stress how helpful the pre-written unit and example tests were, in making things clearer and pointing out the many bugs in the first version of my code. In some cases, I spent quite some (read: <em>a lot</em>) of time fixing the issues, while in some, I just redid the code/API to work around the intricacies of the SymPy core. Its quite easy to get lost in there.</p>
<p>Currently, the following functionalities are supported <em>stably</em> by my code(with appropriate error handling wherever required)-</p>
<p>1. All basic vector operations-</p>
<p>a) Addition/Subtraction</p>
<p>b) Multiplication/Division by scalars</p>
<p>c) Dot/Cross product</p>
<p>2. Including coordinate variables (spatial variables) in vectorial expressions.</p>
<p>3. All basic use cases of the Del operator in vector/scalar expressions, including-</p>
<p>a) Gradient</p>
<p>b) Divergence</p>
<p>c) Curl</p>
<p>d) Directional derivative</p>
<p>I know it seems a little low for something that’s based on code which is already a part of SymPy, but the whole point was to base it directly upon the SymPy core – for users not acquainted with the physics module. Moreover, with some rudimentary timing techniques, I found that on an average, the new module was able to do a set of most-basic vector operations (add, sub, dot, cross) approximately 3-4 times <em>faster </em>than sympy.physics.vector. But I guess it’s too early to judge now, since the new module has no overhead of coordinate systems.</p>
<p>I can say I am successful (hopefully all the tests on the PR should pass soon) in supporting all the functionality mentioned above, in a stable implementation – though I am still waiting for Jason and the SymPy people to review the PR. I hope it gets in soon.</p>
<p>The next step would be to start working on a new branch that would include the classes for coordinate systems and stationary points in 3D space (cartesian system). This is going to be tricky – the code for these classes in <em>sympy.physics.vector</em> is enough to prove that. As usual, the first step would be to write out the ‘expected-to-succeed’ unit and example tests. Hopefully, by that time, I would get sufficient feedback on the current PR too. But since the underlying vector framework is working well, I wouldn’t have to worry about bugs in that area – I can focus purely on the one-level-up code for multiple coordinate systems.</p>
<p>Cheers to a fun week! Hopefully I will be reporting just as much of progress next week too. Have a great week ahead <span class="wp-smiley emoji emoji-smile" title=":-)">:-)</span>.</p>
<p> </p><br />  <a href="http://feeds.wordpress.com/1.0/gocomments/codesachin.wordpress.com/15/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/comments/codesachin.wordpress.com/15/" alt="" border="0" /></a> <img src="http://stats.wordpress.com/b.gif?host=codesachin.wordpress.com&amp;blog=67602166&amp;post=15&amp;subd=codesachin&amp;ref=&amp;feed=1" alt="" border="0" width="1" height="1" /></div>







<p class="date">
<a href="http://codesachin.wordpress.com/2014/06/15/gsoc-week-4-vector-framework-done/">by srjoglekar246 at June 14, 2014 08:15 PM</a>
</p>
</div>
</div>


</div>

</div>
<div class="daygroup">
<h2>June 13, 2014</h2>

<div class="channelgroup">







<h3><a href="http://jcrist.github.io/" title="Marginally Stable">Jim Crist</a></h3>


<div class="entrygroup" id="tag:,2014-06-13:gsoc-week-4.html">
<h4><a href="http://jcrist.github.io/gsoc-week-4.html">GSoC Week 4: Linearizing Lagranges Equations</a></h4>
<div class="entry">
<div class="content">
<p>As of last week the <code>Linearizer</code> class implementing the general form discussed
in Luke and Gilbert's paper was completed. The methods contained for
linearization work for any system that can be expressed by any combination of
the following:</p>
<p>\begin{aligned}
f_{c}(q, t) &amp;= 0_{l \times 1} \\
f_{v}(q, u, t) &amp;= 0_{m \times 1} \\
f_{a}(q, \dot{q}, u, \dot{u}, t) &amp;= 0_{m \times 1} \\
f_{0}(q, \dot{q}, t) + f_{1}(q, u, t) &amp;= 0_{n \times 1} \\
f_{2}(q, \dot{u}, t) + f_{3}(q, \dot{q}, u, r, t) &amp;= 0_{(o-m) \times 1}
\end{aligned}</p>
<p>with</p>
<p>\begin{aligned}
q, \dot{q} &amp; \in \mathbb{R}^n \\
u, \dot{u} &amp; \in \mathbb{R}^o \\
r &amp; \in \mathbb{R}^s 
\end{aligned}</p>
<p>This works for most systems (it was derived with kanes method in mind
specifically). However, systems expressed using lagranges method can't
be brought into this form.</p>
<p>This week I spent some time rederiving the general form to make it fit
lagranges method, as well as kanes method. I plan to write up a formal
paper expressing the derivation as a reference and documentation of the
class; here I'll just give a brief overview.</p>
<p>In general, Lagrange's Method expresses the system using 3 equations:</p>
<p>\begin{aligned}
m_{c}(q, t) \dot{q} + f_{c}(q, t) &amp;= 0_{m \times 1}\\
m_{dc}(\dot{q}, q, t) \ddot{q} + f_{dc}(\dot{q}, q, t) &amp;= 0_{m \times 1}\\
m_{d}(\dot{q}, q, t) \ddot{q} + \Lambda_c(q, t)
\lambda + f_{d}(\dot{q}, q, r, t) &amp;= 0_{n \times 1}\\
\end{aligned}</p>
<p>with</p>
<p>\begin{aligned}
q, \dot{q}, \ddot{q} &amp; \in \mathbb{R}^n \\
r &amp; \in \mathbb{R}^s \\
\lambda &amp; \in \mathbb{R}^m
\end{aligned}</p>
<p>In this case, the first equation encompass the time differentiated holonomic
constraints, as well as the nonholonomic constraints. The second equation
is then the time derivative of the first equation. The third equation
represents the dynamics of the system, as formed by the lagrangian. The
lagrange multipliers ($\lambda$) enforce these constraints.</p>
<p>With some rearranging of the above, they can be merged with the previous
general form for Kane's Method, forming a set of equations that <em>should</em> be
able to contain most equations of motion:</p>
<p>\begin{aligned}
f_{c}(q, t) &amp;= 0_{l \times 1} \\
f_{v}(q, u, t) &amp;= 0_{m \times 1} \\
f_{a}(q, \dot{q}, u, \dot{u}, t) &amp;= 0_{m \times 1} \\
f_{0}(q, \dot{q}, t) + f_{1}(q, u, t) &amp;= 0_{n \times 1} \\
f_{2}(q, u, \dot{u}, t) + f_{3}(q, \dot{q}, u, r, t) + 
f_{4}(q, \lambda, t) &amp;= 0_{(o-m+k) \times 1}
\end{aligned}</p>
<p>with</p>
<p>\begin{aligned}
q, \dot{q} &amp; \in \mathbb{R}^n \\
u, \dot{u} &amp; \in \mathbb{R}^o \\
r &amp; \in \mathbb{R}^s \\
\lambda &amp; \in \mathbb{R}^k
\end{aligned}</p>
<p>Note that the only changes are the addition of a $u$ term in $f_2$, and the
$f_{4}$ term holding the lagrange multipliers. For Lagrange's method,
$\dot{q} = u$, and $k = m$; for Kanes method $k = 0$, and everything
looks the same as it did before.</p>
<p>The returned $M$, $A$, and $B$ linearized form then is:</p>
<p>$$
M \begin{bmatrix} \delta \dot{q} \\ \delta \dot{u} \\ \delta \lambda \end{bmatrix} =
A \begin{bmatrix} \delta q_i \\ \delta u_i \end{bmatrix} + B \begin{bmatrix} \delta r \end{bmatrix}
$$</p>
<p>where</p>
<p>\begin{aligned}
M &amp;\in \mathbb{R}^{(n+o+k) \times (n+o+k)} \\
A &amp;\in \mathbb{R}^{(n+o+k) \times (n-l+o-m)} \\
B &amp;\in \mathbb{R}^{(n+o+k) \times s}
\end{aligned}</p>
<p>As before, the $M$ matrix can be inverted, and the square state space matrices
$A$ and $B$ calculated.</p>
<p>The functionality described above has been implemented in the
<a href="https://github.com/jcrist/sympy/tree/LinearizeLagrange">LinearizeLagrange branch</a>
of sympy on my github. As this is a superset of the functionality I implemented
last week, I'm going to hold off on submitting this to master until my 
<a href="https://github.com/sympy/sympy/pull/7581">current pull request</a> is merged. For
now I made a local PR <a href="https://github.com/jcrist/sympy/pull/3">here</a>. Please
take a look through, I need all the code review I can get.</p>
<p>Two tests have been implemented linearizing a system generated with Lagrange's
Method. I plan on adding more next week, as well as improving the documentation.</p>
<h2>Linearizing a Non-minimal Pendulum with Lagrange's Method</h2>
<p>A demonstration of the current functionality for a non-minimal realization
of a pendulum is below. The pendulum has two generalized coordinates, $q1$ and
$q2$. As this is Lagrange's method, the generalized speeds are just the time
derivatives of the coordinates (i.e. $u = \dot{q}$).</p>
<p><img src="http://jcrist.github.io/feeds/images/Pendulum_NonMin_Coord.svg" alt="Pendulum system" title="Pendulum System" /></p>
<div style="background: #272822;" class="codehilite"><pre style="line-height: 125%;"><span style="color: #75715e;"># Create the required symbols</span>
<span style="color: #f8f8f2;">q1,</span> <span style="color: #f8f8f2;">q2</span> <span style="color: #f92672;">=</span> <span style="color: #f8f8f2;">dynamicsymbols(</span><span style="color: #e6db74;">'q1:3'</span><span style="color: #f8f8f2;">)</span>
<span style="color: #f8f8f2;">q1d,</span> <span style="color: #f8f8f2;">q2d</span> <span style="color: #f92672;">=</span> <span style="color: #f8f8f2;">dynamicsymbols(</span><span style="color: #e6db74;">'q1:3'</span><span style="color: #f8f8f2;">,</span> <span style="color: #f8f8f2;">level</span><span style="color: #f92672;">=</span><span style="color: #ae81ff;">1</span><span style="color: #f8f8f2;">)</span>
<span style="color: #f8f8f2;">L,</span> <span style="color: #f8f8f2;">m,</span> <span style="color: #f8f8f2;">t</span> <span style="color: #f92672;">=</span> <span style="color: #f8f8f2;">symbols(</span><span style="color: #e6db74;">'L, m, t'</span><span style="color: #f8f8f2;">)</span>
<span style="color: #f8f8f2;">g</span> <span style="color: #f92672;">=</span> <span style="color: #ae81ff;">9.8</span>

<span style="color: #75715e;"># Compose World Frame</span>
<span style="color: #f8f8f2;">N</span> <span style="color: #f92672;">=</span> <span style="color: #f8f8f2;">ReferenceFrame(</span><span style="color: #e6db74;">'N'</span><span style="color: #f8f8f2;">)</span>
<span style="color: #f8f8f2;">pN</span> <span style="color: #f92672;">=</span> <span style="color: #f8f8f2;">Point(</span><span style="color: #e6db74;">'N*'</span><span style="color: #f8f8f2;">)</span>
<span style="color: #f8f8f2;">pN</span><span style="color: #f92672;">.</span><span style="color: #f8f8f2;">set_vel(N,</span> <span style="color: #ae81ff;">0</span><span style="color: #f8f8f2;">)</span>

<span style="color: #75715e;"># A.x is along the pendulum</span>
<span style="color: #f8f8f2;">theta1</span> <span style="color: #f92672;">=</span> <span style="color: #f8f8f2;">atan(q2</span><span style="color: #f92672;">/</span><span style="color: #f8f8f2;">q1)</span>
<span style="color: #f8f8f2;">A</span> <span style="color: #f92672;">=</span> <span style="color: #f8f8f2;">N</span><span style="color: #f92672;">.</span><span style="color: #f8f8f2;">orientnew(</span><span style="color: #e6db74;">'A'</span><span style="color: #f8f8f2;">,</span> <span style="color: #e6db74;">'axis'</span><span style="color: #f8f8f2;">,</span> <span style="color: #f8f8f2;">[theta1,</span> <span style="color: #f8f8f2;">N</span><span style="color: #f92672;">.</span><span style="color: #f8f8f2;">z])</span>

<span style="color: #75715e;"># Create point P, the pendulum mass</span>
<span style="color: #f8f8f2;">P</span> <span style="color: #f92672;">=</span> <span style="color: #f8f8f2;">pN</span><span style="color: #f92672;">.</span><span style="color: #f8f8f2;">locatenew(</span><span style="color: #e6db74;">'P1'</span><span style="color: #f8f8f2;">,</span> <span style="color: #f8f8f2;">q1</span><span style="color: #f92672;">*</span><span style="color: #f8f8f2;">N</span><span style="color: #f92672;">.</span><span style="color: #f8f8f2;">x</span> <span style="color: #f92672;">+</span> <span style="color: #f8f8f2;">q2</span><span style="color: #f92672;">*</span><span style="color: #f8f8f2;">N</span><span style="color: #f92672;">.</span><span style="color: #f8f8f2;">y)</span>
<span style="color: #f8f8f2;">P</span><span style="color: #f92672;">.</span><span style="color: #f8f8f2;">set_vel(N,</span> <span style="color: #f8f8f2;">P</span><span style="color: #f92672;">.</span><span style="color: #f8f8f2;">pos_from(pN)</span><span style="color: #f92672;">.</span><span style="color: #f8f8f2;">dt(N))</span>
<span style="color: #f8f8f2;">pP</span> <span style="color: #f92672;">=</span> <span style="color: #f8f8f2;">Particle(</span><span style="color: #e6db74;">'pP'</span><span style="color: #f8f8f2;">,</span> <span style="color: #f8f8f2;">P,</span> <span style="color: #f8f8f2;">m)</span>

<span style="color: #75715e;"># Constraint Equations</span>
<span style="color: #f8f8f2;">f_c</span> <span style="color: #f92672;">=</span> <span style="color: #f8f8f2;">Matrix([q1</span><span style="color: #f92672;">**</span><span style="color: #ae81ff;">2</span> <span style="color: #f92672;">+</span> <span style="color: #f8f8f2;">q2</span><span style="color: #f92672;">**</span><span style="color: #ae81ff;">2</span> <span style="color: #f92672;">-</span> <span style="color: #f8f8f2;">L</span><span style="color: #f92672;">**</span><span style="color: #ae81ff;">2</span><span style="color: #f8f8f2;">])</span>

<span style="color: #75715e;"># Calculate the lagrangian, and form the equations of motion</span>
<span style="color: #f8f8f2;">Lag</span> <span style="color: #f92672;">=</span> <span style="color: #f8f8f2;">Lagrangian(N,</span> <span style="color: #f8f8f2;">pP)</span>
<span style="color: #f8f8f2;">LM</span> <span style="color: #f92672;">=</span> <span style="color: #f8f8f2;">LagrangesMethod(Lag,</span> <span style="color: #f8f8f2;">[q1,</span> <span style="color: #f8f8f2;">q2],</span> <span style="color: #f8f8f2;">hol_coneqs</span><span style="color: #f92672;">=</span><span style="color: #f8f8f2;">f_c,</span> <span style="color: #f8f8f2;">forcelist</span><span style="color: #f92672;">=</span><span style="color: #f8f8f2;">[(P,</span> <span style="color: #f8f8f2;">m</span><span style="color: #f92672;">*</span><span style="color: #f8f8f2;">g</span><span style="color: #f92672;">*</span><span style="color: #f8f8f2;">N</span><span style="color: #f92672;">.</span><span style="color: #f8f8f2;">x)],</span> <span style="color: #f8f8f2;">frame</span><span style="color: #f92672;">=</span><span style="color: #f8f8f2;">N)</span>
<span style="color: #f8f8f2;">LM</span><span style="color: #f92672;">.</span><span style="color: #f8f8f2;">form_lagranges_equations()</span>
</pre></div>


<p>At this point the equations of motion have been formed, but not linearized.
Linearization requires that dependent and independent coordinates be chosen. In
this case we'll chose $q2$ as independent, and $q1$ as dependent.</p>
<div style="background: #272822;" class="codehilite"><pre style="line-height: 125%;"><span style="color: #75715e;"># Choose the independent and dependent coordinates</span>
<span style="color: #f8f8f2;">q_i</span> <span style="color: #f92672;">=</span> <span style="color: #f8f8f2;">Matrix([q2])</span>
<span style="color: #f8f8f2;">q_d</span> <span style="color: #f92672;">=</span> <span style="color: #f8f8f2;">Matrix([q1])</span>
<span style="color: #f8f8f2;">u_i</span> <span style="color: #f92672;">=</span> <span style="color: #f8f8f2;">Matrix([q2d])</span>
<span style="color: #f8f8f2;">u_d</span> <span style="color: #f92672;">=</span> <span style="color: #f8f8f2;">Matrix([q1d])</span>
<span style="color: #f8f8f2;">linearizer</span> <span style="color: #f92672;">=</span> <span style="color: #f8f8f2;">LM</span><span style="color: #f92672;">.</span><span style="color: #f8f8f2;">to_linearizer(q_i,</span> <span style="color: #f8f8f2;">u_i,</span> <span style="color: #f8f8f2;">q_d,</span> <span style="color: #f8f8f2;">u_d)</span>

<span style="color: #75715e;"># Compose operating point</span>
<span style="color: #f8f8f2;">q_op</span> <span style="color: #f92672;">=</span> <span style="color: #f8f8f2;">{q1:</span> <span style="color: #f8f8f2;">L,</span> <span style="color: #f8f8f2;">q2:</span> <span style="color: #ae81ff;">0</span><span style="color: #f8f8f2;">}</span>
<span style="color: #f8f8f2;">u_op</span> <span style="color: #f92672;">=</span> <span style="color: #f8f8f2;">{q1d:</span> <span style="color: #ae81ff;">0</span><span style="color: #f8f8f2;">,</span> <span style="color: #f8f8f2;">q2d:</span> <span style="color: #ae81ff;">0</span><span style="color: #f8f8f2;">}</span>
<span style="color: #f8f8f2;">ud_op</span> <span style="color: #f92672;">=</span> <span style="color: #f8f8f2;">{q1d</span><span style="color: #f92672;">.</span><span style="color: #f8f8f2;">diff(t):</span> <span style="color: #ae81ff;">0</span><span style="color: #f8f8f2;">,</span> <span style="color: #f8f8f2;">q2d</span><span style="color: #f92672;">.</span><span style="color: #f8f8f2;">diff(t):</span> <span style="color: #ae81ff;">0</span><span style="color: #f8f8f2;">}</span>

<span style="color: #75715e;"># Perform the linearization</span>
<span style="color: #f8f8f2;">A,</span> <span style="color: #f8f8f2;">B</span> <span style="color: #f92672;">=</span> <span style="color: #f8f8f2;">linearizer</span><span style="color: #f92672;">.</span><span style="color: #f8f8f2;">linearize(q_op</span><span style="color: #f92672;">=</span><span style="color: #f8f8f2;">q_op,</span> <span style="color: #f8f8f2;">u_op</span><span style="color: #f92672;">=</span><span style="color: #f8f8f2;">u_op,</span> <span style="color: #f8f8f2;">ud_op</span><span style="color: #f92672;">=</span><span style="color: #f8f8f2;">ud_op,</span> <span style="color: #f8f8f2;">A_and_B</span><span style="color: #f92672;">=</span><span style="color: #f8f8f2;">True)</span>
<span style="color: #66d9ef;">print</span><span style="color: #f8f8f2;">(A)</span>
<span style="color: #66d9ef;">print</span><span style="color: #f8f8f2;">(B)</span>
</pre></div>


<p>Output:  </p>
<div style="background: #272822;" class="codehilite"><pre style="line-height: 125%;"><span style="color: #f8f8f2;">Matrix([</span>
<span style="color: #f8f8f2;">[</span>           <span style="color: #ae81ff;">0</span><span style="color: #f8f8f2;">,</span> <span style="color: #ae81ff;">1</span><span style="color: #f8f8f2;">],</span>
<span style="color: #f8f8f2;">[</span><span style="color: #f92672;">-</span><span style="color: #ae81ff;">2</span><span style="color: #f92672;">*</span><span style="color: #f8f8f2;">lam1(t)</span><span style="color: #f92672;">/</span><span style="color: #f8f8f2;">m,</span> <span style="color: #ae81ff;">0</span><span style="color: #f8f8f2;">]])</span>

<span style="color: #f8f8f2;">Matrix(</span><span style="color: #ae81ff;">0</span><span style="color: #f8f8f2;">,</span> <span style="color: #ae81ff;">0</span><span style="color: #f8f8f2;">,</span> <span style="color: #f8f8f2;">[])</span>
</pre></div>


<p>Note that the lagrange multiplier apppears in the linearization. However, for 
a given operating point, each multiplier has a specific value (i.e. they're
not free choices). Using the structure of the system of equations, the values
can be solved for, and substituted in:</p>
<div style="background: #272822;" class="codehilite"><pre style="line-height: 125%;"><span style="color: #75715e;"># Take advantage of problem structure to solve for lams</span>
<span style="color: #f8f8f2;">mass_matrix</span> <span style="color: #f92672;">=</span> <span style="color: #f8f8f2;">LM</span><span style="color: #f92672;">.</span><span style="color: #f8f8f2;">mass_matrix</span><span style="color: #f92672;">.</span><span style="color: #f8f8f2;">col_join((</span><span style="color: #f92672;">-</span><span style="color: #f8f8f2;">LM</span><span style="color: #f92672;">.</span><span style="color: #f8f8f2;">lam_coeffs</span><span style="color: #f92672;">.</span><span style="color: #f8f8f2;">row_join(zeros(</span><span style="color: #ae81ff;">1</span><span style="color: #f8f8f2;">,</span> <span style="color: #ae81ff;">1</span><span style="color: #f8f8f2;">))))</span>
<span style="color: #f8f8f2;">force_matrix</span> <span style="color: #f92672;">=</span> <span style="color: #f8f8f2;">LM</span><span style="color: #f92672;">.</span><span style="color: #f8f8f2;">forcing</span><span style="color: #f92672;">.</span><span style="color: #f8f8f2;">col_join(LM</span><span style="color: #f92672;">.</span><span style="color: #f8f8f2;">_f_cd)</span>
<span style="color: #f8f8f2;">lam_op_vec</span> <span style="color: #f92672;">=</span> <span style="color: #f8f8f2;">Matrix((mass_matrix</span><span style="color: #f92672;">.</span><span style="color: #f8f8f2;">inv()</span><span style="color: #f92672;">*</span><span style="color: #f8f8f2;">(</span><span style="color: #f92672;">-</span><span style="color: #f8f8f2;">force_matrix))[</span><span style="color: #f92672;">-</span><span style="color: #ae81ff;">1</span><span style="color: #f8f8f2;">:])</span>
<span style="color: #f8f8f2;">lam_op_vec</span> <span style="color: #f92672;">=</span> <span style="color: #f8f8f2;">lam_op_vec</span><span style="color: #f92672;">.</span><span style="color: #f8f8f2;">subs(ud_op)</span><span style="color: #f92672;">.</span><span style="color: #f8f8f2;">subs(u_op)</span><span style="color: #f92672;">.</span><span style="color: #f8f8f2;">subs(q_op)</span>
<span style="color: #f8f8f2;">lam_op</span> <span style="color: #f92672;">=</span> <span style="color: #f8f8f2;">dict(zip(LM</span><span style="color: #f92672;">.</span><span style="color: #f8f8f2;">lam_vec,</span> <span style="color: #f8f8f2;">lam_op_vec))</span>

<span style="color: #75715e;"># Substitute the value for the multipliers at this operating point</span>
<span style="color: #f8f8f2;">A</span> <span style="color: #f92672;">=</span> <span style="color: #f8f8f2;">A</span><span style="color: #f92672;">.</span><span style="color: #f8f8f2;">subs(lam_op)</span>
<span style="color: #66d9ef;">print</span><span style="color: #f8f8f2;">(A)</span>
</pre></div>


<p>Output:</p>
<div style="background: #272822;" class="codehilite"><pre style="line-height: 125%;"><span style="color: #f8f8f2;">Matrix([</span>
<span style="color: #f8f8f2;">[</span>     <span style="color: #ae81ff;">0</span><span style="color: #f8f8f2;">,</span> <span style="color: #ae81ff;">1</span><span style="color: #f8f8f2;">],</span>
<span style="color: #f8f8f2;">[</span><span style="color: #f92672;">-</span><span style="color: #ae81ff;">9.8</span><span style="color: #f92672;">/</span><span style="color: #f8f8f2;">L,</span> <span style="color: #ae81ff;">0</span><span style="color: #f8f8f2;">]])</span>
</pre></div>


<p>This is the correct linearization for a pendulum linearized about hanging
at rest operating point. You can try out the added functionality demonstrated
above by cloning my <code>LinearizeLagrange</code> branch of sympy
<a href="https://github.com/jcrist/sympy/tree/LinearizeLagrange">here</a>.</p>
<p>While functional, it still isn't finished. I still need to add documentation,
more tests, and finalize the interface. I plan on working on this next week.</p>&lt;script type="text/javascript"&gt;
    if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {
        var mathjaxscript = document.createElement('script');
        mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';
        mathjaxscript.type = 'text/javascript';
        mathjaxscript.src = 'https:' == document.location.protocol
                ? 'https://c328740.ssl.cf1.rackcdn.com/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'
                : 'http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML';
        mathjaxscript[(window.opera ? "innerHTML" : "text")] =
            "MathJax.Hub.Config({" +
            "    config: ['MMLorHTML.js']," +
            "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } }," +
            "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +
            "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +
            "    displayAlign: 'center'," +
            "    displayIndent: '0em'," +
            "    showMathMenu: true," +
            "    tex2jax: { " +
            "        inlineMath: [ ['$','$'] ], " +
            "        displayMath: [ ['$$','$$'] ]," +
            "        processEscapes: true," +
            "        preview: 'TeX'," +
            "    }, " +
            "    'HTML-CSS': { " +
            "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'black ! important'} }" +
            "    } " +
            "}); ";
        (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);
    }
&lt;/script&gt;</div>







<p class="date">
<a href="http://jcrist.github.io/gsoc-week-4.html">by Jim Crist at June 13, 2014 11:00 PM</a>
</p>
</div>
</div>


</div>

</div>
<div class="daygroup">
<h2>June 11, 2014</h2>

<div class="channelgroup">







<h3><a href="http://sushant-hiray.in" title="Sushant Hiray's Blog - Posts tagged sympy/gsoc/csympy">Sushant Hiray</a></h3>


<div class="entrygroup" id="http://sushant-hiray.in/posts/gsoc/csympy-week3/">
<h4><a href="http://sushant-hiray.in/posts/gsoc/csympy-week3/">This Week in CSymPy: #3</a></h4>
<div class="entry">
<div class="content">
<p>Week 3 for GSoC just ended and we decided to work on fixing bugs which were high priority.</p>

<h1 id="progress">Progress</h1>

<p>I started off the week and decided that I’ll work on the exponential module. 
<br /><br />
However last week we had discovered a <a href="https://github.com/sympy/csympy/issues/179">bug</a> in the way CSymPy was handling powers, so we decided to fix it first before moving on to the exponential Module.
<br /><br />
The main issue in the bug was the way we were handling the <code>dict</code>. There was no uniformity so we needed up inserting <code>2</code> as well as <code>1/2</code> into the <code>dict</code>. We discussed with Aaron and the way SymPy handled the issue of powers was to make sure that the power was always positive. If not the 
reciprocal was added in the dict.
<br /><br />
I used the convention SymPy was using and sent a <a href="https://github.com/sympy/csympy/pull/182">pull request</a>. However, there wasn’t much of help usin this convention as we were ending up with both <code>2</code> and <code>1/2</code> in some corner cases. To avoid this, I searched the dict first if the reciprocal existed, if it existed, then I added the reciprocal or else added the number to the dict.
<br /><br />
However as was expected using a <code>find</code> operation degraded the benchmarks heavily. So after a lot of discussion with Ondrej over the PR as well as on gitter, we figured out a way to solve the problem. The convention was to always enter the number in the form <code>num/den</code> such that <code>num &gt;= den</code>. We updated the PR according to this convention and the issue was fixed. Consuming almost a weeks time!</p>

<h1 id="discussions">Discussions</h1>

<p>Most of the discussions with Ondrej and Thilina happened over the pull requests and the issues itself. We finalized the convention over gitter.</p>

<h1 id="the-week-ahead">The Week Ahead</h1>

<ul>
  <li>Add the <code>ATan2</code> class.</li>
  <li>Implement the <code>Exponential Module</code>. After this module we shoule be able to do things like <code>rewrite__as_cos</code> for the exponential class.</li>
</ul>

<p><br /><br />
Thats all for now :) Will get back next week!</p></div>







<p class="date">
<a href="http://sushant-hiray.in/posts/gsoc/csympy-week3/">June 11, 2014 07:30 AM</a>
</p>
</div>
</div>


</div>

</div>
<div class="daygroup">
<h2>June 10, 2014</h2>

<div class="channelgroup">







<h3><a href="http://gsocblog.blogspot.com/" title="GSoC 2014 with SymPy">Avichal Dayal</a></h3>


<div class="entrygroup" id="tag:blogger.com,1999:blog-283806077182880539.post-4292104463720196708">
<div class="entry">
<div class="content">
<div style="text-align: left;" dir="ltr">In the third week I started with the second phase of my project which is to implement formal power series. I spent some time in designing the class structure. Another important part is to figure out a way to represent infinite power series.<br />Literature mentions two ways to represent infinite series - one is to have function to compute the kth coefficient while other is lazy evaluation. Many series operations seem to have very simple on-line algorithms if we use lazy evaluation, <br /><br />To work with lazy evaluation, FPS(formal power series) will be represented as a stream object consisting of head and tail. Head will be the first term of the series while tail is the rest of the series but in an unevaluated form. <br />So FPS of exp(x) will have its generator as x**n/n!. Head will be 1 and tail will be FPS with generator as 1/(n+1)!. Tail will remain unevaluated. This way any number of terms can be found.<br /><br />To find generator of any function, Gruntz and Koepf give an algorithm.<br />It consists of three steps:-<br />- Finding a simple differential equation for the given function whose coefficients are rational functions.<br />- Converting the differential equation to a recurrence relation.<br />- Solving the recurrence relation to get a closed form.<br />If the original function was a rational fraction, it can split using partial fraction decomposition (already implemented in SymPy as apart) and apply the binomial series to get closed form.<br />For e.g.:- 1/(1-x) can be expanded as 1 + x + x**2 + x**3 + ... So the generator in this case is x**n.<br /><br />Some initial results are:-<br /><br /><div style="clear: both; text-align: center;" class="separator"><a style="margin-left: 1em; margin-right: 1em;" href="http://2.bp.blogspot.com/-Jy1g1QYVVYQ/U5dHvo3VuII/AAAAAAAAAco/LxOUVFI7wJI/s1600/FPS.png"><img width="400" src="http://2.bp.blogspot.com/-Jy1g1QYVVYQ/U5dHvo3VuII/AAAAAAAAAco/LxOUVFI7wJI/s1600/FPS.png" border="0" height="223" /></a></div><br />After completing the algorithm to compute generating function, next step will be to implement series operations like multiplication (cauchy product), inversion, convolution etc.</div></div>







<p class="date">
<a href="http://gsocblog.blogspot.com/2014/06/in-third-week-i-started-with-second.html">by Avichal Dayal (noreply@blogger.com) at June 10, 2014 06:03 PM</a>
</p>
</div>
</div>



</div>
<div class="channelgroup">







<h3><a href="http://lifelesscode.blogspot.com/search/label/sympy" title="Shortlog">Sudhanshu Mishra</a></h3>


<div class="entrygroup" id="tag:blogger.com,1999:blog-8847459392628952171.post-1453505657920387618">
<h4><a href="http://lifelesscode.blogspot.com/2014/06/gsoc14-third-week.html">GSoC'14: Third week</a></h4>
<div class="entry">
<div class="content">
<div style="text-align: left;" dir="ltr"><div style="color: #444444; font-family: Arvo, 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 13px; line-height: 18px; margin-bottom: 9px;">It was another not so productive week but I learnt a lot regarding how to write new classes by extending classes like <code style="background-color: #f7f7f9; border-bottom-left-radius: 3px; border-bottom-right-radius: 3px; border-top-left-radius: 3px; border-top-right-radius: 3px; border: 1px solid rgb(225, 225, 232); color: #dd1144; font-family: Consolas, 'Liberation Mono', Courier, monospace !important; font-size: 12px; padding: 3px 4px;">Basic</code>, <code style="background-color: #f7f7f9; border-bottom-left-radius: 3px; border-bottom-right-radius: 3px; border-top-left-radius: 3px; border-top-right-radius: 3px; border: 1px solid rgb(225, 225, 232); color: #dd1144; font-family: Consolas, 'Liberation Mono', Courier, monospace !important; font-size: 12px; padding: 3px 4px;">Symbol</code> and <code style="background-color: #f7f7f9; border-bottom-left-radius: 3px; border-bottom-right-radius: 3px; border-top-left-radius: 3px; border-top-right-radius: 3px; border: 1px solid rgb(225, 225, 232); color: #dd1144; font-family: Consolas, 'Liberation Mono', Courier, monospace !important; font-size: 12px; padding: 3px 4px;">Expr</code>.</div><div style="color: #444444; font-family: Arvo, 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 13px; line-height: 18px; margin-bottom: 9px;">Last week I got stuck with the rewrite expression mechanism which turned out to be a bug in the <code style="background-color: #f7f7f9; border-bottom-left-radius: 3px; border-bottom-right-radius: 3px; border-top-left-radius: 3px; border-top-right-radius: 3px; border: 1px solid rgb(225, 225, 232); color: #dd1144; font-family: Consolas, 'Liberation Mono', Courier, monospace !important; font-size: 12px; padding: 3px 4px;">core</code>. Thanks to <a style="color: blue;" href="https://github.com/flacjacket">Sean</a> for the fix! I need to do some more cleanup to get my last PR merged.</div><ul style="color: #444444; font-family: Arvo, 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 13px; line-height: 18px; margin: 0px 0px 9px 25px; padding: 0px;"><li style=""><a style="color: blue;" href="https://github.com/sympy/sympy/pull/7546">https://github.com/sympy/sympy/pull/7546</a></li></ul><div><span style="color: #444444; font-family: Arvo, 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 13px; line-height: 18px;">I also tried to fix an issue related to assumptions in </span><code style="background-color: #f7f7f9; border-bottom-left-radius: 3px; border-bottom-right-radius: 3px; border-top-left-radius: 3px; border-top-right-radius: 3px; border: 1px solid rgb(225, 225, 232); color: #dd1144; font-family: Consolas, 'Liberation Mono', Courier, monospace !important; font-size: 12px; line-height: 18px; padding: 3px 4px;">Function</code><span style="color: #444444; font-family: Arvo, 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 13px; line-height: 18px;"> but the complex behaviour of </span><code style="background-color: #f7f7f9; border-bottom-left-radius: 3px; border-bottom-right-radius: 3px; border-top-left-radius: 3px; border-top-right-radius: 3px; border: 1px solid rgb(225, 225, 232); color: #dd1144; font-family: Consolas, 'Liberation Mono', Courier, monospace !important; font-size: 12px; line-height: 18px; padding: 3px 4px;">__new__</code><span style="color: #444444; font-family: Arvo, 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 13px; line-height: 18px;"> constructor makes it difficult to follow the inheritance. I also need to understand the working of SymPy's  </span><code style="background-color: #f7f7f9; border-bottom-left-radius: 3px; border-bottom-right-radius: 3px; border-top-left-radius: 3px; border-top-right-radius: 3px; border: 1px solid rgb(225, 225, 232); color: #dd1144; font-family: Consolas, 'Liberation Mono', Courier, monospace !important; font-size: 12px; line-height: 18px; padding: 3px 4px;">@cacheit</code><span style="color: #444444; font-family: Arvo, 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 13px; line-height: 18px;">  decorator.</span></div><div><span style="color: #444444; font-family: Arvo, 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 13px; line-height: 18px;"><br /></span></div><div style="color: #444444; font-family: Arvo, 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 13px; line-height: 18px; margin-bottom: 9px;">Lately I've been working on the implementation of optical medium. The motivation behind defining a<code style="background-color: #f7f7f9; border-bottom-left-radius: 3px; border-bottom-right-radius: 3px; border-top-left-radius: 3px; border-top-right-radius: 3px; border: 1px solid rgb(225, 225, 232); color: #dd1144; font-family: Consolas, 'Liberation Mono', Courier, monospace !important; font-size: 12px; padding: 3px 4px;">Medium</code> came from the laziness of passing constants like electric permittivity and magnetic permeabhility of the medium everywhere. It will help carry out operations(events) very easily in optics.</div><div style="color: #444444; font-family: Arvo, 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 13px; line-height: 18px; margin-bottom: 9px;">With the merger of <code style="background-color: #f7f7f9; border-bottom-left-radius: 3px; border-bottom-right-radius: 3px; border-top-left-radius: 3px; border-top-right-radius: 3px; border: 1px solid rgb(225, 225, 232); color: #dd1144; font-family: Consolas, 'Liberation Mono', Courier, monospace !important; font-size: 12px; padding: 3px 4px;">Point3D</code> by <a style="color: blue;" href="https://github.com/akshayah3">Akshay</a> I planned to implement Fermat's principle and thus felt the need of <code style="background-color: #f7f7f9; border-bottom-left-radius: 3px; border-bottom-right-radius: 3px; border-top-left-radius: 3px; border-top-right-radius: 3px; border: 1px solid rgb(225, 225, 232); color: #dd1144; font-family: Consolas, 'Liberation Mono', Courier, monospace !important; font-size: 12px; padding: 3px 4px;">Medium</code> first.</div><div style="color: #444444; font-family: Arvo, 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 13px; line-height: 18px; margin-bottom: 9px;">I've already sent a WIP pull request for <code style="background-color: #f7f7f9; border-bottom-left-radius: 3px; border-bottom-right-radius: 3px; border-top-left-radius: 3px; border-top-right-radius: 3px; border: 1px solid rgb(225, 225, 232); color: #dd1144; font-family: Consolas, 'Liberation Mono', Courier, monospace !important; font-size: 12px; padding: 3px 4px;">Medium</code>. Here's the link:</div><ul style="color: #444444; font-family: Arvo, 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 13px; line-height: 18px; margin: 0px 0px 9px 25px; padding: 0px;"><li style=""><a style="color: blue;" href="https://github.com/sympy/sympy/pull/7580">https://github.com/sympy/sympy/pull/7580</a></li></ul><div style="color: #444444; font-family: Arvo, 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 13px; line-height: 18px; margin-bottom: 9px;">I also took a quick glance at variational calculus to solve the problem involving Fermat's principle. I'm planning to start this as following:</div><pre style=""><code style="background-color: transparent; border-bottom-left-radius: 3px; border-bottom-right-radius: 3px; border-top-left-radius: 3px; border-top-right-radius: 3px; border: 0px; color: inherit; font-family: Consolas, 'Liberation Mono', Courier, monospace !important; padding: 0px;"><span style="" class="hljs-class"><span style="color: #333333; font-weight: bold;" class="hljs-keyword">class</span> <span style="color: #445588; font-weight: bold;" class="hljs-title">FermatsPrinciple</span><span style="" class="hljs-params">(Expr)</span>:</span><br /><br />    <span style="" class="hljs-function"><span style="color: #333333; font-weight: bold;" class="hljs-keyword">def</span> <span style="color: #990000; font-weight: bold;" class="hljs-title">__init__</span><span style="" class="hljs-params">(self, p1, p2, v=Symbol<span style="" class="hljs-params">(<span style="color: #dd1144;" class="hljs-string">'c'</span>)</span>)</span>:</span><br />        <span style="color: #333333; font-weight: bold;" class="hljs-keyword">if</span> isinstance(p1, type(())) <span style="color: #333333; font-weight: bold;" class="hljs-keyword">and</span> isinstance(p2, type(())):<br />            <span style="color: #333333; font-weight: bold;" class="hljs-keyword">if</span> len(p1) == <span style="color: #009999;" class="hljs-number">2</span> <span style="color: #333333; font-weight: bold;" class="hljs-keyword">and</span> len(p2) == <span style="color: #009999;" class="hljs-number">2</span>:<br />                self.p1 = Point(*p1)<br />                self.p2 = Point(*p2)<br />            <span style="color: #333333; font-weight: bold;" class="hljs-keyword">elif</span> len(p1) == <span style="color: #009999;" class="hljs-number">3</span> <span style="color: #333333; font-weight: bold;" class="hljs-keyword">and</span> len(p2) == <span style="color: #009999;" class="hljs-number">3</span>:<br />                self.p1 = Point3D(*p1)<br />                self.p2 = Point3D(*p2)<br />        <span style="color: #333333; font-weight: bold;" class="hljs-keyword">elif</span> isinstance(p1, Point) <span style="color: #333333; font-weight: bold;" class="hljs-keyword">and</span> isinstance(p2, Point):<br />            self.p1 = Point3D(p1.x, p1.y, <span style="color: #009999;" class="hljs-number">0</span>)<br />            self.p2 = Point3D(p2.x, p2.y, <span style="color: #009999;" class="hljs-number">0</span>)<br />        <span style="color: #333333; font-weight: bold;" class="hljs-keyword">elif</span> isinstance(p1, Point3D) <span style="color: #333333; font-weight: bold;" class="hljs-keyword">and</span> isinstance(p2, Point3D):<br />            self.p1 = p1<br />            self.p2 = p2<br />        <span style="color: #333333; font-weight: bold;" class="hljs-keyword">else</span>:<br />            <span style="color: #333333; font-weight: bold;" class="hljs-keyword">raise</span> TypeError(<span style="color: #dd1144;" class="hljs-string">"p1 and p2 can only be tuple, Point or Point3D"</span>)<br /></code></pre><div style="color: #444444; font-family: Arvo, 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 13px; line-height: 18px; margin-bottom: 9px;">It's not a very good API and needs more refining which I'll discuss with Sean once I get it working.</div><div style="color: #444444; font-family: Arvo, 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 13px; line-height: 18px; margin-bottom: 9px;">My work in this week(<em style="">fourth week as I am writing this post very late</em>) will be to complete the above discussed things.</div><div style="color: #444444; font-family: Arvo, 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 13px; line-height: 18px; margin-bottom: 9px;">On a lighter note, the temperature here is 46 degrees and no sign of rains yet. :(</div><div style="color: #444444; font-family: Arvo, 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 13px; line-height: 18px; margin-bottom: 9px;"><em style="">That's all for now. Cheers!</em></div><div style="color: #444444; font-family: Arvo, 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 13px; line-height: 18px; margin-bottom: 9px;">If you have some feedback or questions regarding this post, please add comments. I would be happy to get some feedback.</div></div></div>







<p class="date">
<a href="http://lifelesscode.blogspot.com/2014/06/gsoc14-third-week.html">by Sudhanshu Mishra (noreply@blogger.com) at June 10, 2014 10:08 AM</a>
</p>
</div>
</div>



</div>
<div class="channelgroup">







<h3><a href="http://geekpy.blogspot.com/" title="Akshay Narasimha">Akshay Narasimha</a></h3>


<div class="entrygroup" id="tag:blogger.com,1999:blog-54146973659574488.post-8362916681945518929">
<h4><a href="http://geekpy.blogspot.com/2014/06/gsoc14-week-3.html">Gsoc14 Week-3</a></h4>
<div class="entry">
<div class="content">
<div style="text-align: left;" dir="ltr">Time is actually flying as the third week of Gsoc has come to an end. This week I have completed the implementation of the line class in 3D which includes geometric entities like Line, Ray and Segment. The link to the PR is <a href="https://github.com/sympy/sympy/pull/7554">Here</a>.<br />It hasn't been merged yet but  I will get it merged soon.<br /><br />Implementation:<br /><br />Line3D:<br /> <div style="">&gt;&gt;&gt; L = Line3D(Point3D(2, 3, 4), Point3D(3, 5, 1))</div><div style="">&gt;&gt;&gt; L</div><div style="">Line3D(Point3D(2, 3, 4), Point3D(3, 5, 1))</div><div style="">&gt;&gt;&gt; L.points</div><div style="">(Point3D(2, 3, 4), Point3D(3, 5, 1))</div><div style="">&gt;&gt;&gt; l = Line3D(Point3D(1, 2, 3), direction_ratio=[1, 2, 3]) </div><div style="">&gt;&gt;&gt; l</div><div style="">Line3D(Point3D(1, 2, 3), Point3D(2, 4, 6))</div><div style=""><br /></div><div style="">Ray3D:</div><div style="">r = Ray3D(Point3D(2, 3, 4), Point3D(3, 5, 0))</div><div style="">&gt;&gt;&gt; r</div><div style="">Ray3D(Point3D(2, 3, 4), Point3D(3, 5, 0))</div><div style="">&gt;&gt;&gt; r.points</div><div style="">(Point3D(2, 3, 4), Point3D(3, 5, 0))</div><div style="">&gt;&gt;&gt; r.source</div><div style="">Point3D(2, 3, 4)</div><div style="">&gt;&gt;&gt; r.xdirection</div><div style="">oo</div><div style="">&gt;&gt;&gt; r.ydirection</div><div style="">oo</div><div style="">&gt;&gt;&gt; r.zdirection</div><div style=""> -oo</div><div style="">&gt;&gt;&gt; r.direction_ratio</div><div style="">[1, 2, -4]</div><div style=""><br /></div><div style="">Segment3D:</div><div style="">&gt;&gt;&gt; s = Segment3D(Point3D(4, 3, 9), Point3D(1, 1, 7))</div>&gt;&gt;&gt; s<br />Segment3D(Point3D(1, 1, 7), Point3D(4, 3, 9)) <br /><div style="">&gt;&gt;&gt; s.points</div><div style="">(Point3D(1, 1, 7), Point3D(4, 3, 9))</div><div style="">&gt;&gt;&gt; s.length</div><div style="">sqrt(17)</div><div style="">&gt;&gt;&gt; s.midpoint</div><div style="">Point3D(5/2, 2, 8)</div><div style=""><br /></div><div style=""><br /></div><div style="">Each of the above classes inherit methods from the LinearEntity3D class(Base class).These include:</div><div style=""><br /></div><ul class="task-list"><li>is_concurrent</li><li>is_parallel</li><li>is_perpendicular</li><li>angle_between</li><li>parallel_line</li><li>perpendicular_line</li><li>projection</li><li>intersection</li><li>arbitrary_point </li></ul><div style=""><br /></div><br />This week I will start working on the Plane class which as mentioned in the previous post will bridge the gap for the interactions between 2D and 3D entities. Until then cheers!<br /><br /></div></div>







<p class="date">
<a href="http://geekpy.blogspot.com/2014/06/gsoc14-week-3.html">by Akshay Narasimha (noreply@blogger.com) at June 10, 2014 09:57 AM</a>
</p>
</div>
</div>


</div>

</div>
<div class="daygroup">
<h2>June 09, 2014</h2>

<div class="channelgroup">







<h3><a href="https://hargup.github.io/" title="Harsh's blog">Harsh Gupta</a></h3>


<div class="entrygroup" id="https://hargup.github.io/posts/week-3.html">
<h4 lang="en"><a href="https://hargup.github.io/posts/week-3.html">week 3</a></h4>
<div class="entry">
<div class="content">
<div><p>Hi,
At the start of this week I wrote a method to check if a given solution
lies in the domain of the equation or not. The problem it targeted was equations like <code>(x
- 1)/(1 + 1/(x - 1))</code> though at <code>x = 1</code> the eqution has value zero the point is
not present in the domain of the given equation. Though there is some
disagreement on the implementation, the idea was to traverse the expression
tree and check if any of the subexpression goes unbounded for the given
value.  Later I observed that caching was messing with the tests. Sometimes
the tests passed and sometimes the same test suit run without any
modification in the code failed. To do the check on the subexpressions I need
to have a copy of the original equation before the solver performs any
simplification on it. Being not sure of the mutability of the equations
I used deepcopy to copy the original equation to a variable. Later in a
meeting we figured out that deepcopy was messing with caching. Aaron told me
that every expression in sympy is immutable so don't need to perform deepcopy
on anything.</p>
<p>This week we will restart working on the sets to represent infinite solutions,
Almost every equation in complex domain other than polynomials and rationals
has infinitly many solutions. For example even the simple equation <code>exp(x) ==
1</code> has infinitely many solutions that is <code>i*2*n*pi</code> where <code>n</code> is an integer.
To return these solutions we first need to have infrastructure to handle them.
The old(current) solvers does it wrong, it implicity mixes up the complex and real
domains, the answer it returns to <code>exp(x) == 1</code> is only <code>[0]</code>. Earlier I was also doing it wrong
so I decided that I should have two seperate solvers for reals and complex
instead of one. This also simplifed the code for the reals solvers to a large
extent.</p></div></div>







<p class="date">
<a href="https://hargup.github.io/posts/week-3.html">by Harsh Gupta at June 09, 2014 02:50 PM</a>
</p>
</div>
</div>



</div>
<div class="channelgroup">







<h3><a href="http://kundankumar185.wordpress.com" title="my experiments with life">Kundan Kumar</a></h3>


<div class="entrygroup" id="http://kundankumar185.wordpress.com/?p=51">
<h4 lang="en"><a href="http://kundankumar185.wordpress.com/2014/06/09/third-week-of-gsoc/">Third week of GSoC</a></h4>
<div class="entry">
<div class="content" lang="en">
<p>Time runs fast, I have spent three weeks enjoying the work of GSoC and things I am learning meanwhile. I just dont have idea how it passed so fast. Well, it has been good week. I completed my previous work and the best thing is that I have first <a href="https://github.com/sympy/sympy/pull/7489">PR</a> merged and second is also complete and hope to be merged soon.</p>
<p>First <a href="https://github.com/sympy/sympy/pull/7489">PR</a> merged included classification of system of ordinary differential equations and implementation of linear system of 2 equations of first order. Second <a href="https://github.com/sympy/sympy/pull/7527">PR</a> contains some modification of first PR and implementation of linear system of 2 equations of second order. The recent <a href="https://github.com/sympy/sympy/pull/7577">PR</a> contain the method for solving linear system of three or more equations of first order.</p>
<p>The work of next week will be a to implement non-linear system of 2 equations of 1st order.</p><br />  <a href="http://feeds.wordpress.com/1.0/gocomments/kundankumar185.wordpress.com/51/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/comments/kundankumar185.wordpress.com/51/" alt="" border="0" /></a> <img src="http://stats.wordpress.com/b.gif?host=kundankumar185.wordpress.com&amp;blog=68025302&amp;post=51&amp;subd=kundankumar185&amp;ref=&amp;feed=1" alt="" border="0" width="1" height="1" /></div>







<p class="date">
<a href="http://kundankumar185.wordpress.com/2014/06/09/third-week-of-gsoc/">by Kundan at June 09, 2014 05:06 AM</a>
</p>
</div>
</div>


</div>

</div>
<div class="daygroup">
<h2>June 08, 2014</h2>

<div class="channelgroup">







<h3><a href="http://blog.s-d-b.com" title="SDB's Blog » SymPy">Soumya Dipta Biswas</a></h3>


<div class="entrygroup" id="http://blog.s-d-b.com/?p=39">
<h4 lang="en-US"><a href="http://blog.s-d-b.com/gsoc-2014-week-3/">GSoC 2014: Week 3</a></h4>
<div class="entry">
<div class="content" lang="en-US">
<p>Week 3 involved some majority writing to substitute the automatic evaluation I removed the previous week. I mentioned previously that automatic evaluation may not always be very intuitive. The reason for this is that the conventional conversion to And/Or is not always the most efficient one. Hence this post is mainly centered around conversion to And/Or.</p>
<p><strong>Logic Simplification</strong><br />
Before I move on, I need to define simplification. For the remainder of this post simplification means conversion towards the normal forms (CNF/DNF/NNF). Hence the simplification of <code>Implies(a, b)</code> is <code>Or(Not(a), b)</code>. One may (quite reasonably) argue that the former is much <em>simpler</em>, but the convention followed here is that a formula containing And/Or/Not is simpler than a formula containing Implies or Xor. One last thing before I begin with the content; while most people are quite familiar with the Conjunctive/Disjunctive Normal Form, very few are so with the <a href="http://en.wikipedia.org/wiki/Negation_normal_form" target="_blank" title="NNF">Negation Normal Form</a> (NNF). NNF basically is a precursor to both CNF/DNF where in the formula contains only And/Or and all the negations are applied to the literals. Basically every CNF/DNF is an NNF, with some extra constraints. <code>Not(Or(And(a, Not(b)), And(Not(c), d)))</code> is not in NNF, but applying De Morgan’s Laws gives us the equivalent formula <code>And(Or(Not(a), b), Or(c, Not(d)))</code> is in NNF (and incidentally also in CNF). The discussion below is concerned with simplification of formulas to (CNF/DNF like) NNF. Now, what does that mean? It basically means that the converted expressions are definitely in NNF and very close to CNF/DNF and can be converted to it quite easily. At most places I have used the names of the function but occasionally I have switched to a symbol based system wherein the symbols and their corresponding functions are: <code>&amp;</code> (And), <code>|</code> (Or), <code>~</code> (Not), <code>&gt;&gt;</code> (Implies), <code>^</code> (Xor).</p>
<p><strong>And/Or</strong><br />
Since all of the other functions are going to be converted to And/Or, no work is to be done in this case.</p>
<p><strong>Implication</strong><br />
The conventional simplification of implication is simple and in both CNF and DNF. Hence <code>Implies(a, b) = Or(Not(a), b)</code> is sufficient.</p>
<p><strong>Equivalence</strong><br />
This marks the starting point of optimizations. Traditionally, all Equivalences are defined in the form of a bi-implication <code>Equivalent(a, b) = And(Implies(a, b), Implies(b, a)) = And(Or(Not(a), b), (a, Not(b)))</code>. Well, that seems simple enough, what’s the big deal? Let’s try and define <code>Equivalent(a, b, c)</code>. The definition is quite non-trivial. Let say we now how to compute <code>And(a, b)</code> and we need to compute <code>And(x, y, z)</code>. So, <code>a &amp; b &amp; c = (a &amp; b) &amp; c = And(And(a, b), c)</code>. Naively applying the same idea (replacing And with Equivalent) gives <code>Equivalent(Equivalent(a, b), c)</code>. For <code>{a: False, b: False, c: True}</code> the latter formula is satisfied (is True) while the original formula is clearly not. For the remainder of this section I have written Equivalent as Eq and Implies as Im.<br />
Let’s use some intuition. We know that the result must be such that all the arguments must be equal (and we know how to find if any 2 arguments are equal). So <code>Eq(a, b, c) = And(Eq(a, b), Eq(b, c), Eq(c, a))</code>. How about 4 elements? <code>Eq(a, b, c, d) = And(Eq(a, b), Eq(a, c), Eq(a, d), Eq(b, c), Eq(b, d), Eq(c, d))</code>. Quite clearly, some of the terms are completely redundant, for e.g. if a == b and b == c then automatically a == c. Using this logic, Equivalence for 3 and 4 arguments respectively become <code>And(Eq(a, b), Eq(b, c))</code> and <code>And(Eq(a, b), Eq(b, c), Eq(c, d))</code>. Simplifying <code>And(Eq(a, b), Eq(b, c))</code> we get <code>And(Im(a, b), Im(b, a), Im(b, c), Im(c, b))</code>.<br />
Before simplifying it further let’s try to see if we really need two implications for each pair of literals. If we include the (clearly redundant) Eq(c, a) and re-arrange the simplified formula a little bit we get <code>And(Im(a, b), Im(b, c), Im(c, a), Im(b, a), Im(c, b), Im(a, c))</code>. Turns out, the first 3 (or last 3) implications are independently capable of representing the original equivalence. Hence <code>Eq(a, b, c) = And(Im(a, b), Im(b, c), Im(c, a)) = And(Im(b, a), Im(c, b), Im(a, c))</code>. We can further simplify the implication to obtain <code>And(Or(Not(a), b), Or(Not(b), c), Or(Not(c), a))</code> which is in NNF and also in CNF.<br />
So, why does this work? It works because in an implication, if the implicant is True, then the implied cannot be False. Let us take the general case <code>Eq(a0, a1, a2, ... an) = And(Im(a0, a1), Im(a1, a2), ... Im(an, a0))</code>. Now if one or more (but not all) of the literals are True (or False), then there will be atleast one occurrence of <code>True &gt;&gt; False</code>. It is quite easy to verify that this will not happen if the literals are either all True or all False. Hence if all the literals are the same (equivalent) then the conjunction of implication will be True else it will be False, which is essentially the Equivalent function.</p>
<p>Ok, so till now we have been really conjunctive in our approach. Let’s think more disjunctive. The aim is to ensure that all the literals have the same value. Lets divide that into 2 parts: Either all the literals are True or all the literals are False. It is very easy to ensure that all literals are True, namely And’ing them together. How do we check then if all are False? Simply negating each literal and And’ing them together suffices. So, combining both the ideas we get: <code>Equivalent(a, b, c, ...) = Or(And(a, b, c, ...), And(Not(a), Not(b), Not(c), ...)</code> which is both in NNF and DNF.</p>
<p><strong>Exclusive Or</strong><br />
Xor creates one of the most complex NNF formula after simplification. Let look at the traditional simplification <code>Xor(a, b) = Or(And(a, Not(b)), And(Not(a), b)) = And(Or(a,b), Or(Not(a), Not(b)))</code>. How about 3 literals? Luckily the intuition of <code>Xor(a, b, c) = Xor(Xor(a, b), c)</code> holds here. Not so luckily, the simplified expression is <code>Or(And(Not(c), Or(And(Not(a), b), And(Not(b), a))), And(Or(Not(a), b), Or(Not(b), a), c))</code>. So, is there a better solution. Turns out, there is a very elegant way to compute this expression. Let us first take the disjunctive case. If ‘n’ is the number of arguments to Xor then the expression can be given by the following algorithm:</p>
<ol>
<li>Select all odd numbers from 0 to n, inclusive {1, 3}</li>
<li>For each of these odd number ‘k’ create all possible combinations of k arguments. The are nCk such combinations
<ul>
<li>k = 1: <code>{{a}, {b}, {c}}</code></li>
<li>k = 3: <code>{{a, b, c}}</code></li>
</ul>
</li>
<li>In each of these combinations, we keep the k selected arguments as is and negate the rest of the arguments
<ul>
<li>k = 1: <code>{{a, ~b, ~c}, {~a, b, ~c}, {~a, ~b, c}}</code></li>
<li>k = 3: <code>{{a, b, c}}</code></li>
</ul>
</li>
<li>Take the union of all these combinations (there are nC1 + nC3 + nC5 … such combinations) and this gives the result <code>{{a, ~b, ~c}, {~a, b, ~c}, {~a, ~b, c}, {a, b, c}}</code></li>
</ol>
<p>It is quite easy to understand why the method works. By definition, Xor is True if it contains an odd number of True arguments. Now that is precisely what the aim of the above algorithm is. For each possible combination we keep an odd number of literals unnegated. So, why is this method So, why is this clearly exponential method <em>simpler</em>? Well, it is not. But the simplified expression is already in DNF, and we have short-circuited the very hard problem of conversion to DNF. For conversion to CNF the same algorithm (as above can be applied), however consider all even numbers (instead of odd) and negate the selected arguments (instead of negating the unselected).</p>
<ol>
<li><code>k = {0, 2}</code></li>
<li><code>{{}, {a, b}, {b, c}, {c, a}}</code></li>
<li><code>{{a, b, c}, {~a, ~b, c}, {a, ~b, ~c}, {~a, b, ~c}}</code></li>
</ol>
<p><strong>If, Then, Else</strong><br />
<code>ITE(a, b, c)</code> as the name suggests returns <code>b</code> is <code>a == True</code> else <code>c</code>. To derive a simplification for ITE is quite easy as it can always take exactly 3 arguments. Now, <code>ITE(a, b, c) = (a &gt;&gt; b) &amp; (~a &gt;&gt; c)</code>. Simplifying that, we get <code>(~a | b) &amp; (a | c)</code> which is already in CNF. The DNF version is equally simple to derive.</p>
<p>Alright, so that sums up most of the work that I have put in during Week 3. I have additionally been working on an iterative version of the same code and hope that it will provide some good results.</p>
<p>Ciao!!!</p></div>







<p class="date">
<a href="http://blog.s-d-b.com/gsoc-2014-week-3/">by SD at June 08, 2014 08:56 PM</a>
</p>
</div>
</div>


</div>

</div>
<div class="daygroup">
<h2>June 07, 2014</h2>

<div class="channelgroup">







<h3><a href="http://jcrist.github.io/" title="Marginally Stable">Jim Crist</a></h3>


<div class="entrygroup" id="tag:,2014-06-06:gsoc-week-3.html">
<h4><a href="http://jcrist.github.io/gsoc-week-3.html">GSoC Week 3: Generalized Linearizer Class</a></h4>
<div class="entry">
<div class="content">
<p>
</p><div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>This week I refactored the <code>Linearizer</code> class to fit a general system of equations. This means that any of the following can be absent, and the linearization still is valid:</p>
<p><span class="math">\[
\begin{array}[rl]
\\f_{c}(q, t) &amp;= 0_{lx1} \\
f_{v}(q, u, t) &amp;= 0_{mx1} \\
f_{a}(q, \dot{q}, u, \dot{u}, t) &amp;= 0_{mx1} \\
f_{0}(q, \dot{q}, t) + f_{1}(q, u, t) &amp;= 0_{nx1} \\
f_{2}(q, \dot{u}, t) + f_{3}(q, \dot{q}, u, r, t) &amp;= 0_{(o-m)x1} \\
\end{array}
\]</span> with</p>
<p><span class="math">\[
\begin{array}[rl]
\\q, \dot{q} &amp; \in \mathbb{R}^n \\
u, \dot{u} &amp; \in \mathbb{R}^o \\
r &amp; \in \mathbb{R}^s 
\end{array}
\]</span></p>
<p>Note that vectors can be absent too. This means the system can be entirely <span class="math">\(q\)</span> or <span class="math">\(u\)</span> components. More on this later.</p>
<p>Much of the rest of the week was spent finishing up all methods related to the <code>KanesMethod</code> class. This was mostly cleaning up the code base, and fixing all the tests in place for the previous <code>linearize</code> method. As of this point, the linearization routines accomplish everything that was in place before, but in a more general and extensible way. This is all included in the <code>LinearizerClass</code> branch on my GitHub repo. There is a pull request on my own master branch open right now for code review <a href="https://github.com/jcrist/sympy/pull/1">here</a>. I'll leave this up for another day or two before closing it and making all pull request to <code>Sympy/master</code>.</p>
<p>I also started work on linearizing a system of equations presented in matrix form. This still needs lots of code improvements (it's inefficient), but it currently works. Below is a demo.</p>
<p>The system is the same system I use for my research - a dual solenoid actuator. There are two dependent variables: <code>lam1</code> and <code>lam2</code>. The dynamics are thus expressed by 3 dynamic differential equations, and two constraint equations.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In [1]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight-ipynb"><pre class="ipynb"><span class="kn">from</span> <span class="nn">sympy</span> <span class="kn">import</span> <span class="n">symbols</span><span class="p">,</span> <span class="n">Matrix</span>
<span class="kn">from</span> <span class="nn">sympy.physics.mechanics</span> <span class="kn">import</span> <span class="n">dynamicsymbols</span><span class="p">,</span> <span class="n">mprint</span>
<span class="kn">from</span> <span class="nn">sympy.physics.mechanics.linearize</span> <span class="kn">import</span> <span class="n">Linearizer</span><span class="p">,</span> <span class="n">matrix_to_linearizer</span>

<span class="c"># Create constant symbols</span>
<span class="n">B1</span><span class="p">,</span> <span class="n">B2</span> <span class="o">=</span> <span class="n">symbols</span><span class="p">(</span><span class="s">'B1, B2'</span><span class="p">)</span>
<span class="n">d1</span><span class="p">,</span> <span class="n">d2</span><span class="p">,</span> <span class="n">D</span> <span class="o">=</span> <span class="n">symbols</span><span class="p">(</span><span class="s">'d1, d2, D'</span><span class="p">)</span>
<span class="n">R1</span><span class="p">,</span> <span class="n">R2</span> <span class="o">=</span> <span class="n">symbols</span><span class="p">(</span><span class="s">'R1, R2'</span><span class="p">)</span>
<span class="n">m</span> <span class="o">=</span> <span class="n">symbols</span><span class="p">(</span><span class="s">'m'</span><span class="p">)</span>
<span class="n">t</span> <span class="o">=</span> <span class="n">symbols</span><span class="p">(</span><span class="s">'t'</span><span class="p">)</span>

<span class="c"># Create dynamicsymbols</span>
<span class="n">i1</span><span class="p">,</span> <span class="n">i2</span> <span class="o">=</span> <span class="n">dynamicsymbols</span><span class="p">(</span><span class="s">'i1, i2'</span><span class="p">)</span>
<span class="n">V1</span><span class="p">,</span> <span class="n">V2</span> <span class="o">=</span> <span class="n">dynamicsymbols</span><span class="p">(</span><span class="s">'V1, V2'</span><span class="p">)</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">dynamicsymbols</span><span class="p">(</span><span class="s">'x'</span><span class="p">)</span>
<span class="n">xdot</span> <span class="o">=</span> <span class="n">x</span><span class="o">.</span><span class="n">diff</span><span class="p">()</span>
<span class="n">lam1</span><span class="p">,</span> <span class="n">lam2</span> <span class="o">=</span> <span class="n">dynamicsymbols</span><span class="p">(</span><span class="s">'lam1, lam2'</span><span class="p">)</span>
<span class="n">lam1dot</span><span class="p">,</span> <span class="n">lam2dot</span> <span class="o">=</span> <span class="n">dynamicsymbols</span><span class="p">(</span><span class="s">'lam1, lam2'</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

<span class="c"># Define vectors. Because all speeds are derivatives of the coordinates,</span>
<span class="c"># the system is best represented as just a vector of u. The dependent</span>
<span class="c"># states are lam1 and lam2</span>
<span class="n">u</span> <span class="o">=</span> <span class="n">Matrix</span><span class="p">([</span><span class="n">i1</span><span class="p">,</span> <span class="n">i2</span><span class="p">,</span> <span class="n">xdot</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">lam1</span><span class="p">,</span> <span class="n">lam2</span><span class="p">])</span>
<span class="n">udep</span> <span class="o">=</span> <span class="n">u</span><span class="p">[</span><span class="mi">4</span><span class="p">:]</span>

<span class="c"># Define system of equations</span>
<span class="n">eom</span> <span class="o">=</span> <span class="n">Matrix</span><span class="p">([</span><span class="n">B1</span><span class="o">/</span><span class="p">(</span><span class="n">d1</span> <span class="o">+</span> <span class="n">x</span><span class="p">)</span><span class="o">*</span><span class="n">i1</span> <span class="o">-</span> <span class="n">lam1</span><span class="p">,</span>
              <span class="n">B2</span><span class="o">/</span><span class="p">(</span><span class="n">D</span> <span class="o">+</span> <span class="n">d2</span> <span class="o">-</span> <span class="n">x</span><span class="p">)</span><span class="o">*</span><span class="n">i2</span> <span class="o">-</span> <span class="n">lam2</span><span class="p">,</span>
              <span class="o">-</span><span class="n">lam1dot</span> <span class="o">-</span> <span class="n">R1</span><span class="o">*</span><span class="n">i1</span> <span class="o">+</span> <span class="n">V1</span><span class="p">,</span>
              <span class="o">-</span><span class="n">lam2dot</span> <span class="o">-</span> <span class="n">R2</span><span class="o">*</span><span class="n">i2</span> <span class="o">+</span> <span class="n">V2</span><span class="p">,</span>
              <span class="o">-</span><span class="n">xdot</span><span class="o">.</span><span class="n">diff</span><span class="p">()</span> <span class="o">+</span> <span class="p">(</span><span class="n">B2</span><span class="o">/</span><span class="p">(</span><span class="n">d2</span> <span class="o">+</span> <span class="n">D</span> <span class="o">-</span> <span class="n">x</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span> <span class="o">*</span> <span class="n">i2</span><span class="o">**</span><span class="mi">2</span> <span class="o">-</span> <span class="n">B1</span><span class="o">/</span><span class="p">(</span><span class="n">d1</span> <span class="o">+</span> <span class="n">x</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span> <span class="o">*</span> <span class="n">i1</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span><span class="o">/</span><span class="n">m</span><span class="p">])</span>

<span class="c"># Perform the linearization</span>
<span class="n">linearizer</span> <span class="o">=</span> <span class="n">matrix_to_linearizer</span><span class="p">(</span><span class="n">eom</span><span class="p">,</span> <span class="n">u</span><span class="o">=</span><span class="n">u</span><span class="p">,</span> <span class="n">udep</span><span class="o">=</span><span class="n">udep</span><span class="p">)</span>
<span class="n">A</span><span class="p">,</span> <span class="n">B</span> <span class="o">=</span> <span class="n">linearizer</span><span class="o">.</span><span class="n">linearize</span><span class="p">(</span><span class="n">A_and_B</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In [2]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight-ipynb"><pre class="ipynb"><span class="n">mprint</span><span class="p">(</span><span class="n">A</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>Matrix([
[(B1*x&amp;apos - R1*(d1 + x)**2)/(B1*(d1 + x)),                                               0,                        ((d1 + x)*i1&amp;apos - 2*i1*x&amp;apos)/(d1 + x)**2,      2*i1/(d1 + x)],
[                                     0, -(B2*x&amp;apos + R2*(D + d2 - x)**2)/(B2*(D + d2 - x)),               -((D + d2 - x)*i2&amp;apos + 2*i2*x&amp;apos)/(D + d2 - x)**2, -2*i2/(D + d2 - x)],
[                                     0,                                               0,                                                           0,                  1],
[              -2*B1*i1/(m*(d1 + x)**2),                     2*B2*i2/(m*(D + d2 - x)**2), 2*B1*i1**2/(m*(d1 + x)**3) + 2*B2*i2**2/(m*(D + d2 - x)**3),                  0]])

</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In [3]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight-ipynb"><pre class="ipynb"><span class="n">mprint</span><span class="p">(</span><span class="n">B</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>Matrix([
[(d1 + x)/B1,               0],
[          0, (D + d2 - x)/B2],
[          0,               0],
[          0,               0]])

</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>You'll have to trust me that the above representations are the same ones that I derived for my research project. This is really exciting progress! If everything works out (and it looks like it will), it will be possible to derive a system of dynamic equations anywhere in sympy, and then linearize it using the functionality I implement in the <code>linearize</code> function.</p>
<p>Currently the system of equations is must formed as a matrix, and then passed to <code>matrix_to_linearizer</code> to return a <code>Linearizer</code> object. Once this code is cleaned up, it will be used internally by the general <code>linearize</code> function to convert the system to a <code>Linearizer</code>, perform the linearization, and return the results. I plan on implementing this functionality next week.</p>
<p>The code used above is found in my <code>matrix2linearizer</code> branch on GitHub <a href="https://github.com/jcrist/sympy/tree/matrix2linearizer">here</a>. As before, I made a pull request on my own rep, so people may review the code before i submit it to Sympy proper. The PR is <a href="https://github.com/jcrist/sympy/pull/2">here</a>.</p>
</div>
</div>
</div><p></p>&lt;script type="text/javascript"&gt;
    if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {
        var mathjaxscript = document.createElement('script');
        mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';
        mathjaxscript.type = 'text/javascript';
        mathjaxscript.src = 'https:' == document.location.protocol
                ? 'https://c328740.ssl.cf1.rackcdn.com/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'
                : 'http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML';
        mathjaxscript[(window.opera ? "innerHTML" : "text")] =
            "MathJax.Hub.Config({" +
            "    config: ['MMLorHTML.js']," +
            "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } }," +
            "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +
            "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +
            "    displayAlign: 'center'," +
            "    displayIndent: '0em'," +
            "    showMathMenu: true," +
            "    tex2jax: { " +
            "        inlineMath: [ ['$','$'] ], " +
            "        displayMath: [ ['$$','$$'] ]," +
            "        processEscapes: true," +
            "        preview: 'TeX'," +
            "    }, " +
            "    'HTML-CSS': { " +
            "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'black ! important'} }" +
            "    } " +
            "}); ";
        (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);
    }
&lt;/script&gt;</div>







<p class="date">
<a href="http://jcrist.github.io/gsoc-week-3.html">by Jim Crist at June 07, 2014 01:00 AM</a>
</p>
</div>
</div>


</div>

</div>
<div class="daygroup">
<h2>June 06, 2014</h2>

<div class="channelgroup">







<h3><a href="http://codesachin.wordpress.com" title="Dream. Think. Code. » Google Summer of Code 2014">Sachin Joglekar</a></h3>


<div class="entrygroup" id="http://codesachin.wordpress.com/?p=13">
<h4 lang="en"><a href="http://codesachin.wordpress.com/2014/06/07/gsoc-week-3-formalizing-design-polishing-code/">GSoC Week 3: Formalizing design, polishing code</a></h4>
<div class="entry">
<div class="content" lang="en">
<p>This week was mostly spent in polishing the design, writing mock sessions and adding tests to the code I wrote last week. Thanks to Jason’s constant encouragement towards objective- and test- driven code development, I now have a good idea of what I need to do in the coming week. If the meeting with Jason goes well and we are on the same page, I will soon complete the current WIP PR that is at <a href="https://github.com/sympy/sympy/pull/7566">this link</a>, and then move on to implementing CoordSysRect class (just written the API for now).</p>
<p>What I learnt this week-</p>
<p>Before coding,</p>
<p>1. First write out as many example use cases of the software, as possible. In this case, the quality is more important than the quantity. The use cases should sufficiently touch upon all aspects of working required from the software that you are about to code. The interactions, on a conceptual and UI-level, should be as crytal-clear as needed.</p>
<p>2. Draw out the high-level API -&gt; user-visible attributes(or better, ‘property’s in Python) and methods/functions. These will help you in defining all the ‘internal’ matter and algorithms succinctly.</p>
<p>3. While you are finalizing the API design, start drawing up a set of incremental objectives you would need to complete for building the overall software. Make sure that the objectives make sense chronologically, and reflect the priority and complexity level of the objectives correctly. This is basically to acknowledge that it is not possible to build and entire software together, but rather its better to code it module-by-module – with sufficuent testing at regular intervals, ofcourse.</p>
<p>The follow the timeline you have decided, and start coding.</p>
<p>Respecting this, I will start working on the code full-time next week onwards, so hope to give more detailed reports then. Have a great week <span class="wp-smiley emoji emoji-smile" title=":-)">:-)</span>.</p><br />  <a href="http://feeds.wordpress.com/1.0/gocomments/codesachin.wordpress.com/13/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/comments/codesachin.wordpress.com/13/" alt="" border="0" /></a> <img src="http://stats.wordpress.com/b.gif?host=codesachin.wordpress.com&amp;blog=67602166&amp;post=13&amp;subd=codesachin&amp;ref=&amp;feed=1" alt="" border="0" width="1" height="1" /></div>







<p class="date">
<a href="http://codesachin.wordpress.com/2014/06/07/gsoc-week-3-formalizing-design-polishing-code/">by srjoglekar246 at June 06, 2014 11:46 PM</a>
</p>
</div>
</div>


</div>

</div>
<div class="daygroup">
<h2>June 03, 2014</h2>

<div class="channelgroup">







<h3><a href="http://thilinaatsympy.wordpress.com" title="Thilina's SymPy Blog">Thilina Rathnayake</a></h3>


<div class="entrygroup" id="http://thilinaatsympy.wordpress.com/?p=326">
<h4 lang="en"><a href="http://thilinaatsympy.wordpress.com/2014/06/03/gaussian-elimination/">[GSoC] Week 2: Gaussian Elimination</a></h4>
<div class="entry">
<div class="content" lang="en">
<p>Hi All, sorry for a late blog post. During the past week I worked on implementing<br />
gaussian elimination and correcting some bugs. I had a very slow progress during<br />
the past week due to the time spent on correcting the bugs and because of the busy<br />
schedule I had during the week. I wish to cover up for that during this week.</p>
<h1>Row Reduction</h1>
<p>Gaussian Elimination is a method for solving matrix equations of the form<br />
<img src="http://s0.wp.com/latex.php?latex=Ax+%3D+b&amp;bg=eff1f5&amp;fg=444444&amp;s=0" alt="Ax = b" class="latex" title="Ax = b" />. It is done by perfroming a sequence of operations on the matrix<br />
entries. This method can be used to find the <a href="http://en.wikipedia.org/wiki/Determinant),%20[rank](http://en.wikipedia.org/wiki/Rank_%28linear_algebra%29">determinant</a> and <a href="http://en.wikipedia.org/wiki/Invertible_matrix">inverse</a> of a matrix. The<br />
method is named after great mathematician <a href="http://en.wikipedia.org/wiki/Carl_Friedrich_Gauss">Carl Friedrich Gauss</a>.</p>
<p>The set of operations allowed on the matrix entries are called elementary row<br />
operations. Below are the three operations that are allowed.</p>
<p>1. Add <img src="http://s0.wp.com/latex.php?latex=a.%28row%7Ej%29&amp;bg=eff1f5&amp;fg=444444&amp;s=0" alt="a.(row~j)" class="latex" title="a.(row~j)" /> to <img src="http://s0.wp.com/latex.php?latex=%28row%7Ei%29&amp;bg=eff1f5&amp;fg=444444&amp;s=0" alt="(row~i)" class="latex" title="(row~i)" /> of the matrix.<br />
2. Interchange <img src="http://s0.wp.com/latex.php?latex=%28row%7Ei%29&amp;bg=eff1f5&amp;fg=444444&amp;s=0" alt="(row~i)" class="latex" title="(row~i)" /> and <img src="http://s0.wp.com/latex.php?latex=%28row%7Ej%29&amp;bg=eff1f5&amp;fg=444444&amp;s=0" alt="(row~j)" class="latex" title="(row~j)" />.<br />
3. Multiply <img src="http://s0.wp.com/latex.php?latex=%28row%7Ei%29&amp;bg=eff1f5&amp;fg=444444&amp;s=0" alt="(row~i)" class="latex" title="(row~i)" /> by a constant <img src="http://s0.wp.com/latex.php?latex=c&amp;bg=eff1f5&amp;fg=444444&amp;s=0" alt="c" class="latex" title="c" />.</p>
<p>The simplest non-zero matrices are called <strong>matrix units</strong> and they are denoted<br />
by <img src="http://s0.wp.com/latex.php?latex=e_%7Bij%7D&amp;bg=eff1f5&amp;fg=444444&amp;s=0" alt="e_{ij}" class="latex" title="e_{ij}" />. This denotes the matrix where only the <img src="http://s0.wp.com/latex.php?latex=%7Bij%7D%5E%7Bth%7D&amp;bg=eff1f5&amp;fg=444444&amp;s=0" alt="{ij}^{th}" class="latex" title="{ij}^{th}" /> entry is<br />
one and every other entry is zero. With this definition, above three row<br />
operations are equal to the left multiplying a given matrix by the following<br />
matrices respectively. These matrices are called **elementary matrices**.</p>
<p>1. <img src="http://s0.wp.com/latex.php?latex=I%7E%2B%7Eae_%7Bij%7D&amp;bg=eff1f5&amp;fg=444444&amp;s=0" alt="I~+~ae_{ij}" class="latex" title="I~+~ae_{ij}" /><br />
2. <img src="http://s0.wp.com/latex.php?latex=I%7E%2B%7Ee_%7Bij%7D%7E%2B%7Ee_%7Bji%7D%7E-%7Ee_%7Bii%7D%7E-%7Ee_%7Bjj%7D&amp;bg=eff1f5&amp;fg=444444&amp;s=0" alt="I~+~e_{ij}~+~e_{ji}~-~e_{ii}~-~e_{jj}" class="latex" title="I~+~e_{ij}~+~e_{ji}~-~e_{ii}~-~e_{jj}" /><br />
3. <img src="http://s0.wp.com/latex.php?latex=I%7E%2B%28c-1%29e_%7Bii%7D&amp;bg=eff1f5&amp;fg=444444&amp;s=0" alt="I~+(c-1)e_{ii}" class="latex" title="I~+(c-1)e_{ii}" /></p>
<p>Here <img src="http://s0.wp.com/latex.php?latex=I&amp;bg=eff1f5&amp;fg=444444&amp;s=0" alt="I" class="latex" title="I" /> is the identity matrix of appropriate size.</p>
<h2>Row reduction algorithm</h2>
<p>I implemented the algorithm in <strong>SymPy</strong> that gives the reduced row echelon form<br />
of the given matrix. It is a very naive algorithm not suited for symbolic matrices.<br />
I wish to implement an elimination algorithm that’s more suited for symbolic<br />
matrices during upcoming weeks.</p>
<h1>Bugs in CSymPy</h1>
<p>We found some bugs with `div` which were mainly originated in the constructor<br />
for `Rational`. Currently, for performance reasons, there is an assertion in the<br />
constructor for `Rational` that the input should actually be a rational number with<br />
denominator greater than one. If the denominator is one, the assertion fails and<br />
we get an error. We had to make sure that we are calling `Rational` with actual<br />
rationals, not Integers.</p><br />  <a href="http://feeds.wordpress.com/1.0/gocomments/thilinaatsympy.wordpress.com/326/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/comments/thilinaatsympy.wordpress.com/326/" alt="" border="0" /></a> <img src="http://stats.wordpress.com/b.gif?host=thilinaatsympy.wordpress.com&amp;blog=52956410&amp;post=326&amp;subd=thilinaatsympy&amp;ref=&amp;feed=1" alt="" border="0" width="1" height="1" /></div>







<p class="date">
<a href="http://thilinaatsympy.wordpress.com/2014/06/03/gaussian-elimination/">by Thilina Rathnayake at June 03, 2014 04:56 PM</a>
</p>
</div>
</div>


</div>

</div>
<div class="daygroup">
<h2>June 02, 2014</h2>

<div class="channelgroup">







<h3><a href="http://geekpy.blogspot.com/" title="Akshay Narasimha">Akshay Narasimha</a></h3>


<div class="entrygroup" id="tag:blogger.com,1999:blog-54146973659574488.post-4568350345911213597">
<h4><a href="http://geekpy.blogspot.com/2014/06/gsoc-week-2.html">Gsoc Week #2</a></h4>
<div class="entry">
<div class="content">
<div style="text-align: left;" dir="ltr">The second week of Gsoc has come to an end and I made some good progress this last week. Firstly my <a href="https://github.com/sympy/sympy/pull/7522">PR</a> on Point3D has been merged and I started implementing the line class(contains lines, rays and segments) in 3D using the Point3D class.<br /><br />This is the class structure for the Line class in 3D:<br />* Base class(all the below classes inherit from this class)<br />* Line3D<br />* Ray3D<br />* Segment3D<br /><br />I have implemented a part of each of these classes and have submitted a PR <a href="https://github.com/sympy/sympy/pull/7554">here</a>. I intend to implement the remaining methods and tests this following week and will hopefully merge the PR.<br /><br />Regarding the interaction between the Lines in 2D and 3D , it would be similar to the interaction between Points in 2D and 3D as discussed in the previous post.<br /><br />For example to find the distance between a 2D and 3D line instead of solving their equations we could find the intersection of the 3D line in the plane(to be implemented) contained by the 2D line and find the distance between the resulting point and the 2D line.As a result we get to keep the Line and Line3D classes seperate.<br /><br />That's it for this week.<br />Cheers.</div></div>







<p class="date">
<a href="http://geekpy.blogspot.com/2014/06/gsoc-week-2.html">by Akshay Narasimha (noreply@blogger.com) at June 02, 2014 06:46 PM</a>
</p>
</div>
</div>



</div>
<div class="channelgroup">







<h3><a href="http://gsocblog.blogspot.com/" title="GSoC 2014 with SymPy">Avichal Dayal</a></h3>


<div class="entrygroup" id="tag:blogger.com,1999:blog-283806077182880539.post-8460362206940299143">
<div class="entry">
<div class="content">
<div style="text-align: left;" dir="ltr"><div style="text-align: left;" dir="ltr">Two weeks into GSoC and I'm almost finished with the first part of my project. First part of my project involved asymptotic expansion. This included implementing the MrvAsympt algorithm and writing the series expansion of special functions.<br /><br />MrvAsympt algorithm:<br />As discussed in the previous post, if the most rapidly varying subexpression of function f is same as f, we need to find a canonical representation of the mrv set. This is done by taking the leading term of the asymptotic expansion of argument of the function f.<br />After getting the representative r, f is rewritten in terms of r and expanded around it. Now the problem is that this can keep on going forever i.e. the coefficients will keep on being rewritten infinitely times.<br /> For this ``bound`` parameter was added that keeps a limit on the number of times the coefficient is rewritten.<br />With this, function can also be written as an infinite asymptotic product. If ``bound=3`` then first 3 terms of this product is computed and rest are kept in closed form<br />Here is an example</div><pre style=""><code style="color: black;"> &gt;&gt;&gt; e = exp(exp(x)/(1-1/x))  <br /> &gt;&gt;&gt; e.aseries(x)  <br /> exp(exp(x)/(1 - 1/x))  <br /> &gt;&gt;&gt; e.aseries(x, bound=2)  <br /> exp(exp(x)/x)*exp(-exp(x) + exp(x)/(1 - 1/x) - exp(x)/x)*exp(exp(x))  </code></pre>Here the canonical representation as we go further into recursion is exp(x), exp(x)/x, exp(x)/x**2 and so on. So it never ends. Keeping bound=2 terminates it in the second phase.<br /><br />Special functions series expansion:<br />It includes the following functions-<br />  <ul class="task-list"><li>erf: gauss error function</li><li>erfc: complementary error function</li><li>erfi: imaginary error function</li><li>Ei: exponential integral</li><li>expint: generalised exponential integral</li><li>li: logarithmic integral</li><li>Li: offset logarithmic integral</li><li>Si: sine integral</li><li>Ci: cosine integral</li><li>bessely</li><li>besselj</li><li>lerchphi function</li><li>Riemann zeta function</li></ul>Most of the expansion I could find from wolfram mathworld and Wikipedia websites. However there were a few bugs that troubled me and wasted a lot of time. Since the expansions were in a bit complicated form, the current Order implementation could not properly perform operations like removeO, adding order terms and getO leading to such problems.<br />I hope I can merge the two pending PR soon without much trouble and start with the next phase of my project.<br /><br />Next phase of my project includes Formal Power Series. That is the major part of my project and I'm excited to get started with it.</div></div>







<p class="date">
<a href="http://gsocblog.blogspot.com/2014/06/two-weeks-into-gsoc-and-im-almost.html">by Avichal Dayal (noreply@blogger.com) at June 02, 2014 12:04 PM</a>
</p>
</div>
</div>



</div>
<div class="channelgroup">







<h3><a href="https://hargup.github.io/" title="Harsh's blog">Harsh Gupta</a></h3>


<div class="entrygroup" id="https://hargup.github.io/posts/week-1-and-week-2.html">
<h4 lang="en"><a href="https://hargup.github.io/posts/week-1-and-week-2.html">Week 1 and Week 2</a></h4>
<div class="entry">
<div class="content">
<div><p>Hi, As I told you about in the previous post, My work for this summer will be
improving the current equation solvers of sympy. There are basically three
thing I'll have to do.</p>
<ol><li>Create a basic set infrastructure for solvers to return sets.</li>
<li>Rewrite the current solvers to be clean and robust.</li>
<li>On the top of 1 and 2 write new solvers and function, they will returning
   and handling all the solutions of equations like <code>sin(x) == 0</code> and a general
   singularity finder.</li>
</ol><p>You can look at the details in my
<a href="https://github.com/sympy/sympy/wiki/GSoC-2014-Application-Harsh-Gupta:-Solvers">proposal</a></p>
<p>A started working on the sets module in the community bonding period, basically
writing a set difference class at <a href="https://github.com/sympy/sympy/pull/7462">this
PR</a> , I try to get it merged by the
end of this week.</p>
<p>Set are a pretty general mathematical constructs, and you can solve a lot of
hard problems if you could compute general set operations. The whole number
theory can be defined in terms of sets. So, computing general set operations,
e.g, intersection, unions is pretty hard problem too and we should not aim to
do all them.  In a meeting with Matthew and Sergey we discussed that it would
    be better if complete the part 2 first. It will give a general idea about
    what capabilities of sets we need.  Also some sets problems can be reduced
    to equations and vice versa.  </p>
<p>I've started working on the univariate solvers <a href="https://github.com/sympy/sympy/pull/7523">at
PR</a>.  My aim for this
week will be.</p>
<ol><li>Completing the rational solvers</li>
<li>Getting the open PR for the sets merged.</li>
</ol></div></div>







<p class="date">
<a href="https://hargup.github.io/posts/week-1-and-week-2.html">June 02, 2014 11:45 AM</a>
</p>
</div>
</div>




<div class="entrygroup" id="https://hargup.github.io/blog/week-1-and-week-2.html">
<h4 lang="en"><a href="https://hargup.github.io/blog/week-1-and-week-2.html">Week 1 and Week 2</a></h4>
<div class="entry">
<div class="content">
<div><p>Hi, As I told you about in the previous post, My work for this summer will be
improving the current equation solvers of sympy. There are basically three
thing I'll have to do.</p>
<ol><li>Create a basic set infrastructure for solvers to return sets.</li>
<li>Rewrite the current solvers to be clean and robust.</li>
<li>On the top of 1 and 2 write new solvers and function, they will returning
   and handling all the solutions of equations like <code>sin(x) == 0</code> and a general
   singularity finder.</li>
</ol><p>You can look at the details in my
<a href="https://github.com/sympy/sympy/wiki/GSoC-2014-Application-Harsh-Gupta:-Solvers">proposal</a></p>
<p>A started working on the sets module in the community bonding period, basically
writing a set difference class at <a href="https://github.com/sympy/sympy/pull/7462">this
PR</a> , I try to get it merged by the
end of this week.</p>
<p>Set are a pretty general mathematical constructs, and you can solve a lot of
hard problems if you could compute general set operations. The whole number
theory can be defined in terms of sets. So, computing general set operations,
e.g, intersection, unions is pretty hard problem too and we should not aim to
do all them.  In a meeting with Matthew and Sergey we discussed that it would
    be better if complete the part 2 first. It will give a general idea about
    what capabilities of sets we need.  Also some sets problems can be reduced
    to equations and vice versa.  </p>
<p>I've started working on the univariate solvers <a href="https://github.com/sympy/sympy/pull/7523">at
PR</a>.  My aim for this
week will be.</p>
<ol><li>Completing the rational solvers</li>
<li>Getting the open PR for the sets merged.</li>
</ol></div></div>







<p class="date">
<a href="https://hargup.github.io/blog/week-1-and-week-2.html">June 02, 2014 11:45 AM</a>
</p>
</div>
</div>



</div>
<div class="channelgroup">







<h3><a href="http://lifelesscode.blogspot.com/search/label/sympy" title="Shortlog">Sudhanshu Mishra</a></h3>


<div class="entrygroup" id="tag:blogger.com,1999:blog-8847459392628952171.post-2310284663571326967">
<h4><a href="http://lifelesscode.blogspot.com/2014/06/gsoc14-progress-finishing-twave.html">GSoC'14 Progress: Finishing TWave</a></h4>
<div class="entry">
<div class="content">
<div style="text-align: left;" dir="ltr"><div style="margin-bottom: 9px;"><div style="color: #444444; font-family: Arvo, 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 13px; line-height: 18px; margin-bottom: 9px;">This last week most of the coding I did was only related to transverse wave. It has already been merged into the master.</div><div style="color: #444444; font-family: Arvo, 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 13px; line-height: 18px; margin-bottom: 9px;"><a style="color: blue;" href="https://github.com/sympy/sympy/pull/7518">https://github.com/sympy/sympy/pull/7518</a></div><div style="color: #444444; font-family: Arvo, 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 13px; line-height: 18px; margin-bottom: 9px;">Here is the class structure of the <code style="background-color: #f7f7f9; border-bottom-left-radius: 3px; border-bottom-right-radius: 3px; border-top-left-radius: 3px; border-top-right-radius: 3px; border: 1px solid rgb(225, 225, 232); color: #dd1144; font-family: Consolas, 'Liberation Mono', Courier, monospace !important; font-size: 12px; padding: 3px 4px;">TWave</code>:</div><pre style=""><code style="background-color: transparent; border-bottom-left-radius: 3px; border-bottom-right-radius: 3px; border-top-left-radius: 3px; border-top-right-radius: 3px; border: 0px; color: inherit; font-family: Consolas, 'Liberation Mono', Courier, monospace !important; padding: 0px;"><span style="" class="hljs-header">Inherits<br />========</span><br /><br />Expr<br /><br /><span style="" class="hljs-header">Arguments<br />=========</span><br /><br />amplitude : Sympifyable<br /><span style="" class="hljs-code">    Amplitude of the wave.</span><br />frequency : Sympifyable<br /><span style="" class="hljs-code">    Frequency of the wave.</span><br />phase : Sympifyable<br /><span style="" class="hljs-code">    Phase angle of the wave.</span><br />time<span style="" class="hljs-emphasis">_period : Sympifyable<br />    Time period of the wave.<br />n : Sympifyable<br />    Refractive index of the medium.<br /><br /></span><span style="" class="hljs-header">Raises<br />=======</span><br /><br />ValueError : When niether frequency nor time period is provided.<br /><span style="" class="hljs-code">    or they are not consistent.</span><br />TypeError : When anyting other than TWave objects is added.<br /><br /><span style="" class="hljs-header">Methods<br />=======</span><br /><br />frequency<br />time<span style="" class="hljs-emphasis">_period<br />wavelength<br />amplitude<br />phase<br />speed<br />angular_</span>velocity<br />wavenumber<br /></code></pre><div style="color: #444444; font-family: Arvo, 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 13px; line-height: 18px; margin-bottom: 9px;">Till now it has been very easy to implement this but these days I'm stuck on writing functions to rewrite an expression using different functions. This is supposed to work like this as I feel from the code:</div><div style="color: #444444; font-family: Arvo, 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 13px; line-height: 18px; margin-bottom: 9px;">When you call <code style="background-color: #f7f7f9; border-bottom-left-radius: 3px; border-bottom-right-radius: 3px; border-top-left-radius: 3px; border-top-right-radius: 3px; border: 1px solid rgb(225, 225, 232); color: #dd1144; font-family: Consolas, 'Liberation Mono', Courier, monospace !important; font-size: 12px; padding: 3px 4px;">expr.rewrite('sin')</code>, the following code written in <code style="background-color: #f7f7f9; border-bottom-left-radius: 3px; border-bottom-right-radius: 3px; border-top-left-radius: 3px; border-top-right-radius: 3px; border: 1px solid rgb(225, 225, 232); color: #dd1144; font-family: Consolas, 'Liberation Mono', Courier, monospace !important; font-size: 12px; padding: 3px 4px;">sympy.core.basic</code>should make a call to function <code style="background-color: #f7f7f9; border-bottom-left-radius: 3px; border-bottom-right-radius: 3px; border-top-left-radius: 3px; border-top-right-radius: 3px; border: 1px solid rgb(225, 225, 232); color: #dd1144; font-family: Consolas, 'Liberation Mono', Courier, monospace !important; font-size: 12px; padding: 3px 4px;">_eval_rewrite_as_sin(self, *args)</code> defined in the object class.</div><pre style=""><code style="background-color: transparent; border-bottom-left-radius: 3px; border-bottom-right-radius: 3px; border-top-left-radius: 3px; border-top-right-radius: 3px; border: 0px; color: inherit; font-family: Consolas, 'Liberation Mono', Courier, monospace !important; padding: 0px;"><span style="color: #333333; font-weight: bold;" class="hljs-keyword">if</span> not args:<br />    <span style="color: #333333; font-weight: bold;" class="hljs-keyword">return</span> <span style="color: #333333; font-weight: bold;" class="hljs-keyword">self</span><br /><span style="color: #333333; font-weight: bold;" class="hljs-keyword">else</span>:<br />    pattern = args[:-<span style="color: #009999;" class="hljs-number">1</span>]<br />    <span style="color: #333333; font-weight: bold;" class="hljs-keyword">if</span> isinstance(args[-<span style="color: #009999;" class="hljs-number">1</span>], string_types):<br />        rule = <span style="color: #dd1144;" class="hljs-string">'_eval_rewrite_as_'</span> + args[-<span style="color: #009999;" class="hljs-number">1</span>]<br />    <span style="color: #333333; font-weight: bold;" class="hljs-keyword">else</span>:<br />        rule = <span style="color: #dd1144;" class="hljs-string">'_eval_rewrite_as_'</span> + args[-<span style="color: #009999;" class="hljs-number">1</span>].__name__<br /><br />    <span style="color: #333333; font-weight: bold;" class="hljs-keyword">if</span> not pattern:<br />        <span style="color: #333333; font-weight: bold;" class="hljs-keyword">return</span> <span style="color: #333333; font-weight: bold;" class="hljs-keyword">self</span>._eval_rewrite(None, rule, **hints)<br />    <span style="color: #333333; font-weight: bold;" class="hljs-keyword">else</span>:<br />        <span style="color: #333333; font-weight: bold;" class="hljs-keyword">if</span> iterable(pattern[<span style="color: #009999;" class="hljs-number">0</span>]):<br />            pattern = pattern[<span style="color: #009999;" class="hljs-number">0</span>]<br /><br />        pattern = [ p.<span style="color: #333333; font-weight: bold;" class="hljs-keyword">__class__</span> <span style="color: #333333; font-weight: bold;" class="hljs-keyword">for</span> p in pattern <span style="color: #333333; font-weight: bold;" class="hljs-keyword">if</span> <span style="color: #333333; font-weight: bold;" class="hljs-keyword">self</span>.has(p) ]<br /><br />        <span style="color: #333333; font-weight: bold;" class="hljs-keyword">if</span> pattern:<br />            <span style="color: #333333; font-weight: bold;" class="hljs-keyword">return</span> <span style="color: #333333; font-weight: bold;" class="hljs-keyword">self</span>._eval_rewrite(tuple(pattern), rule, **hints)<br />        <span style="color: #333333; font-weight: bold;" class="hljs-keyword">else</span>:<br />            <span style="color: #333333; font-weight: bold;" class="hljs-keyword">return</span> <span style="color: #333333; font-weight: bold;" class="hljs-keyword">self</span><br /></code></pre><div style="color: #444444; font-family: Arvo, 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 13px; line-height: 18px; margin-bottom: 9px;">But this is not the case with me. It always ends up calling <code style="background-color: #f7f7f9; border-bottom-left-radius: 3px; border-bottom-right-radius: 3px; border-top-left-radius: 3px; border-top-right-radius: 3px; border: 1px solid rgb(225, 225, 232); color: #dd1144; font-family: Consolas, 'Liberation Mono', Courier, monospace !important; font-size: 12px; padding: 3px 4px;">__str__</code> method. This is the PR for the same.</div><div style="color: #444444; font-family: Arvo, 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 13px; line-height: 18px; margin-bottom: 9px;"><a style="color: blue;" href="https://github.com/sympy/sympy/pull/7546">https://github.com/sympy/sympy/pull/7546</a></div><div style="color: #444444; font-family: Arvo, 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 13px; line-height: 18px; margin-bottom: 9px;">By the way, I had never used any debugger for Python before and now I feel it makes your life much easier. <a style="color: blue;" href="http://winpdb.org/">Winpdb</a> is a great Python debugger which is platform independent.</div><div style="color: #444444; font-family: Arvo, 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 13px; line-height: 18px; margin-bottom: 9px;">I've also been working on SHM and will submit a PR soon for that. Besides my project, I also closed two issues this week related to printing in <code style="background-color: #f7f7f9; border-bottom-left-radius: 3px; border-bottom-right-radius: 3px; border-top-left-radius: 3px; border-top-right-radius: 3px; border: 1px solid rgb(225, 225, 232); color: #dd1144; font-family: Consolas, 'Liberation Mono', Courier, monospace !important; font-size: 12px; padding: 3px 4px;">sympy.logic</code> and helped to review few PRs.</div><ul style="color: #444444; font-family: Arvo, 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 13px; line-height: 18px; margin: 0px 0px 9px 25px; padding: 0px;"><li style=""><a style="color: blue;" href="https://github.com/sympy/sympy/issues/7179">https://github.com/sympy/sympy/issues/7179</a></li><li style=""><a style="color: blue;" href="https://github.com/sympy/sympy/issues/7180">https://github.com/sympy/sympy/issues/7180</a></li><li style="">PR: <a style="color: blue;" href="https://github.com/sympy/sympy/pull/7541">https://github.com/sympy/sympy/pull/7541</a></li></ul><div style="color: #444444; font-family: Arvo, 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 13px; line-height: 18px; margin-bottom: 9px;">We have a public channel(<a style="color: blue;" href="https://gitter.im/sympy/sympy/optics">https://gitter.im/sympy/sympy/optics</a>) to discuss about my project. You are welcome to join us, we would be more than happy to get feedback about the work. It'll help us refine it and cover a wider range of use cases.</div><h4 style="color: #444444; font-family: Arvo, 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14px; line-height: 18px; margin: 0px;" id="weeklog">Weeklog</h4><h6 style="color: #999999; font-family: Arvo, 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 11px; line-height: 18px; margin: 0px;" id="merged">MERGED</h6><ul style="color: #444444; font-family: Arvo, 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 13px; line-height: 18px; margin: 0px 0px 9px 25px; padding: 0px;"><li style="">Add tests for pretty printer</li><li style="">Remove unnecessary if block</li><li style="">Add IPython Notebook Checkpoints to .gitignore</li><li style="">Remove double wrapping with u</li><li style="">Add tests for printing Equivalent. fixes #7180</li><li style="">Wrap unicode chars with u and fix a bug in latex printer</li><li style="">Fix a typo in manipulation.rst [skip ci]</li><li style="">Make equivalence symbol same for pretty printer and * latex printer and change not equivalent symbol to u+2262 [skip ci]</li><li style="">Fix latex printing for Not(Equivalent) and Not(Implies).</li><li style="">Fix pretty printing for Not(Equivalent) and Not(Implies). fixes #7179</li></ul><h6 style="color: #999999; font-family: Arvo, 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 11px; line-height: 18px; margin: 0px;" id="pending">PENDING</h6><ul style="color: #444444; font-family: Arvo, 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 13px; line-height: 18px; margin: 0px 0px 9px 25px; padding: 0px;"><li style="">Change arg to *args [skip ci]</li><li style="">Add rewrite expression methods [skip ci]</li><li style="">Add wavenumber property</li></ul><div style="color: #444444; font-family: Arvo, 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 13px; line-height: 18px; margin-bottom: 9px;">This is all for now. Cheers!</div></div></div></div>







<p class="date">
<a href="http://lifelesscode.blogspot.com/2014/06/gsoc14-progress-finishing-twave.html">by Sudhanshu Mishra (noreply@blogger.com) at June 02, 2014 02:02 AM</a>
</p>
</div>
</div>


</div>

</div>
<div class="daygroup">
<h2>June 01, 2014</h2>

<div class="channelgroup">







<h3><a href="http://blog.s-d-b.com" title="SDB's Blog » SymPy">Soumya Dipta Biswas</a></h3>


<div class="entrygroup" id="http://blog.s-d-b.com/?p=6">
<h4 lang="en-US"><a href="http://blog.s-d-b.com/gsoc-2014-week-1-and-2/">GSoC 2014: Week 1 and 2</a></h4>
<div class="entry">
<div class="content" lang="en-US">
<p>My last post was basically an introduction to myself, the program and the community. So, this will be my first post describing my work and the theories surrounding my work. For the remainder of this post and all future posts I will assume that the reader is familiar with the basics of Logic. If you have done any course associated with (mathematical) logic like Logic in Computer Science or Artificial Intelligence, or are familiar with the terms Conjunctive/Disjunctive Normal Form (CNF/DNF), Satisfiability (SAT), Validity, Consequence/Entailment etc. then you are good to go. It goes without saying that you need to know (atleast) the basics of python so as to understand the code.</p>
<p><strong>Faster Conversion to CNF/DNF</strong><br />
I started off working on converting to Normal Forms more efficiently. The original implementation was a recursive one. While this method was quite elegant, the performance took a major hit whenever the number of arguments went above 2 (which is quite a common scenario). My implementation is an iterative one whose performance remains almost the same regardless of the number of arguments. I’ll put up graphs detailing the difference in performance soon. In the meantime, I would like to discuss the theoretical base behind the algorithm, which I call iterative manipulation of sets. We start with 1 stack <code>S = [set(expr)]</code> (here expr is the initial expression to be converted) and an empty list <code>T = []</code>. The algorithm involves poping elements from the stack manipulating them and pushing back to the stack till we don’t have a set containing all literals. I’ll outline the algorithm for conversion to CNF.</p>
<ol>
<li>Pop a set (say E) from the top of the stack. E is a set of literal and non-literals (functions like And, Or).</li>
<li>Retrieve (and remove) the first function from E (say F). While this is an linear time operation, a small bookkeeping trick (described below) can make this a constant time operation.</li>
<li>If no functions are available in E (i.e. E is a set of literals), then append E to T</li>
<li>If a function is available then select the action to perform depending upon the class of F.
<ul>
<li>Function is Or: Simply add the arguments of F to E</li>
<li>Function is And: For every argument of F, create a copy of E and add the argument to the corresponding copy of E. Push all these modified copies of E back to S.</li>
</ul>
</li>
<li>Repeat steps 1 – 4 until S is empty and T is a list of sets of literals. To get the expression simply return <code>And(*[Or(*clause) for clause in T])</code></li>
</ol>
<p>Here is the reason why this algorithm works. The set of literals in T are And’ed together while the individual literals inside a set are Or’ed with each other. In step 4, if two expressions have an Or relationship, they are placed into the same set. If however the have an And relationship, they are separated and put into 2 different sets. The running of the algorithm for <code>Or(And(a, b), c, d)</code> is shown below.</p>
<ul>
<li><code>S = [{Or(And(a, b), c, d)}], T = []</code></li>
<li><code>E = {Or(And(a, b), c, d)}, S = [], T = []</code></li>
<li><code>F = Or(And(a, b), c, d), E = {}, S = [], T = []</code></li>
<li><code>F = Or(And(a, b), c, d), E = {And(a, b), c, d}, S = [{And(a, b), c, d}], T = []</code></li>
<li><code>E = {And(a, b), c, d}, S = [], T = []</code></li>
<li><code>F = And(a, b), E = {c, d}, S = [], T = []</code></li>
<li><code>F = And(a, b), E1 = {a, c, d}, E2={b, c, d}, S = [{a, c, d}, {b, c, d}], T = []</code></li>
<li><code>E = {a, c, d}, S = [{b, c, d}], T = []</code></li>
<li><code>E = {a, c, d}, S = [{b, c, d}], T = [{a, c, d}]</code></li>
<li><code>E = {b, c, d}, S = [], T = [{a, c, d}]</code></li>
<li><code>E = {b, c, d}, S = [], T = [{a, c, d}, {b, c, d}]</code></li>
<li><code>S = [], T = [{a, c, d}, {b, c, d}]</code></li>
<li><code>return And(Or(a, c, d), Or(b, c, d))</code></li>
</ul>
<p>For conversion to DNF, follow the exact same procedure replacing And with Or and vice versa.</p>
<p>As mentioned above, retrieving a function from a mixture of functions and literals (as well as determining whether E contains any functions or not) is an O(n) operation. To perform this is O(1), use two different sets, one for functions and the other for literals. S now becomes a stack (list) of tuples, with each tuple containing 2 sets. <code>{And(a, b), c, d}</code> will now become <code>({And(a, b)}, {c, d})</code>. The set operations are performed as follows:</p>
<ul>
<li>Add: <code>({And(a, b)}, {c, d}) + {x, y, And(x, z), Or(y, z)} = ({And(a, b), And(x, z), Or(y, z)}, {c, d, x, y})</code></li>
<li>Retrieve Function: <code>X = ({And(a, b)}, {c, d}); return X[0].pop() if X[0] else None</code></li>
</ul>
<p><strong>Remove Automatic Evaluation</strong><br />
Currently SymPy has a lot of (automatic) evaluation of formulas that happens without user intent. While this makes life easier for us programmers, this isn’t always very intuitive for the user. Hence, there has been a decision to remove this and instead shift to a need based simplification (evaluation). There is however a need to differentiate between evaluation and short-circuiting, and leave all of the latter in place.</p>
<p><strong>And/Or</strong><br />
Almost no automatic evaluation takes place here, except short-circuiting i.e. <code>And(False, a, b, ...) = False</code> and <code>Or(True, a, b, ...) = True</code> and converting <code>And(And(a, b), And(c, d))</code> to <code>And(a, b, c, d)</code>. Except this no other evaluation takes place like reducing <code>A &amp; ~A</code> to <code>False</code> or <code>A | ~A</code> to <code>True</code>.</p>
<p><strong>Not</strong><br />
Previously, De-Morgan’s Laws were automatically applied to the arguments, however this has now been removed. So <code>Not(A | B)</code> will stay so instead of automatically evaluating to <code>~A &amp; ~B</code>. Now, the only evaluation that takes place is <code>Not(Not(A)) = A</code>.</p>
<p><strong>Implies</strong><br />
Implication evaluates its arguments if either of the arguments are boolean. So, that gives rise to 4 cases:</p>
<ul>
<li><code>True &gt;&gt; X = X</code></li>
<li><code>False &gt;&gt; X = True</code></li>
<li><code>X &gt;&gt; True = True</code></li>
<li><code>X &gt;&gt; False = ~X</code></li>
</ul>
<p><strong>Equivalence</strong><br />
SymPy doesn’t automatically convert equivalence into bi-implications or into And/Or. However it does perform the following 3 simplifications:</p>
<ul>
<li><code>Equivalent(True, a, b, ...) = And(a, b, ...)</code></li>
<li><code>Equivalent(False, a, b, ...) = Not(Or(a, b, ...))</code></li>
<li><code>Equivalent(True, False, a, b, ...) = False</code></li>
</ul>
<p><strong>Exclusive-Or</strong><br />
Previously Xor did not have an independent existence in SymPy and all Xor expressions were automatically converted into And/Or sequences. Now one can create and use expressions using Xor subject to the following transformations:</p>
<ul>
<li><code>Xor(True, True, a, b, ...) = Xor(a, b, ...)</code> (Even number of <code>True</code> arguments)</li>
<li><code>Xor(True, True, True, a, b, ...) = Not(Xor(a, b, ...))</code> (Odd number of <code>True</code> arguments)</li>
<li><code>Xor(Xor(a, b), Xor(c, d)) = Xor(a, b, c, d)</code></li>
</ul>
<p><strong>ITE</strong><br />
Similar to Xor above, even ITE had no independant class and all expressions were automatically converted. This has been removed and one can create objects of type ITE subject to the following evaluations:</p>
<ul>
<li><code>ITE(True, a, b) = a</code></li>
<li><code>ITE(False, a, b) = b</code></li>
<li><code>ITE(a, b, b) = b</code></li>
</ul>
<p>That pretty much covers the major tasks I did, in the first 2 weeks. See you next week.</p>
<p>Au Revoir!!!</p></div>







<p class="date">
<a href="http://blog.s-d-b.com/gsoc-2014-week-1-and-2/">by SD at June 01, 2014 09:15 PM</a>
</p>
</div>
</div>



</div>
<div class="channelgroup">







<h3><a href="http://sushant-hiray.in" title="Sushant Hiray's Blog - Posts tagged sympy/gsoc/csympy">Sushant Hiray</a></h3>


<div class="entrygroup" id="http://sushant-hiray.in/posts/gsoc/csympy-week2/">
<h4><a href="http://sushant-hiray.in/posts/gsoc/csympy-week2/">This Week in CSymPy: #2</a></h4>
<div class="entry">
<div class="content">
<p>Week 2 for GSoC just ended and I’ve managed to complete the plans for this week.</p>

<h1 id="progress">Progress</h1>

<p>I started off the week with analysing the inverse trignometric module in SymPy.
In SymPy particularly when <code>eval</code> is called it generates a lookup table and then searches for the argument in the table.
Since the table was made separately for each class it had the exact values needed. </p>

<p><br /><br />
To avoid creating a lookup table each time an object is created, I created 2 global lookup tables.
<code>inverse_cst</code> (used by <code>asin</code>,<code>acos</code>,<code>asec</code>,<code>acsc</code>) and <code>inverse_tct</code> (used by <code>atan</code> and <code>acot</code>)
Since a common lookup table was created I had to tweak the return value according to the class which called it.</p>

<p><br /><br />
All the progress is in <a href="https://github.com/sympy/csympy/pull/176">pull 176</a>. It is almost good to merge. Once the Travis build results show up we will merge this into master.</p>

<p><br /><br />
In the midst of this week, myself and Thilina almost together  got stuck on a <a href="https://github.com/sympy/csympy/issues/174">bug</a>. When I posted the bug, Thilina acknowledged it failed on his system too and he shipped a fix.
Thankfully we have <code>CSYMPY_ASSERT()</code> written everywhere to catch such bugs!
A couple of days back I figured out yet another <a href="https://github.com/sympy/csympy/issues/179">bug</a> because of which one of test cases was failing. We are yet to fix this one.</p>

<h1 id="discussions">Discussions</h1>

<p>Most of the discussions with Ondrej and Thilina happened over the pull requests and the issues itself. Myself and Thilina did confirm the bugs on gitter just to be sure, before reporting them.</p>

<h1 id="the-week-ahead">The Week Ahead</h1>
<p>Firstly merge the current PR into master. Fix <a href="https://github.com/sympy/csympy/issues/179">#179</a>.
We will also try to implement the <code>Exponential Module</code>. After this module we shoule be able to do things like <code>rewrite__as_cos</code> for the exponential class.
Also if Ondrej is free, he will be writing the python wrappers for <code>Trignometric Module</code> now that it is complete on the base level.</p>

<p><br /><br />
Thats all for now :) Will get back next week!</p></div>







<p class="date">
<a href="http://sushant-hiray.in/posts/gsoc/csympy-week2/">June 01, 2014 06:30 PM</a>
</p>
</div>
</div>



</div>
<div class="channelgroup">







<h3><a href="http://kundankumar185.wordpress.com" title="my experiments with life">Kundan Kumar</a></h3>


<div class="entrygroup" id="http://kundankumar185.wordpress.com/?p=11">
<h4 lang="en"><a href="http://kundankumar185.wordpress.com/2014/06/01/as-journey-goes-on/">As Journey goes On</a></h4>
<div class="entry">
<div class="content" lang="en">
<p>Second week of Gsoc has been finished and I must say it has been one of most fruitful week for me. Lots and lots of work and enjoyment with learning new things thats what one want. Though this week work has not been finished but what I learned this is incomparable to what has I learned till now and in such a short period of time. I sometime imagined how can a novice like me can complete such tasks in GSoC and now I feel we have great mentors with us who are always available to help us teach us. I am thankful to my mentors Tim and Sean and aha Smith he also helped a lot.</p>
<p>The work of this week passed correcting and modifying things I have done till now so little time was left to do this week work. So the new <a href="https://github.com/sympy/sympy/pull/7527">PR</a> sent is incomplete but will complete soon. The next week I aim to complete the remaining job and implement linear system of 3 equations of 1st order.</p><br />  <a href="http://feeds.wordpress.com/1.0/gocomments/kundankumar185.wordpress.com/11/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/comments/kundankumar185.wordpress.com/11/" alt="" border="0" /></a> <img src="http://stats.wordpress.com/b.gif?host=kundankumar185.wordpress.com&amp;blog=68025302&amp;post=11&amp;subd=kundankumar185&amp;ref=&amp;feed=1" alt="" border="0" width="1" height="1" /></div>







<p class="date">
<a href="http://kundankumar185.wordpress.com/2014/06/01/as-journey-goes-on/">by Kundan at June 01, 2014 04:15 PM</a>
</p>
</div>
</div>



</div>
<div class="channelgroup">







<h3><a href="http://blog.s-d-b.com" title="SDB's Blog » SymPy">Soumya Dipta Biswas</a></h3>


<div class="entrygroup" id="http://blog.s-d-b.com/?p=13">
<h4 lang="en-US"><a href="http://blog.s-d-b.com/gsoc-2014-introduction/">GSoC 2014: Introduction</a></h4>
<div class="entry">
<div class="content" lang="en-US">
<p>Hello Everyone,</p>
<p>So, I got into the Google Summer of Code 2014 under SymPy. Let me introduce myself – My name is Soumya Dipta Biswas (but almost everyone calls me SD). I am currently pursuing M.Sc. (Tech.) Information Systems from Birla Institute of Technology and Science – Pilani, Goa Campus. I just completed my 3rd year and will be graduating in June 2015.</p>
<p>Ok, so enough about me. Moving on to the program, I believe most of you would have heard of the GSoC (it has been around for 10 years now). However if you haven’t and are (or will be) in college and are interested in giving back to the open source community, you should definitely have a look at the <a href="http://www.google-melange.com/" target="_blank" title="GSoC">Google Summer of Code</a> page and give it a shot next year.</p>
<p>The open-source organization I will be contributing to is SymPy. If you have been using Python, then you have most likely used or atleast heard of SymPy. SymPy is a great Python tool for symbolic mathematics and has support for most of the commonly used areas: Calculus, Geometry, Matrices, Logic and even Physics. You can find out more about it at the <a href="http://sympy.org/en/index.html" target="_blank" title="SymPy">SymPy homepage</a> or if you want to give it a try online, use the <a href="http://live.sympy.org/" target="_blank" title="SymPy Live Shell">SymPy Live Shell</a>. If you have been using it and would like to contribute, visit <a href="https://github.com/sympy/sympy/" target="_blank" title="SymPy on GitHub">SymPy on GitHub</a> (<a href="https://github.com/sympy/sympy/wiki" target="_blank" title="wiki">wiki</a>). SymPy has a very supportive and really great community, so feel free to contact us in case you need any help.</p>
<p>Now let’s move on to the focus of the program, the project. I will primarily be contributing to the Logic module already existing in SymPy. Currently, there exists a fully functional propositional logic module and I propose to improve it by making the entire system faster and more efficient. On the other hand, SymPy has almost no support for First Order Logic. So, I propose to build the architecture for First Order Logic module which will finally culminate into a full fledged Inference System. You can find more details about my project in my <a href="https://github.com/sympy/sympy/wiki/GSoC-2014-Application-Soumya-Dipta-Biswas:-Propositional-and-First-Order-Logic" target="_blank" title="GSoC Proposal">GSoC Proposal</a>.</p>
<p>I guess that’s all for the introductions. Before signing off, I must mention that I am really exicted to be a part of SymPy and am looking forward to a great summer ahead.</p>
<p>Cheers!!!</p></div>







<p class="date">
<a href="http://blog.s-d-b.com/gsoc-2014-introduction/">by SD at June 01, 2014 02:24 PM</a>
</p>
</div>
</div>



</div>
<div class="channelgroup">







<h3><a href="http://codesachin.wordpress.com" title="Dream. Think. Code. » Google Summer of Code 2014">Sachin Joglekar</a></h3>


<div class="entrygroup" id="http://codesachin.wordpress.com/?p=11">
<h4 lang="en"><a href="http://codesachin.wordpress.com/2014/06/01/gsoc-2014-second-week-basics-of-vector-and-del-operator/">GSoC 2014 Second Week: Basics of Vector, and Del operator</a></h4>
<div class="entry">
<div class="content" lang="en">
<p>In my previous blog post, I had mentioned that I had begun working somewhat on a new branch for the vector module. This week was spent in polishing that work. But more importantly, I spent time confirming that my last week’s idea – of implementing the Vector framework, BaseScalar class, and the Del operator <em>before</em> implementing coordinate systems – does make sense. What this essentially means is that all the operations will occur in one frame <strong>only </strong>(for now).</p>
<p>I have implemented the Vector framework to a great extent by now, the BaseScalar class is done, and so is the Del operator. I have tried keeping the API of the Del class as ‘easy’ as possible, mainly so that the expressions typed out in code, would be very simple to read even for a non-fluent programmer.</p>
<p>To confirm that the one-system-framework does work, I tried proving all of the product rules of vector differential calculus (using the constructed API).</p>
<p>Here  is a snippet of (actual) Python-Shell session proving the last product rule-</p>
<p>Rule says :</p>
<dl>
<dd><img src="http://upload.wikimedia.org/math/d/5/b/d5b8119de472d7a6d75c1672e93ccd34.png" alt="\nabla \times (\vec u \times \vec v) = \vec u \, (\nabla \cdot \vec v) - \vec v \, (\nabla \cdot \vec u) + (\vec v \cdot \nabla) \, \vec u - (\vec u \cdot \nabla) \, \vec v" class="mwe-math-fallback-png-inline tex" /></dd>
<dd></dd>
</dl>
<p><code>Shell session (i, j and k denote base vectors, while x, y and z denote base scalars)-</code></p>
<p><code><br />
&gt;&gt;&gt; u = x**2 * i + 4 * j - y**2*z * k<br />
&gt;&gt;&gt; v = 4 * i + x*y*z * k<br />
&gt;&gt;&gt; lhs = delop ^ (u ^ v)<br />
&gt;&gt; rhs = u * (delop &amp; v) - v * (delop &amp; u) + (v &amp; delop) * u - (u &amp; delop) * v<br />
&gt;&gt;&gt; simplify(lhs) == simplify(rhs)<br />
True<br />
</code></p>
<p>I guess intensive coding will begin this week onwards. The first priority would be to ensure that the Vector framework is foolproof, by writing unit tests and some long ones. I would also like SymPy functions like the <em>solve </em>one, to work with vector too (To solve problems like – given 3 vectors, prove that they can be used as a valid basis for 3D space). Then, I will most likely send a PR  with the work done till now. On a different branch, I’ll start working on the CoordSys class. Thats all for now! Have a great wek!</p><br />  <a href="http://feeds.wordpress.com/1.0/gocomments/codesachin.wordpress.com/11/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/comments/codesachin.wordpress.com/11/" alt="" border="0" /></a> <img src="http://stats.wordpress.com/b.gif?host=codesachin.wordpress.com&amp;blog=67602166&amp;post=11&amp;subd=codesachin&amp;ref=&amp;feed=1" alt="" border="0" width="1" height="1" /></div>







<p class="date">
<a href="http://codesachin.wordpress.com/2014/06/01/gsoc-2014-second-week-basics-of-vector-and-del-operator/">by srjoglekar246 at June 01, 2014 09:46 AM</a>
</p>
</div>
</div>


</div>

</div>
<div class="daygroup">
<h2>May 30, 2014</h2>

<div class="channelgroup">







<h3><a href="http://jcrist.github.io/" title="Marginally Stable">Jim Crist</a></h3>


<div class="entrygroup" id="tag:,2014-05-30:gsoc-week-2.html">
<h4><a href="http://jcrist.github.io/gsoc-week-2.html">GSoC Week 2: Started Work on Linearizer Class</a></h4>
<div class="entry">
<div class="content">
<p>This week I started work on implementing a general linearization method in 
<code>Sympy</code>. The current plan is to implement this in three parts:</p>
<h3>1. <strong>A <code>Linearizer</code> class</strong></h3>
<p>This will hold the general form described by Luke and Gilbert's paper. The form
is:</p>
<p>\begin{aligned}
f_{c}(q, t) &amp;= 0_{l \times 1} \\
f_{v}(q, u, t) &amp;= 0_{m \times 1} \\
f_{a}(q, \dot{q}, u, \dot{u}, t) &amp;= 0_{m \times 1} \\
f_{0}(q, \dot{q}, t) + f_{1}(q, u, t) &amp;= 0_{n \times 1} \\
f_{2}(q, \dot{u}, t) + f_{3}(q, \dot{q}, u, r, t) &amp;= 0_{(o-m) \times 1}
\end{aligned}</p>
<p>with</p>
<p>\begin{aligned}
q, \dot{q} &amp; \in \mathbb{R}^n \\
u, \dot{u} &amp; \in \mathbb{R}^o \\
r &amp; \in \mathbb{R}^s 
\end{aligned}</p>
<p>Once in this general form, the algorithm devised by Luke and Gilbert is able to
linearize the system properly (not messing up due to constraints, as shown
<a href="http://jcrist.github.io/gsoc-week-1.html">last week</a>). The resulting linearized
form is:</p>
<p>$$ M \begin{bmatrix} \delta \dot{q} \\ \delta\dot{u} \end{bmatrix} = 
A \begin{bmatrix} \delta q_{i} \\ \delta u_{i} \end{bmatrix} + B \begin{bmatrix}\delta r \end{bmatrix}$$</p>
<p>where $M$, $A$, and $B$ are matrices. A class method <code>linearize</code> is used to
perform this step.</p>
<h3>2. <strong>A <code>linearize</code> function</strong></h3>
<p>This will take input systems of various forms (formed by <code>KanesMethod</code>,
<code>LagrangesMethod</code>, or ideally a general matrix of equations). The function
will then turn the system into the general form described above, create
an instance of <code>Linearizer</code>, call the <code>linearize</code> method, and return the
result.</p>
<p>To make this conversion easy and general, any class that implements a
<code>to_linearizer</code> method can be linearized. One has been written for
<code>KanesMethod</code> already. Originally I thought I could get equations formed
with Lagranges Method into this general form as well, but now I'm not sure.
The multipliers could be treated as dependent speeds (eliminating them from
the state vector), but for the linearization to be valid a trim point for
each multiplier will still need to be chosen. I'm going to think about this for
a while, and finish the remaining functionality for the <code>KanesMethod</code> class
first. If it turns out this can't be generalized for Lagrange's method, then a
seperate control flow path will need to be added.</p>
<h3>3. <strong><code>linearize</code> class methods for <code>KanesMethod</code> and <code>LagrangesMethod</code></strong></h3>
<p>These will be nice wrappers for the linearize function, making the linearization
process as easy as creating the Method object, and then calling 
<code>Method.linearize()</code>.</p>
<h2>What's done so far</h2>
<p>This week I implemented the beginnings of the <code>Linearizer</code> class. So far it can
only handle systems with <em>both</em> motion and configuration constraints. I plan on
finishing up the remaining control paths for just motion, just
configuration, and no constraint systems next week. For testing this
functionality, I used the rolling disk example used in Luke and Gilbert's paper.
With the current functionality, linearization works as:</p>
<div style="background: #272822;" class="codehilite"><pre style="line-height: 125%;"><span style="color: #75715e;"># Equations for the disk are derived above, KM is a KanesMethod object</span>
<span style="color: #f92672;">&gt;&gt;&gt;</span> <span style="color: #f8f8f2;">linearizer</span> <span style="color: #f92672;">=</span> <span style="color: #f8f8f2;">KM</span><span style="color: #f92672;">.</span><span style="color: #f8f8f2;">to_linearizer()</span>
<span style="color: #f92672;">&gt;&gt;&gt;</span> <span style="color: #f8f8f2;">A,</span> <span style="color: #f8f8f2;">B</span> <span style="color: #f92672;">=</span> <span style="color: #f8f8f2;">linearizer</span><span style="color: #f92672;">.</span><span style="color: #f8f8f2;">linearize(eq_q,</span> <span style="color: #f8f8f2;">eq_u,</span> <span style="color: #f8f8f2;">eq_qd,</span> <span style="color: #f8f8f2;">eq_ud,</span> <span style="color: #f8f8f2;">A_and_B</span><span style="color: #f92672;">=</span><span style="color: #f8f8f2;">True)</span>

<span style="color: #75715e;"># Evaluating in an upright configuration at critical speed:</span>
<span style="color: #f92672;">&gt;&gt;&gt;</span> <span style="color: #f8f8f2;">upright_critical_speed</span> <span style="color: #f92672;">=</span> <span style="color: #f8f8f2;">{q1d:</span> <span style="color: #ae81ff;">0</span><span style="color: #f8f8f2;">,</span> <span style="color: #f8f8f2;">q2:</span> <span style="color: #ae81ff;">0</span><span style="color: #f8f8f2;">,</span> <span style="color: #f8f8f2;">q3d:</span> <span style="color: #ae81ff;">1</span><span style="color: #f92672;">/</span><span style="color: #f8f8f2;">sqrt(</span><span style="color: #ae81ff;">3</span><span style="color: #f8f8f2;">),</span> <span style="color: #f8f8f2;">m:</span> <span style="color: #ae81ff;">1</span><span style="color: #f8f8f2;">,</span> <span style="color: #f8f8f2;">r:</span> <span style="color: #ae81ff;">1</span><span style="color: #f8f8f2;">,</span> <span style="color: #f8f8f2;">g:</span> <span style="color: #ae81ff;">1</span><span style="color: #f8f8f2;">}</span>

<span style="color: #75715e;">#Calculating the critical speed eigenvalues, they should all be zero</span>
<span style="color: #f92672;">&gt;&gt;&gt;</span> <span style="color: #f8f8f2;">A</span><span style="color: #f92672;">.</span><span style="color: #f8f8f2;">subs(upright_critical_speed)</span><span style="color: #f92672;">.</span><span style="color: #f8f8f2;">eigenvals()</span>
<span style="color: #f8f8f2;">{</span><span style="color: #ae81ff;">0</span><span style="color: #f8f8f2;">:</span> <span style="color: #ae81ff;">8</span><span style="color: #f8f8f2;">}</span>
</pre></div>


<p>I also added a <code>to_linearizer</code> method to the <code>KanesMethod</code> class. This finds all
the needed information in the <code>KanesMethod</code> object, and returns a <code>Linearizer</code>
object. I'd say this is done as well, and is also tested in the
<code>test_linearize_rolling_disc</code> test.</p>
<p>Two other tests were also written, but not finished. They build off the example
I wrote up <a href="http://jcrist.github.io/gsoc-week-1.html">last week</a> with a minimal 
and nonminimal pendulum system. I also have this same system worked out in
minimal and nonminimal coordinates using <code>LagrangesMethod</code>. Because it is so
quick to compute, and intuitive to know if it's correct or not I think this
will be an excellent way to test the functionality of the linearization
routines.</p>
<p>All of this work can be seen (and hopefully commented on, I need code review!) 
in <a href="https://github.com/jcrist/sympy/pull/1">this pull request</a>. As it's still
very much a work in progress, I made a pull request on my own master branch, 
so that others can review it before I submit it to Sympy proper.</p>&lt;script type="text/javascript"&gt;
    if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {
        var mathjaxscript = document.createElement('script');
        mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';
        mathjaxscript.type = 'text/javascript';
        mathjaxscript.src = 'https:' == document.location.protocol
                ? 'https://c328740.ssl.cf1.rackcdn.com/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'
                : 'http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML';
        mathjaxscript[(window.opera ? "innerHTML" : "text")] =
            "MathJax.Hub.Config({" +
            "    config: ['MMLorHTML.js']," +
            "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } }," +
            "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +
            "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +
            "    displayAlign: 'center'," +
            "    displayIndent: '0em'," +
            "    showMathMenu: true," +
            "    tex2jax: { " +
            "        inlineMath: [ ['$','$'] ], " +
            "        displayMath: [ ['$$','$$'] ]," +
            "        processEscapes: true," +
            "        preview: 'TeX'," +
            "    }, " +
            "    'HTML-CSS': { " +
            "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'black ! important'} }" +
            "    } " +
            "}); ";
        (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);
    }
&lt;/script&gt;</div>







<p class="date">
<a href="http://jcrist.github.io/gsoc-week-2.html">by Jim Crist at May 30, 2014 11:00 PM</a>
</p>
</div>
</div>


</div>

</div>
<div class="daygroup">
<h2>May 28, 2014</h2>

<div class="channelgroup">







<h3><a href="http://geekpy.blogspot.com/" title="Akshay Narasimha">Akshay Narasimha</a></h3>


<div class="entrygroup" id="tag:blogger.com,1999:blog-54146973659574488.post-8828642408732656832">
<h4><a href="http://geekpy.blogspot.com/2014/05/gsoc-week-1.html">Gsoc Week 1</a></h4>
<div class="entry">
<div class="content">
<div style="text-align: left;" dir="ltr">The first week of Gsoc has come to an end. Most of the time was spent on trying to decide the class structure for the new Point3D class.<br /><br />The initial class structure which I proposed was to let  the Point class inherit from the Point3D class as they have a lot of methods in common and also to allow interaction between these two classes.<br /><br />For example:<br />&gt;&gt;&gt;Point(1,2).distance(Point3D(1,2,3))<br />3<br />But after having a long discussion with Stefan and the mailing list we decided to keep both the classes seperate and raise an error for interactions like the one above.<br /><br />So what if the user wants the above interaction? For that we decided to have a method in the Plane class( to be implemented) which converts a 2D point to 3D allowing the user to choose any plane he wants, after that he could compute the distance in the above example.<br /><br /><a href="https://groups.google.com/forum/#!topic/sympy/hqHC-9cA9UM">Here</a> is the link to the discussion on the mailing list.<br />And I have implemented the Point3D class and the link to the PR is <a href="https://github.com/sympy/sympy/pull/7522">here.</a><br />This following week I plan to  work on the Line class in 3D using the Point3D class as the base.<br /><br />Till then Cheers! <br /><br /></div></div>







<p class="date">
<a href="http://geekpy.blogspot.com/2014/05/gsoc-week-1.html">by Akshay Narasimha (noreply@blogger.com) at May 28, 2014 11:48 AM</a>
</p>
</div>
</div>


</div>

</div>
<div class="daygroup">
<h2>May 27, 2014</h2>

<div class="channelgroup">







<h3><a href="http://thilinaatsympy.wordpress.com" title="Thilina's SymPy Blog">Thilina Rathnayake</a></h3>


<div class="entrygroup" id="http://thilinaatsympy.wordpress.com/?p=302">
<h4 lang="en"><a href="http://thilinaatsympy.wordpress.com/2014/05/27/gsoc-2014-implemented-basic-matrix-classes/">[GSoC] Week 1: Implemented Basic Matrix Classes</a></h4>
<div class="entry">
<div class="content" lang="en">
<p>Hi All, When the first week of the GSoC comes to an end, I was able to finish the basic structure of the Matrix class and implement some of the functionalities related to the `DenseMatrix` class. I implemented Matrix addition, multiplication, scalar addition and scalar multiplication. I am yet to update the PR with these changes. I am currently working on Gaussian elimination and having a few problems with that. I wish to solve these as soon as possible. After sorting it out, I wish to benchmark my implementation against other libraries such as Linbox and GiNaC.</p>
<h3>Matrix Class Structure</h3>
<ol>
<li>`MatrixBase` Class<br />
<strong>class MatrixBase: public Basic {</strong><br />
<strong>public:</strong><br />
<strong>    MatrixBase(unsigned row, unsigned col)</strong><br />
<strong>        : row_{row}, col_{col} {};</strong><strong>    // Below methods should be implemented by the derived classes. If not</strong><br />
<strong>    // applicable, raise an exception</strong><strong>    // Get and set elements</strong><br />
<strong>    virtual RCP&lt;const Basic&gt;get(unsigned i) const = 0;</strong><br />
<strong>    virtual void set(unsigned i, RCP&lt;const Basic&gt; &amp;e) = 0;</strong><p></p>
<p><strong>    virtual unsigned rank() const = 0;</strong><br />
<strong>    virtual RCP&lt;const Basic&gt; det() const = 0;</strong><br />
<strong>    virtual RCP&lt;const MatrixBase&gt; inv() const = 0;</strong></p>
<p><strong>    // These functions create a new instance of either DenseMatrix or</strong><br />
<strong>    // SparseMatrix and return a reference to the result</strong><br />
<strong>    virtual RCP&lt;const MatrixBase&gt; add_matrix(const MatrixBase &amp;other) const = 0;</strong><br />
<strong>    virtual RCP&lt;const MatrixBase&gt; mul_matrix(const MatrixBase &amp;other) const = 0;</strong></p>
<p><strong>protected:</strong><br />
<strong>    // Stores the dimension of the Matrix</strong><br />
<strong>    unsigned row_;</strong><br />
<strong>    unsigned col_;</strong><br />
<strong>};<br />
</strong><br />
Most important thing about the `MatrixBase` class is that it is derived from the CSymPy `Basic` class. This enables the classes that are derived from `MatrixBase` to be used wherever a `Basic` class is used. This has a lot of advantages. `DenseMatrix` class is derived from `MatrixBase` class.</p></li>
<li>`DenseMatrix` class<br />
<strong>class DenseMatrix: public MatrixBase {</strong><br />
<strong>public:</strong><br />
<strong>    // Constructors</strong><br />
<strong>    DenseMatrix(unsigned row, unsigned col);</strong><br />
<strong>    DenseMatrix(unsigned row, unsigned col, std::vector&lt;RCP&lt;const Basic&gt;&gt; &amp;l);</strong><strong>    // Virtual functions inherited from Basic class</strong><br />
<strong>    virtual std::size_t __hash__() const;</strong><br />
<strong>    virtual bool __eq__(const Basic &amp;o) const;</strong><br />
<strong>    virtual int compare(const Basic &amp;o) const;</strong><strong>    // Should implement all the virtual methods from MatrixBase</strong><br />
<strong>    // and throw an exception if a method is not applicable.</strong><br />
<strong>    // add_matrix, mul_matrix will have to find the correct function</strong><br />
<strong>    // to call depending on the `other` argument.</strong><p></p>
<p><strong>    // Get and set elements</strong><br />
<strong>    virtual RCP&lt;const Basic&gt; get(unsigned i) const;</strong><br />
<strong>    virtual void set(unsigned i, RCP&lt;const Basic&gt; &amp;e);</strong></p>
<p><strong>    virtual unsigned rank() const;</strong><br />
<strong>    virtual RCP&lt;const Basic&gt; det() const;</strong><br />
<strong>    virtual RCP&lt;const MatrixBase&gt; inv() const;</strong></p>
<p><strong>    // Matrix addition</strong><br />
<strong>    virtual RCP&lt;const MatrixBase&gt; add_matrix(const MatrixBase &amp;other) const;</strong><br />
<strong>    friend RCP&lt;const DenseMatrix&gt; add_dense_dense(const DenseMatrix &amp;A,</strong><br />
<strong>            const DenseMatrix &amp;B);</strong><br />
<strong>    friend RCP&lt;const DenseMatrix&gt; add_dense_scalar(const DenseMatrix &amp;A,</strong><br />
<strong>            RCP&lt;const Basic&gt; &amp;k);</strong><br />
<strong>    </strong><br />
<strong>    // Matrix multiplication</strong><br />
<strong>    virtual RCP&lt;const MatrixBase&gt; mul_matrix(const MatrixBase &amp;other) const;</strong><br />
<strong>    friend RCP&lt;const DenseMatrix&gt; mul_dense_dense(const DenseMatrix &amp;A,</strong><br />
<strong>            const DenseMatrix &amp;B);</strong><br />
<strong>    friend RCP&lt;const DenseMatrix&gt; mul_dense_scalar(const DenseMatrix &amp;A,</strong><br />
<strong>            RCP&lt;const Basic&gt; &amp;k);</strong><br />
<strong>    </strong><br />
<strong>    // Gaussian elimination</strong><br />
<strong>    friend RCP&lt;const DenseMatrix&gt; gaussian_elimination(const DenseMatrix &amp;A);</strong><br />
<strong>            </strong><br />
<strong>protected:</strong><br />
<strong>    // Matrix elements are stored in row-major order</strong><br />
<strong>    std::vector&lt;RCP&lt;const Basic&gt;&gt; m_;</strong><br />
<strong>};</strong></p>
<p>Some of the functions are declared as friend functions so that these can access private and protected members of the `DenseMatrix` class. This makes coding the algorithms a bit easier</p></li>
<li>Friend function implementations
<ul>
<li>add_dense_dense<br />
<strong>RCP&lt;const DenseMatrix&gt; add_dense_dense(const DenseMatrix &amp;A,</strong><br />
<strong>        const DenseMatrix &amp;B)</strong><br />
<strong>{</strong><br />
<strong>    unsigned row = A.row_;</strong><br />
<strong>    unsigned col = A.col_;</strong><strong>    CSYMPY_ASSERT(row == B.row_ &amp;&amp; col == B.col_)</strong><strong>    std::vector&lt;RCP&lt;const Basic&gt;&gt; sum(row*col);</strong><p></p>
<p><strong>    std::vector&lt;RCP&lt;const Basic&gt;&gt;::const_iterator ait = A.m_.begin();</strong><br />
<strong>    std::vector&lt;RCP&lt;const Basic&gt;&gt;::const_iterator bit = B.m_.begin();</strong></p>
<p><strong>    for(auto &amp;it: sum) {</strong><br />
<strong>        it = add(*ait, *bit);</strong><br />
<strong>        ait++;</strong><br />
<strong>        bit++;</strong><br />
<strong>    }</strong></p>
<p><strong>    return rcp(new DenseMatrix(row, col, sum));</strong><br />
<strong>}</strong></p></li>
<li>mul_dense_dense<br />
<strong>RCP&lt;const DenseMatrix&gt; mul_dense_dense(const DenseMatrix &amp;A,</strong><br />
<strong>        const DenseMatrix &amp;B)</strong><br />
<strong>{</strong><br />
<strong>    unsigned row = A.row_;</strong><br />
<strong>    unsigned col = A.col_;</strong><strong>    CSYMPY_ASSERT(col == B.row_)</strong><p></p>
<p><strong>    std::vector&lt;RCP&lt;const Basic&gt;&gt; prod(row*B.col_);</strong></p>
<p><strong>    for (unsigned r = 0; r&lt;row; r++) {</strong><br />
<strong>        for (unsigned c = 0; c&lt;B.col_; c++) {</strong><br />
<strong>            prod[r*B.col_ + c] = zero; // Integer Zero</strong><br />
<strong>            for (unsigned k = 0; k&lt;col; k++)</strong><br />
<strong>                prod[r*B.col_ + c] = add(prod[r*B.col_ + c],</strong><br />
<strong>                        mul(A.m_[r*col + k], B.m_[k*B.col_ + c]));</strong><br />
<strong>        }</strong><br />
<strong>    }</strong></p>
<p><strong>    return rcp(new DenseMatrix(row, B.col_, prod));</strong><br />
<strong>}</strong></p></li>
</ul>
</li>
</ol>
<h3>Plan for this week</h3>
<p>I wish to finish implementing Gaussian elimination and do some benchmarks.</p>
<p> </p>
<p> </p><br />  <a href="http://feeds.wordpress.com/1.0/gocomments/thilinaatsympy.wordpress.com/302/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/comments/thilinaatsympy.wordpress.com/302/" alt="" border="0" /></a> <img src="http://stats.wordpress.com/b.gif?host=thilinaatsympy.wordpress.com&amp;blog=52956410&amp;post=302&amp;subd=thilinaatsympy&amp;ref=&amp;feed=1" alt="" border="0" width="1" height="1" /></div>







<p class="date">
<a href="http://thilinaatsympy.wordpress.com/2014/05/27/gsoc-2014-implemented-basic-matrix-classes/">by Thilina Rathnayake at May 27, 2014 05:10 PM</a>
</p>
</div>
</div>


</div>

</div>
<div class="daygroup">
<h2>May 25, 2014</h2>

<div class="channelgroup">







<h3><a href="http://gsocblog.blogspot.com/" title="GSoC 2014 with SymPy">Avichal Dayal</a></h3>


<div class="entrygroup" id="tag:blogger.com,1999:blog-283806077182880539.post-8694557721186369600">
<div class="entry">
<div class="content">
<div style="text-align: left;" dir="ltr">In this first week I finished implementing the MrvAsympt algorithm as given by Dominik gruntz in his paper "A new algorithm for computing asymptotic series".<br /><br />One of the features of this algorithm is hierarchical series where it terminates the recursion early perhaps to give better results. Determining whether terminating earlier is better is a tough task. I left it to the user by introducing a new parameter ``hir``. If its True, it terminates after one level of expansion.<br />Also in some cases going further into recursion might fail to give an asymptotic expansion. In such cases this is useful as it at least gives the user some result.<br />A good example for this would be:-<br /><pre style=""><code style="color: black;"> &gt;&gt;&gt; e = sin(x) * cos(exp(-x))  <br /> &gt;&gt;&gt; e.aseries(x)  <br /> ...  <br /> PoleError  <br /> ...  <br /> &gt;&gt;&gt; e.aseries(x, hir=True)  <br /> exp(-4*x)*sin(x)/24 - exp(-2*x)*sin(x)/2 + sin(x) + O(exp(-6*x), (x, oo))  <br /></code></pre>Also I checked for conditions of infinite recursion. If the most rapidly varying subexpression is same as the function, we need to find a canonical representation of the equivalence class. It is found by taking the leading term of the argument of the most rapidly varying subexpression. If the canonical representation is also an exponential, it goes into infinite recursion.<br /><br />The issues I faced was to how to integrate this code into the existing series method.<br />E.g.:- series(sin(1/x + exp(-x)) - sin(1/x), x, oo) just returns O(x**-6, (x, oo)) before. Now, if series fails to produce any relevant result or gives an error, it calls this algorithm to try and find an asymptotic expansion of the function.<br /><br />Next week I plan to implement asymptotic expansion for special functions where ever possible. Also I'll add various test cases related to asymptotic series. Most of them are from examples given in Gruntz paper.<br />I hope to send the PR soon and get it merged without giving any troubles. </div></div>







<p class="date">
<a href="http://gsocblog.blogspot.com/2014/05/in-this-first-week-i-finished.html">by Avichal Dayal (noreply@blogger.com) at May 25, 2014 07:53 PM</a>
</p>
</div>
</div>



</div>
<div class="channelgroup">







<h3><a href="https://hargup.github.io/" title="Harsh's blog">Harsh Gupta</a></h3>


<div class="entrygroup" id="https://hargup.github.io/posts/gsoc-2014-with-sympy.html">
<h4 lang="en"><a href="https://hargup.github.io/posts/gsoc-2014-with-sympy.html">GSoC 2014 with Sympy</a></h4>
<div class="entry">
<div class="content">
<div><p>Hi, I'm Harsh Gupta an undergrad student at IIT Kharagpur, I've been accepted
this year for the Google Summer of Code program with Sympy.</p>
<p><strong>So, What is a Google Summer of Code?</strong></p>
<p>Google Summer of Code is a program by Google to promote opensource development.
In this program Google pays handsome stipends to students to work for various opensource
organisations. In the application phase the students have to write proposals to
the organisations describing the projects they want to do
and how do they fit for it. If the proposal is accepted the student is provided
with a mentor and with the guidance of the mentor the student has to complete
the project in the given timeline. You can look at my
<a href="https://github.com/sympy/sympy/wiki/GSoC-2014-Application-Harsh-Gupta:-Solvers">proposal</a>.
I proposed to work on improving the current equation solvers in
Sympy. My mentors for the Project are <a href="https://github.com/mrocklin">Matthew Rocklin</a>
and <a href="https://github.com/skirpichev">Sergey B Kipirchev</a>.</p>
<p><strong>A word about Sympy.</strong></p>
<p><a href="http://sympy.org/">Sympy</a> is a pure python library for symbolic computation. Symbolic
computation is similar to the maths you do by hands and it differs from
numerical computations. More about Symbolic and Numerical computation in
some other post. Sympy has been created by hundreds of contributors starting from 2006.
It has an awesome developer
community and we encourage outsiders to contribute and get their hands dirty with
the code. What do you need to start contributing? Some python skills and little
patience. Download the <a href="https://github.com/sympy/sympy">latest development code</a>.
Go through the <a href="https://github.com/sympy/sympy/wiki/Development-workflow">development workflow</a>.
Find something to work on from the
<a href="https://github.com/sympy/sympy/issues?labels=Easy+to+Fix&amp;milestone=&amp;page=1&amp;state=open">EasyToFix Issues</a>.
Code it and send us a <a href="https://help.github.com/articles/using-pull-requests">pull request</a>. Happy Coding.</p>
<p>I'll give a brief about the project aim and current state of work in the next post.
I'm looking forward for a great summer with Sympy.</p></div></div>







<p class="date">
<a href="https://hargup.github.io/posts/gsoc-2014-with-sympy.html">May 25, 2014 07:24 PM</a>
</p>
</div>
</div>




<div class="entrygroup" id="https://hargup.github.io/blog/gsoc-2014-with-sympy.html">
<h4 lang="en"><a href="https://hargup.github.io/blog/gsoc-2014-with-sympy.html">GSoC 2014 with Sympy</a></h4>
<div class="entry">
<div class="content">
<div><p>Hi, I'm Harsh Gupta an undergrad student at IIT Kharagpur, I've been accepted
this year for the Google Summer of Code program with Sympy.</p>
<p><strong>So, What is a Google Summer of Code?</strong></p>
<p>Google Summer of Code is a program by Google to promote opensource development.
In this program Google pays handsome stipends to students to work for various opensource
organisations. In the application phase the students have to write proposals to
the organisations describing the projects they want to do
and how do they fit for it. If the proposal is accepted the student is provided
with a mentor and with the guidance of the mentor the student has to complete
the project in the given timeline. You can look at my
<a href="https://github.com/sympy/sympy/wiki/GSoC-2014-Application-Harsh-Gupta:-Solvers">proposal</a>.
I proposed to work on improving the current equation solvers in
Sympy. My mentors for the Project are <a href="https://github.com/mrocklin">Matthew Rocklin</a>
and <a href="https://github.com/skirpichev">Sergey B Kipirchev</a>.</p>
<p><strong>A word about Sympy.</strong></p>
<p><a href="http://sympy.org/">Sympy</a> is a pure python library for symbolic computation. Symbolic
computation is similar to the maths you do by hands and it differs from
numerical computations. More about Symbolic and Numerical computation in
some other post. Sympy has been created by hundreds of contributors starting from 2006.
It has an awesome developer
community and we encourage outsiders to contribute and get their hands dirty with
the code. What do you need to start contributing? Some python skills and little
patience. Download the <a href="https://github.com/sympy/sympy">latest development code</a>.
Go through the <a href="https://github.com/sympy/sympy/wiki/Development-workflow">development workflow</a>.
Find something to work on from the
<a href="https://github.com/sympy/sympy/issues?labels=Easy+to+Fix&amp;milestone=&amp;page=1&amp;state=open">EasyToFix Issues</a>.
Code it and send us a <a href="https://help.github.com/articles/using-pull-requests">pull request</a>. Happy Coding.</p>
<p>I'll give a brief about the project aim and current state of work in the next post.
I'm looking forward for a great summer with Sympy.</p></div></div>







<p class="date">
<a href="https://hargup.github.io/blog/gsoc-2014-with-sympy.html">May 25, 2014 07:24 PM</a>
</p>
</div>
</div>



</div>
<div class="channelgroup">







<h3><a href="http://codesachin.wordpress.com" title="Dream. Think. Code. » Google Summer of Code 2014">Sachin Joglekar</a></h3>


<div class="entrygroup" id="http://codesachin.wordpress.com/?p=6">
<h4 lang="en"><a href="http://codesachin.wordpress.com/2014/05/25/gsoc-first-week-getting-priorities-straight/">GSoC First Week: Getting priorities straight</a></h4>
<div class="entry">
<div class="content" lang="en">
<p>Ok. My first week with the my second iteration of Google Summer of Code. Things have been different this time right from the word go. Mainly to do with software design, or rather the approach to it. Jason and I have had lengthy discussions about this, and we have been trying to work out a good plan to get things done in a structured way this summer. I am hoping that this will avoid the problems Prasoon and I encountered oh-so-frequently last summer. They were mainly because we had too many TODOs and objectives all at the same time, instead of doing things step-by-step, in an incremental manner.</p>
<p>What I have been doing this week, is thinking and talking to people regarding what the use-cases of the new module will be. I had started out trying to design an overly generalized system, but talking to Jason and Stefan has made me realise that its better to get the set of objectives straight.</p>
<p>Basically, I have been listing out as many micro-use-cases as I can. Something like – “I, as a SymPy developer, would like to use the new vector module to prove the integral forms of Maxwell’s equations.” This is where the talking to many people came into the picture. Things like these, though they may seem a lot to process, admittedly do help you focus on whats high-priority.</p>
<p>Broadly, I have divided my objectives for the module into the following incremental development ‘steps’-</p>
<p><b><i>i)Implementation of a basic Vector framework</i></b></p>
<p><b><i>ii)Implementation of the Del operator</i></b></p>
<p><b><i>iii)Conversion to and from coordinate systems other than Cartesian</i></b>.</p>
<p><b><i>iv) Having an API for doing vector math in different coordinate systems.</i></b></p>
<p><b><i>v)Implementation of Coordinate System class, along with a Point class</i></b></p>
<p><b><i>vi)Implementation of time-dependent functionality</i></b></p>
<p><b><i>vii)Implementation of LaTeX functionality </i></b></p>
<p><b><i>viii) Implementation of vector-integral functionality<br />
</i></b></p>
<p>Each of these, as you can probably see, can be done one-at-a-time (ofcourse many of them have prerequisites, like vi requiring i and v). In any case, the incremental model of software design does seem to fit well to developing the new vector module – with something like the waterfall model being used for each of these objectives individually.</p>
<p>On the coding front, I have pretty much done with objective i. I have a stable (with a few mods necessary) system of basic vector math in place on my <em>gsocvect</em> branch on github. I have avoided usage of coordinate systems, to ensure that the Vector class fits well with the SymPy core. Some things still need to be ironed out, like usage of functions like<em> trigsimp </em>on a given Vector instance – I’ll probably try my hand a little more, or ask the mailing list.</p>
<p>Anyways, thats all for now <span class="wp-smiley emoji emoji-smile" title=":-)">:-)</span>. Hope to have a great summer coding a new SymPy module. *excited*</p><br />  <a href="http://feeds.wordpress.com/1.0/gocomments/codesachin.wordpress.com/6/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/comments/codesachin.wordpress.com/6/" alt="" border="0" /></a> <img src="http://stats.wordpress.com/b.gif?host=codesachin.wordpress.com&amp;blog=67602166&amp;post=6&amp;subd=codesachin&amp;ref=&amp;feed=1" alt="" border="0" width="1" height="1" /></div>







<p class="date">
<a href="http://codesachin.wordpress.com/2014/05/25/gsoc-first-week-getting-priorities-straight/">by srjoglekar246 at May 25, 2014 03:13 PM</a>
</p>
</div>
</div>



</div>
<div class="channelgroup">







<h3><a href="http://kundankumar185.wordpress.com" title="my experiments with life">Kundan Kumar</a></h3>


<div class="entrygroup" id="http://kundankumar185.wordpress.com/?p=6">
<h4 lang="en"><a href="http://kundankumar185.wordpress.com/2014/05/25/first-step-toward-gsoc/">First step toward GSoC</a></h4>
<div class="entry">
<div class="content" lang="en">
<p>One week has been added to my life under the name of GSoC. I have been working under Sympy and as my GSoC proposal I am implementing system of differential equation. It has been one of fruiteful week for me though I would add I became a little slow in the end. I thought its a good opportunity to learn vim along with working on codebase of sympy. So, I have started fighting with vim to understand him more. Yeah him!! I have read comments of people on vim its the best text editor, once used to it you wont be leaving it for anything else.</p>
<p>Heh, I found it hard to operate with vim in starting but I am heck of guy to leave it. <span class="wp-smiley emoji emoji-bigsmile" title=":D">:D</span></p>
<p>About my work on sympy, I have implemented first order linear system of two equation. Added all method considering it and aha also documentation. Though my mentors seemed a little busy this week so I dont know much how my implementation should look like from their point of view but I have added what seemed good. Thats was it for this week, next week I am hoping of implementing the same for second order.</p><br />  <a href="http://feeds.wordpress.com/1.0/gocomments/kundankumar185.wordpress.com/6/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/comments/kundankumar185.wordpress.com/6/" alt="" border="0" /></a> <img src="http://stats.wordpress.com/b.gif?host=kundankumar185.wordpress.com&amp;blog=68025302&amp;post=6&amp;subd=kundankumar185&amp;ref=&amp;feed=1" alt="" border="0" width="1" height="1" /></div>







<p class="date">
<a href="http://kundankumar185.wordpress.com/2014/05/25/first-step-toward-gsoc/">by Kundan at May 25, 2014 05:02 AM</a>
</p>
</div>
</div>



</div>
<div class="channelgroup">







<h3><a href="http://lifelesscode.blogspot.com/search/label/sympy" title="Shortlog">Sudhanshu Mishra</a></h3>


<div class="entrygroup" id="tag:blogger.com,1999:blog-8847459392628952171.post-4814788273799668813">
<h4><a href="http://lifelesscode.blogspot.com/2014/05/gsoc-14-first-week.html">GSoC 14: First Week</a></h4>
<div class="entry">
<div class="content">
<div style="text-align: left;" dir="ltr"><div style="color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14px; line-height: 1.3em; margin-bottom: 1.2em;">The first week of GSoC is going to end very soon. I started working very late this week because of some issues. I spent most of my time in reading books on optics.</div><div style="color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14px; line-height: 1.3em; margin-bottom: 1.2em;">Due to a dependency for 3D geometry, which will take some more time, I changed my timeline from what I had proposed. Besides starting with geometrical optics(3 weeks), I have started working on wave optics.</div><div style="color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14px; line-height: 1.3em; margin-bottom: 1.2em;">This is what my proposal says:</div><blockquote style="border-left-color: rgb(245, 245, 245); border-left-style: solid; border-left-width: 5px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14px; line-height: 18px; margin: 0px 0px 18px; padding: 0px 0px 0px 15px;"><ul style="margin: 0px 0px 9px 25px; padding: 0px;"><li>During this week I'll write code for classical wave equation and simple harmonic motion.</li><li>Introduction of properties like phase angles, phase velocity, wave velocity, amplitude, intensity, frequency and wavelength. </li></ul></blockquote><div style="color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14px; line-height: 1.3em; margin-bottom: 1.2em;"><a style="color: #4183c4; text-decoration: none;" href="https://github.com/sympy/sympy/pull/7518">This</a> is my first pull request regarding my project (Thanks to Sean for the quick review). Till now I've only added a transverse wave class and will add more to it in the next 2 days.</div><div style="color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14px; line-height: 1.3em; margin-bottom: 1.2em;">There were no hiccups yet!</div><div style="color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14px; line-height: 1.3em; margin-bottom: 1.2em;"><span style="line-height: 1.3em;">Cheers!</span></div></div></div>







<p class="date">
<a href="http://lifelesscode.blogspot.com/2014/05/gsoc-14-first-week.html">by Sudhanshu Mishra (noreply@blogger.com) at May 25, 2014 12:14 AM</a>
</p>
</div>
</div>


</div>

</div>
<div class="daygroup">
<h2>May 24, 2014</h2>

<div class="channelgroup">







<h3><a href="http://sushant-hiray.in" title="Sushant Hiray's Blog - Posts tagged sympy/gsoc/csympy">Sushant Hiray</a></h3>


<div class="entrygroup" id="http://sushant-hiray.in/posts/gsoc/csympy-week1/">
<h4><a href="http://sushant-hiray.in/posts/gsoc/csympy-week1/">Community Bonding and Week 1 in CSymPy</a></h4>
<div class="entry">
<div class="content">
<p>Week 1 for GSoC is almost about to end and I’m pretty much excited about the progress I’ve made.
For those who are unaware I’m working on extending elementary functions in CSymPy. You can look over
the proposal <a href="https://github.com/sympy/sympy/wiki/GSoC-2014-Application-Sushant-Hiray:-Extending-Elementary-Functions-CSymPy">here</a> to get a better idea regarding the project!
<br /><br />
The last few weeks have been fairly intensive. I shipped in a fair amount of code and we made a decent progress with the target. I’m quite ahead of my proposal now, so it gives quite a decent amount of buffer to improvise things as we keep on making progress.</p>

<h1 id="progress">Progress</h1>

<p>The community bonding period started off with closing some trivial issues such as adding a gitignore ( <a href="https://github.com/sympy/csympy/pull/165">pull 165</a>). This was needed big time considering the number of untracked files we had!
<br /><br />
Next I started working on improving the trignometric module for CSymPy. It started with <a href="https://github.com/sympy/csympy/pull/168">pull 168</a> which added all the remaining trignometric classes.
<br /><br />
After adding the trignometric classes we started working on implementing <code>eval</code> for trignometric classes. This was based on Ondrej’s version of <a href="https://github.com/certik/sympy/blob/trig/t.py">eval</a> which he had written for SymPy.
This PR took quite over a week to complete and get merged into master.
Now with this PR being merged we can directly evaluate arguments of type <code>theta + k*pi/12</code> for all the trignometric classes.
<br /><br />
A couple of PR’s were added to improve the code quality. <a href="https://github.com/sympy/csympy/pull/170">PR 170</a> looked into updating the constructors with C++11 standard and <a href="https://github.com/sympy/csympy/pull/171">pull 171</a> made the argument a private member for the base class. 
<br /><br />
The code looks quite noeat now, later on we will try to reduce the code length. But its good for now.</p>

<h1 id="discussions">Discussions</h1>

<p>Most of the discussions with Ondrej happened over the pull requests. Myself, Thilina and Ondrej had an online meetup on gitter this Thursday(IST). You can follow up on the details <a href="https://gitter.im/sympy/csympy">here</a>
We discussed mostly regarding our progress, we also discussed a bit about possibility of compile-time hashing.</p>

<h1 id="the-week-ahead">The Week Ahead</h1>
<p>So for the next we have planned to get the basic implementation of inverse trignometric functions.
<br /><br />
Thats all for now :) Will get back next week!</p></div>







<p class="date">
<a href="http://sushant-hiray.in/posts/gsoc/csympy-week1/">May 24, 2014 06:30 PM</a>
</p>
</div>
</div>



</div>
<div class="channelgroup">







<h3><a href="http://jcrist.github.io/" title="Marginally Stable">Jim Crist</a></h3>


<div class="entrygroup" id="tag:,2014-05-24:gsoc-week-1.html">
<h4><a href="http://jcrist.github.io/gsoc-week-1.html">GSoC Week 1: Project Overview</a></h4>
<div class="entry">
<div class="content">
<p>
</p><div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>This summer I got accepted into <a href="https://www.google-melange.com/gsoc/homepage/google/gsoc2014">Google Summer of Code</a> under <a href="http://sympy.org/en/index.html">Sympy</a>. For those that don't know, Sympy is a computer algebra system (CAS) written in Python. It can handle all sorts of mathematics, but what I use it most for is deriving and solving for the equations of motion for physical systems using the functionality found in <code>Sympy.physics.mechanics</code> (as seen in <a href="http://jcrist.github.io/differential-drive-part-1.html">this previous post</a>).</p>
<p>My project this summer is adding a robust linearization routine to this package to linearize systems with constraints. The code provided in <code>sympy.physics.mechanics</code> currently makes it very easy to generate the equations of motion (EOM) for the dynamics of rigid, multibody systems. However, these EOM are typically nonlinear in nature, and can be quite lengthy. For analysis, linearizing the equations about equilibrium points, or trajectories is desired. Linearized equations are exceptionally useful because:</p>
<ul>
<li>They reduce the computational complexity of analysis and simulation</li>
<li>They allow for traditional stability analysis via eigenvalue decomposition</li>
<li>They are often used in control theory for controller design and analysis</li>
</ul>
<p>Nonlinear equations can typically be written in the following form:</p>
<p><span class="math">\[\dot{x} = f(t, x, u)\]</span></p>
<p>where <span class="math">\(t\)</span> is time, <span class="math">\(x\)</span> is the system state, and <span class="math">\(u\)</span> is the input to the system. For unconstrained systems (systems, where the states are only functions of time, and not of each other), linearization is as simple as taking the jacobian of <span class="math">\(f(t, x, u)\)</span> with respect to <span class="math">\(x\)</span> and <span class="math">\(u\)</span></p>
<p><span class="math">\[\dot{\delta x} \approx \nabla_x f(t, x, u) |_{x^*, u^*} \delta x + \nabla_u f(t, x, u) |_{x^*, u^*} \delta u\]</span></p>
<p>where <span class="math">\(x^*\)</span> and <span class="math">\(u^*\)</span> represent the trajectory or equilibrium point that linearization is occuring about, and <span class="math">\(\delta x\)</span> and <span class="math">\(\delta u\)</span> are the changes from this point (i.e. <span class="math">\(\delta x = x - x^*\)</span>).</p>
<p>However, if there are constraints, then linearization becomes more complicated, due to the fact that some variables in <span class="math">\(x\)</span> are now functions of other variables, leading to the need to implement the chain rule. Simply taking the jacobian as you normally would leads to a linearization that doesn't accurately represent the system. This is demonstrated below with an example of a simple pendulum.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="example-single-pendulum-with-minimum-coordinates">Example: Single Pendulum with Minimum Coordinates</h1>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>To derive the equations of motion, well first use Kane's Method with no constraints. Kane's Method is something I hadn't seen before in my dynamic's classes (we focussed more on Lagrange), so I spent part of this week learning it. It differs from Lagrange's method in that instead of only choosing generalized coordinats, generalized speeds are choosen as well. This can make the equations simpler, as the speeds do not have to be the derivatives of the coordinates.</p>
<p>While Sympy has functions to make the derivation using Kane's Method easier, I'm going to show each calculation step for a clearer description of the method.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In [1]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight-ipynb"><pre class="ipynb"><span class="kn">from</span> <span class="nn">IPython.display</span> <span class="kn">import</span> <span class="n">SVG</span>
<span class="n">SVG</span><span class="p">(</span><span class="n">filename</span><span class="o">=</span><span class="s">'Pendulum_Min_Coord.svg'</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">
    Out[1]:</div>

<div class="output_svg output_subarea output_pyout">
<svg width="372.53574" xmlns="http://www.w3.org/2000/svg" id="svg2" version="1.1" height="378.96869">
  &lt;sodipodi:namedview bordercolor="#666666" borderopacity="1.0" fit-margin-bottom="5" fit-margin-left="5" fit-margin-right="5" fit-margin-top="5" id="base" inkscape:current-layer="layer1" inkscape:cx="115.27797" inkscape:cy="110.74674" inkscape:document-units="px" inkscape:pageopacity="0.0" inkscape:pageshadow="2" inkscape:window-height="693" inkscape:window-maximized="1" inkscape:window-width="1366" inkscape:window-x="0" inkscape:window-y="23" inkscape:zoom="1" pagecolor="#ffffff" showgrid="false"&gt;
  <defs id="defs4">
    &lt;pattern id="pattern6485" inkscape:collect="always" patterntransform="matrix(1.4782083,0,0,12.709288,204.03947,0)" xlink:href="#Strips1_4"&gt;
    &lt;pattern height="1" id="Strips1_4" inkscape:collect="always" inkscape:stockid="Stripes 1:4" patterntransform="translate(0,0) scale(10,10)" patternunits="userSpaceOnUse" width="5"&gt;
      <rect style="fill: black; stroke: none;" height="2" width="1" y="-0.5" x="0" id="rect5768">
    &lt;/pattern&gt;
    <marker style="overflow: visible;" id="Arrow2Lend" orient="auto">
      <path style="fill-rule: evenodd; stroke-width: 0.625; stroke-linejoin: round;" transform="matrix(-1.1,0,0,-1.1,-1.1,0)" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" id="path3812">
    </path></marker>
    <marker style="overflow: visible;" id="Arrow2Lstart" orient="auto">
      <path style="fill-rule: evenodd; stroke-width: 0.625; stroke-linejoin: round;" transform="matrix(1.1,0,0,1.1,1.1,0)" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" id="path3809">
    </path></marker>
    <marker style="overflow: visible;" id="Arrow1Lstart" orient="auto">
      <path style="fill-rule: evenodd; stroke: #000000; stroke-width: 1pt;" transform="matrix(0.8,0,0,0.8,10,0)" d="M 0,0 5,-5 -12.5,0 5,5 0,0 z" id="path3791">
    </path></marker>
    <marker style="overflow: visible;" id="Arrow2Lstart-8" orient="auto">
      <path style="fill-rule: evenodd; stroke-width: 0.625; stroke-linejoin: round;" transform="matrix(1.1,0,0,1.1,1.1,0)" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" id="path3809-7">
    </path></marker>
    <marker style="overflow: visible;" id="Arrow2Lend-7" orient="auto">
      <path style="fill-rule: evenodd; stroke-width: 0.625; stroke-linejoin: round;" transform="matrix(-1.1,0,0,-1.1,-1.1,0)" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" id="path3812-7">
    </path></marker>
    <marker style="overflow: visible;" id="Arrow2Lend-8" orient="auto">
      <path style="fill-rule: evenodd; stroke-width: 0.625; stroke-linejoin: round;" transform="matrix(-1.1,0,0,-1.1,-1.1,0)" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" id="path3812-74">
    </path></marker>
    <marker style="overflow: visible;" id="Arrow2Lend-3" orient="auto">
      <path style="fill-rule: evenodd; stroke-width: 0.625; stroke-linejoin: round;" transform="matrix(-1.1,0,0,-1.1,-1.1,0)" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" id="path3812-8">
    </path></marker>
    <marker style="overflow: visible;" id="Arrow2Lend-6" orient="auto">
      <path style="fill-rule: evenodd; stroke-width: 0.625; stroke-linejoin: round;" transform="matrix(-1.1,0,0,-1.1,-1.1,0)" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" id="path3812-4">
    </path></marker>
    <marker style="overflow: visible;" id="Arrow2Lend-5" orient="auto">
      <path style="fill-rule: evenodd; stroke-width: 0.625; stroke-linejoin: round;" transform="matrix(-1.1,0,0,-1.1,-1.1,0)" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" id="path3812-9">
    </path></marker>
    <marker style="overflow: visible;" id="Arrow2Lend-1" orient="auto">
      <path style="fill-rule: evenodd; stroke-width: 0.625; stroke-linejoin: round;" transform="matrix(-1.1,0,0,-1.1,-1.1,0)" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" id="path3812-90">
    </path></marker>
    <marker style="overflow: visible;" id="Arrow2Lend-1k" orient="auto">
      <path style="fill: #ff0000; fill-rule: evenodd; stroke: #ff0000; stroke-width: 0.625; stroke-linejoin: round;" transform="matrix(-1.1,0,0,-1.1,-1.1,0)" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" id="path7949">
    </path></marker>
    <marker style="overflow: visible;" id="Arrow2Lend4" orient="auto">
      <path style="fill: #ff0000; fill-rule: evenodd; stroke: #ff0000; stroke-width: 0.625; stroke-linejoin: round;" transform="matrix(-1.1,0,0,-1.1,-1.1,0)" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" id="path8071">
    </path></marker>
    <marker style="overflow: visible;" id="Arrow2Lend-1km" orient="auto">
      <path style="fill: #0000ff; fill-rule: evenodd; stroke: #0000ff; stroke-width: 0.625; stroke-linejoin: round;" transform="matrix(-1.1,0,0,-1.1,-1.1,0)" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" id="path8196">
    </path></marker>
    <marker style="overflow: visible;" id="Arrow2Lend4X" orient="auto">
      <path style="fill: #0000ff; fill-rule: evenodd; stroke: #0000ff; stroke-width: 0.625; stroke-linejoin: round;" transform="matrix(-1.1,0,0,-1.1,-1.1,0)" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" id="path8199">
    </path></marker>
    <marker style="overflow: visible;" id="Arrow2Lend4X-8" orient="auto">
      <path style="fill: #0000ff; fill-rule: evenodd; stroke: #0000ff; stroke-width: 0.625; stroke-linejoin: round;" transform="matrix(-1.1,0,0,-1.1,-1.1,0)" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" id="path8199-5">
    </path></marker>
    <marker style="overflow: visible;" id="Arrow2Lend-1km-9" orient="auto">
      <path style="fill: #0000ff; fill-rule: evenodd; stroke: #0000ff; stroke-width: 0.625; stroke-linejoin: round;" transform="matrix(-1.1,0,0,-1.1,-1.1,0)" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" id="path8196-3">
    </path></marker>
    <marker style="overflow: visible;" id="Arrow2Lend4Xq" orient="auto">
      <path style="fill: #ff0000; fill-rule: evenodd; stroke: #ff0000; stroke-width: 0.625; stroke-linejoin: round;" transform="matrix(-1.1,0,0,-1.1,-1.1,0)" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" id="path8390">
    </path></marker>
    <marker style="overflow: visible;" id="Arrow2Lend-1kmM" orient="auto">
      <path style="fill: #ff0000; fill-rule: evenodd; stroke: #ff0000; stroke-width: 0.625; stroke-linejoin: round;" transform="matrix(-1.1,0,0,-1.1,-1.1,0)" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" id="path8393">
    </path></marker>
    <marker style="overflow: visible;" id="Arrow2Lstart-2" orient="auto">
      <path style="fill-rule: evenodd; stroke-width: 0.625; stroke-linejoin: round;" transform="matrix(1.1,0,0,1.1,1.1,0)" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" id="path3809-6">
    </path></marker>
    <marker style="overflow: visible;" id="Arrow2Lstart-4" orient="auto">
      <path style="fill-rule: evenodd; stroke-width: 0.625; stroke-linejoin: round;" transform="matrix(1.1,0,0,1.1,1.1,0)" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" id="path3809-2">
    </path></marker>
  </rect></defs>
  <metadata id="metadata7">
    &lt;rdf:rdf&gt;
      &lt;cc:work rdf:about=""&gt;
        &lt;dc:format&gt;image/svg+xml&lt;/dc:format&gt;
        &lt;dc:type rdf:resource="http://purl.org/dc/dcmitype/StillImage"&gt;
        &lt;dc:title&gt;&lt;/dc:title&gt;
      &lt;/cc:work&gt;
    &lt;/rdf:rdf&gt;
  </metadata>
  <g id="layer1" transform="translate(-184.9363,-178.42594)">
    <path style="fill: #ff0000; fill-rule: evenodd; stroke: #000000; stroke-width: 1px; stroke-linecap: butt; stroke-linejoin: miter; stroke-opacity: 1;" transform="matrix(0.22219926,0,0,0.21267643,384.59418,428.325)" d="m 357.59401,430.10822 c 0,39.05242 -30.30147,70.71067 -67.68022,70.71067 -37.37876,0 -67.68022,-31.65825 -67.68022,-70.71067 0,-39.05243 30.30146,-70.71068 67.68022,-70.71068 37.37875,0 67.68022,31.65825 67.68022,70.71068 z" id="path2989">
    <path style="fill: none; stroke: #000000; stroke-width: 3.51907468px; stroke-linecap: butt; stroke-linejoin: miter; stroke-opacity: 1;" d="m 202.92616,204.8442 c 262.86866,0 262.86866,0 262.86866,0" id="path2991">
    <path style="fill: #ffff00; fill-rule: evenodd; stroke: #000000; stroke-width: 1px; stroke-linecap: butt; stroke-linejoin: miter; stroke-opacity: 1;" transform="matrix(-1,0,0,-1,555.58391,486.45996)" d="m 253.532,280.49304 -31.29843,0 -31.29844,0 15.64922,-27.10524 15.64922,-27.10523 15.64921,27.10523 z" id="path2993">
    <path style="fill: none; stroke: #000000; stroke-width: 2; stroke-linecap: butt; stroke-linejoin: miter; stroke-opacity: 1;" d="m 339.78704,249.0287 103.5984,256.81995" id="path2997">
    <text y="413.79074" x="405.85715" style="font-size: 40px; font-style: normal; font-weight: normal; line-height: 125%; letter-spacing: 0px; fill: #000000; fill-opacity: 1; stroke: none; font-family: Sans;" xml:space="preserve" id="text4793"><tspan y="413.79074" x="405.85715" id="tspan4795">L</tspan></text>
    <text y="531.36218" x="467.71429" style="font-size: 40px; font-style: normal; font-weight: normal; line-height: 125%; letter-spacing: 0px; fill: #000000; fill-opacity: 1; stroke: none; font-family: Sans;" xml:space="preserve" id="text4797"><tspan y="531.36218" x="467.71429" id="tspan4799">m</tspan></text>
    <text y="302.36218" x="530.71423" style="font-size: 40px; font-style: normal; font-weight: normal; line-height: 125%; letter-spacing: 0px; fill: #000000; fill-opacity: 1; stroke: none; font-family: Sans;" xml:space="preserve" id="text5019"><tspan y="302.36218" x="530.71423" id="tspan5021">g</tspan></text>
    <rect style="fill-opacity: 1; stroke: none;" transform="matrix(1,0,0.72381295,0.68999624,0,0)" rx="0" ry="0" height="29.007917" width="251.274" y="265.83615" x="-2.4793456" id="rect5023">
    <text y="499.35422" x="361.93631" style="font-size: 40px; font-style: normal; font-weight: normal; line-height: 125%; letter-spacing: 0px; fill: #000000; fill-opacity: 1; stroke: none; font-family: Sans;" xml:space="preserve" id="text6597"><tspan y="499.35422" x="361.93631" id="tspan6599">q<tspan style="font-size: 65.00091553%;" id="tspan6601">1</tspan></tspan></text>
    <path style="fill: none; stroke: #000000; stroke-width: 1.21877503; stroke-linecap: butt; stroke-linejoin: miter; stroke-opacity: 1;" d="m 520.9149,264.05894 0,92.49758" id="path4827-4">
    <g id="g8297" transform="translate(-120,-14)">
      <path style="fill: none; stroke: #0000ff; stroke-width: 1.53423667; stroke-linecap: butt; stroke-linejoin: miter; stroke-opacity: 1;" d="m 333.2704,243.61034 0,56.62207" id="path4827-70">
      <path style="fill: none; stroke: #0000ff; stroke-width: 1.65040851; stroke-linecap: butt; stroke-linejoin: miter; stroke-opacity: 1;" d="m 333.2074,243.13275 56.19646,0" id="path4827-9-6">
    </path></path></g>
    <text y="299.35422" x="216.93629" style="font-size: 40px; font-style: normal; font-weight: normal; line-height: 125%; letter-spacing: 0px; fill: #000000; fill-opacity: 1; stroke: none; font-family: Sans;" xml:space="preserve" id="text8301"><tspan y="299.35422" x="216.93629" style="font-size: 24px;" id="tspan8303">N<tspan style="font-size: 65.00091553%;" id="tspan8571">x</tspan></tspan></text>
    <text y="258.35422" x="247.93631" style="font-size: 40px; font-style: normal; font-weight: normal; line-height: 125%; letter-spacing: 0px; fill: #000000; fill-opacity: 1; stroke: none; font-family: Sans;" xml:space="preserve" id="text8307"><tspan y="258.35422" x="247.93631" style="font-size: 24px;" id="tspan8309">N<tspan style="font-size: 65.00091553%;" id="tspan8569">y</tspan></tspan></text>
    <path style="fill: none; stroke: #ff0000; stroke-width: 1.53423667; stroke-linecap: butt; stroke-linejoin: miter; stroke-opacity: 1;" d="m 335.39519,236.31191 20.29154,52.86126" id="path4827-70-2">
    <path style="fill: none; stroke: #ff0000; stroke-width: 1.65040851; stroke-linecap: butt; stroke-linejoin: miter; stroke-opacity: 1;" d="m 335.16523,235.88862 52.46391,-20.13901" id="path4827-9-6-9">
    <text y="284.70227" x="361.07303" style="font-size: 40px; font-style: normal; font-weight: normal; line-height: 125%; letter-spacing: 0px; fill: #000000; fill-opacity: 1; stroke: none; font-family: Sans;" xml:space="preserve" id="text8301-7"><tspan y="284.70227" x="361.07303" style="font-size: 24px;" id="tspan8303-9">A<tspan style="font-size: 65.00091553%;" id="tspan8567">x</tspan></tspan></text>
    <text y="235.20618" x="386.03787" style="font-size: 40px; font-style: normal; font-weight: normal; line-height: 125%; letter-spacing: 0px; fill: #000000; fill-opacity: 1; stroke: none; font-family: Sans;" xml:space="preserve" id="text8307-4"><tspan y="235.20618" x="386.03787" style="font-size: 24px;" id="tspan8309-7">A<tspan style="font-size: 65.00091553%;" id="tspan8565">y</tspan></tspan></text>
    <path style="fill: none; stroke: #000000; stroke-width: 1.49994314; stroke-opacity: 1;" transform="matrix(1.5707216,0,0,1.6326654,-402.16738,-380.32792)" d="m 520.11084,512.98418 c -14.91916,5.78676 -30.7279,8.94566 -46.72524,9.33662" id="path3785">
    <path style="fill: none; stroke: #000000; stroke-width: 2.57029223; stroke-opacity: 1;" transform="matrix(0.58676057,0,0,0.58043896,62.244133,29.528251)" d="m 577.53786,471.18439 c -23.97211,29.49767 -59.00862,47.85327 -96.90679,50.76937" id="path3785-5">
    <path style="fill: none; stroke: #000000; stroke-width: 1.30337703; stroke-linecap: butt; stroke-linejoin: miter; stroke-opacity: 1;" d="m 333.10089,263.9655 -2.32918,287.77744" id="path3009">
    <text y="328.55539" x="402.47037" style="font-size: 40px; font-style: normal; font-weight: normal; line-height: 125%; letter-spacing: 0px; fill: #000000; fill-opacity: 1; stroke: none; font-family: Sans;" xml:space="preserve" id="text4787"><tspan y="328.55539" x="402.47037" id="tspan4789">u<tspan style="font-size: 65.00091553%;" id="tspan4791">1</tspan></tspan></text>
  </path></path></path></path></path></path></rect></path></path></path></path></g>
</svg>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In [2]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight-ipynb"><pre class="ipynb"><span class="c"># Import required functionality</span>
<span class="kn">from</span> <span class="nn">sympy</span> <span class="kn">import</span> <span class="n">symbols</span><span class="p">,</span> <span class="n">sin</span><span class="p">,</span> <span class="n">cos</span><span class="p">,</span> <span class="n">atan</span><span class="p">,</span> <span class="n">simplify</span><span class="p">,</span> <span class="n">solve</span><span class="p">,</span> <span class="n">Matrix</span>
<span class="kn">from</span> <span class="nn">sympy.physics.mechanics</span> <span class="kn">import</span> <span class="o">*</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>For a simple pendulum, the system has one degree of freedom, so only one generalized coordinate is needed. In this case, we'll choose the angle off vertical (<span class="math">\(q_1\)</span>). To make things simple, the generalized speed will be the angular velocity of the pendulum, which is just the derivative of this coordinate (<span class="math">\(u_1 = \dot{q_1}\)</span>).</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In [3]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight-ipynb"><pre class="ipynb"><span class="c"># Create generalized coordinate and speed variables. The `dynamicsymbols` </span>
<span class="c"># function creates each symbol as a function of time (i.e. q1 = q1(t))</span>

<span class="n">q1</span> <span class="o">=</span> <span class="n">dynamicsymbols</span><span class="p">(</span><span class="s">'q1'</span><span class="p">)</span>                     <span class="c"># Generalized coordinate: angle of pendulum</span>
<span class="n">q1d</span> <span class="o">=</span> <span class="n">dynamicsymbols</span><span class="p">(</span><span class="s">'q1'</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>                 <span class="c"># Derivative of generalized coordinate</span>
<span class="n">u1</span> <span class="o">=</span> <span class="n">dynamicsymbols</span><span class="p">(</span><span class="s">'u1'</span><span class="p">)</span>                     <span class="c"># Generalized speed: angular velocity of pendulum</span>
<span class="n">u1d</span> <span class="o">=</span> <span class="n">dynamicsymbols</span><span class="p">(</span><span class="s">'u1'</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>                 <span class="c"># Derivative of generalized speed</span>

<span class="c"># `symbols` is used for things that are constant, not functions of other</span>
<span class="c"># variables.</span>

<span class="n">t</span> <span class="o">=</span> <span class="n">symbols</span><span class="p">(</span><span class="s">'t'</span><span class="p">)</span>                              <span class="c"># We need t later to take derivatives with respect to time</span>
<span class="n">L</span> <span class="o">=</span> <span class="n">symbols</span><span class="p">(</span><span class="s">'L'</span><span class="p">)</span>                              <span class="c"># Length of the pendulum</span>
<span class="n">m</span> <span class="o">=</span> <span class="n">symbols</span><span class="p">(</span><span class="s">'m'</span><span class="p">)</span>                              <span class="c"># Mass of the pendulum</span>
<span class="n">g</span> <span class="o">=</span> <span class="mf">9.8</span><span class="p">;</span>                                      <span class="c"># Gravity</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>First we need to create the world reference frame <span class="math">\(N\)</span> and its origin <span class="math">\(N^*\)</span></p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In [4]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight-ipynb"><pre class="ipynb"><span class="n">N</span> <span class="o">=</span> <span class="n">ReferenceFrame</span><span class="p">(</span><span class="s">'N'</span><span class="p">)</span>
<span class="n">pN</span> <span class="o">=</span> <span class="n">Point</span><span class="p">(</span><span class="s">'N*'</span><span class="p">)</span>
<span class="c"># Set the velocity of the origin to 0, as it's not moving</span>
<span class="n">pN</span><span class="o">.</span><span class="n">set_vel</span><span class="p">(</span><span class="n">N</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Next, a rotating reference frame <span class="math">\(A\)</span> is created, attached to the pendulum. The rotation of this frame is <span class="math">\(q_1\)</span> about the <span class="math">\(N_z\)</span> axis, with an angular velocity of <span class="math">\(\dot{q}_1 = u_1\)</span>. The location of the pendulum mass point <span class="math">\(P\)</span> can then be set as <span class="math">\(r^{P/N^*} = L \hat{a}_x\)</span>.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In [5]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight-ipynb"><pre class="ipynb"><span class="c"># Create and orient reference frame A, and set its angular velocity</span>
<span class="n">A</span> <span class="o">=</span> <span class="n">N</span><span class="o">.</span><span class="n">orientnew</span><span class="p">(</span><span class="s">'A'</span><span class="p">,</span> <span class="s">'axis'</span><span class="p">,</span> <span class="p">[</span><span class="n">q1</span><span class="p">,</span> <span class="n">N</span><span class="o">.</span><span class="n">z</span><span class="p">])</span>
<span class="n">A</span><span class="o">.</span><span class="n">set_ang_vel</span><span class="p">(</span><span class="n">N</span><span class="p">,</span> <span class="n">u1</span><span class="o">*</span><span class="n">N</span><span class="o">.</span><span class="n">z</span><span class="p">)</span>
<span class="c"># Locate point P relative to the origin N*</span>
<span class="n">P</span> <span class="o">=</span> <span class="n">pN</span><span class="o">.</span><span class="n">locatenew</span><span class="p">(</span><span class="s">'P'</span><span class="p">,</span> <span class="n">L</span><span class="o">*</span><span class="n">A</span><span class="o">.</span><span class="n">x</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The velocity of the point P can then be found:</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In [6]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight-ipynb"><pre class="ipynb"><span class="c"># Calculate velocity at the point</span>
<span class="n">P</span><span class="o">.</span><span class="n">v2pt_theory</span><span class="p">(</span><span class="n">pN</span><span class="p">,</span> <span class="n">N</span><span class="p">,</span> <span class="n">A</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">
    Out[6]:</div>


<div class="output_text output_subarea output_pyout">
<pre>
L*u1*A.y
</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Next we solve for the kinematic differential equations (KDE) for the system. These relate the derivatives of the generalized coordinates to the generalized velocities by</p>
<p><span class="math">\[ kde(q, \dot{q}, u, t) = 0 \]</span></p>
<p>For this system, since the generalized speed is just the derivative of the generalized coordinates, the KDEs are rather simple:</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In [7]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight-ipynb"><pre class="ipynb"><span class="c"># Create Kinematic Differential Equations</span>
<span class="n">kde</span> <span class="o">=</span> <span class="n">Matrix</span><span class="p">([</span><span class="n">q1d</span> <span class="o">-</span> <span class="n">u1</span><span class="p">])</span>

<span class="c"># Solve for d/dt q in terms of u. This will be used throughout to eliminate</span>
<span class="c"># d/dt q from the equations</span>
<span class="n">dq_dict</span> <span class="o">=</span> <span class="n">solve</span><span class="p">(</span><span class="n">kde</span><span class="p">,</span> <span class="p">[</span><span class="n">q1d</span><span class="p">])</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Kane's method uses the partial derivative of the velocity of each point/body with respect to each generalized speed. In our case, with only one point and speed this is just a single value:</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In [8]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight-ipynb"><pre class="ipynb"><span class="c"># Calculate Partial velocity at the point</span>
<span class="c"># This command chain in english is:</span>
<span class="c"># "The velocity of P in frame N, with each d/dt q replaced by expression in terms of u,</span>
<span class="c"># differentiated in terms of u_1 in frame N."</span>

<span class="n">v1_p</span> <span class="o">=</span> <span class="n">P</span><span class="o">.</span><span class="n">vel</span><span class="p">(</span><span class="n">N</span><span class="p">)</span><span class="o">.</span><span class="n">subs</span><span class="p">(</span><span class="n">dq_dict</span><span class="p">)</span><span class="o">.</span><span class="n">diff</span><span class="p">(</span><span class="n">u1</span><span class="p">,</span> <span class="n">N</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Next we input the resultant at each point of all forces acting on that point. For the pendulum, this is just gravity acting on the mass in the <span class="math">\(N_x\)</span> direction.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In [9]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight-ipynb"><pre class="ipynb"><span class="c"># Input the force resultant at P</span>
<span class="n">R</span> <span class="o">=</span> <span class="n">m</span><span class="o">*</span><span class="n">g</span><span class="o">*</span><span class="n">N</span><span class="o">.</span><span class="n">x</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The generalized active forces are then found by the following expression:</p>
<p><span class="math">\[F_r = \sum_{i=1}^v v_r^{P_i} \cdot R_i \quad (r = 1, ..., n)\]</span></p>
<p>These form the "<strong><em>F</em></strong>" part of Newton's second law (<strong><em>F = ma</em></strong>). In this case, n = 1, v = 1, so <span class="math">\(F_1\)</span> is then:</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In [10]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight-ipynb"><pre class="ipynb"><span class="c"># Solve for F1:</span>
<span class="n">F1</span> <span class="o">=</span> <span class="n">v1_p</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">R</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Next we need to solve for the generalized inertial forces. This is the "<strong><em>ma</em></strong>" part in Newton's second law. To do this, we first need to find the acceleration of the pendulum point.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In [11]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight-ipynb"><pre class="ipynb"><span class="c"># Solve for accelerations at the point</span>
<span class="n">a</span> <span class="o">=</span> <span class="n">P</span><span class="o">.</span><span class="n">acc</span><span class="p">(</span><span class="n">N</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The inertial force <span class="math">\(R^*\)</span> for the point is then</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In [12]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight-ipynb"><pre class="ipynb"><span class="c"># Solve for generalized inertial forces</span>
<span class="n">R_star</span> <span class="o">=</span> <span class="o">-</span><span class="n">m</span><span class="o">*</span><span class="n">a</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The generalized inertial forces are then found by the following expression:</p>
<p><span class="math">\[ F_r^* = \sum_{i=1}^v v_r^{P_i} \cdot R_i^* \quad (r = 1, ..., n)\]</span></p>
<p>As before, n = 1, v = 1, so <span class="math">\(F_1^*\)</span> is then:</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In [13]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight-ipynb"><pre class="ipynb"><span class="c"># Solve for F1_star</span>
<span class="n">F1_star</span> <span class="o">=</span> <span class="n">v1_p</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">R_star</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Kanes equations for the dynamic differential equations are then</p>
<p><span class="math">\[ F_r + F_r^* = 0 \quad (r = 1, ... , n) \]</span></p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In [14]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight-ipynb"><pre class="ipynb"><span class="c"># Solve for the dynamic differential equations</span>
<span class="n">dyn_eqs</span> <span class="o">=</span> <span class="n">Matrix</span><span class="p">([</span><span class="n">F1_star</span> <span class="o">+</span> <span class="n">F1</span><span class="p">])</span><span class="o">.</span><span class="n">subs</span><span class="p">(</span><span class="n">dq_dict</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Combining the kinematic differential equations with the dynamic differential equations yields a system with 2 unknowns (<span class="math">\(\dot{q}_1\)</span> and <span class="math">\(\dot{u}_1\)</span>), and 2 equations. Thus, it can be solved.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In [15]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight-ipynb"><pre class="ipynb"><span class="c"># The equations of motion are composed of the kinematic differential equations,</span>
<span class="c"># and the dynamic differential equations.</span>
<span class="n">eom</span> <span class="o">=</span> <span class="n">Matrix</span><span class="p">([</span><span class="n">kde</span><span class="p">,</span>
              <span class="n">dyn_eqs</span><span class="p">])</span>
<span class="n">mprint</span><span class="p">(</span><span class="n">eom</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>
Matrix([
[                    -u1 + q1&amp;apos],
[-L**2*m*u1&amp;apos - 9.8*L*m*sin(q1)]])

</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In [16]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight-ipynb"><pre class="ipynb"><span class="c"># Solving the equations of motion for q1' and u1'</span>
<span class="n">sols</span> <span class="o">=</span> <span class="n">solve</span><span class="p">(</span><span class="n">eom</span><span class="p">,</span> <span class="p">[</span><span class="n">q1d</span><span class="p">,</span> <span class="n">u1d</span><span class="p">])</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In [17]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight-ipynb"><pre class="ipynb"><span class="c"># Recomposing the system into a first order differential equation</span>
<span class="n">qudots</span> <span class="o">=</span> <span class="n">Matrix</span><span class="p">([</span><span class="n">sols</span><span class="p">[</span><span class="n">q1d</span><span class="p">],</span>
                 <span class="n">sols</span><span class="p">[</span><span class="n">u1d</span><span class="p">]])</span>
<span class="n">qudots</span><span class="o">.</span><span class="n">simplify</span><span class="p">()</span>
<span class="n">mprint</span><span class="p">(</span><span class="n">qudots</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>
Matrix([
[            u1],
[-9.8*sin(q1)/L]])

</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Thus, the final form for the equations of motion is:</p>
<p><span class="math">\[ \begin{bmatrix} \dot{q}_1 \\ \dot{u}_1 \end{bmatrix} = \begin{bmatrix} u_1 \\ \frac{-9.8}{L} sin(q_1) \end{bmatrix} \]</span></p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>As I'm still just learning Kane's method myself, the above derivation isn't very explanatory. I plan on making a post better explaining the procedure once I get the hang of it better. Luckily, Sympy contains a <code>KanesMethod</code> class that crunches all the above math for you.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="using-kanes-method-class">Using Kanes Method Class</h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Continuing with what was already derived above, all that needs to be done is create a <code>Particle</code> object for the pendulum mass, and then create a <code>KanesMethod</code> object with the forces and bodies derived above. I won't go too in depth on these steps, as we're just replicating what was done above using the easy functionality provided by <code>sympy.physics.mechanics</code>.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In [18]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight-ipynb"><pre class="ipynb"><span class="c"># Create a particle object representing the pendulum mass</span>
<span class="n">pP</span> <span class="o">=</span> <span class="n">Particle</span><span class="p">(</span><span class="s">'pP'</span><span class="p">,</span> <span class="n">P</span><span class="p">,</span> <span class="n">m</span><span class="p">)</span>
<span class="c"># Create a KanesMethod object. This takes the global reference frame N,</span>
<span class="c"># the independent coordinates (q1), the independent velocities (q2), and</span>
<span class="c"># the Kinematic equations derived above (kde)</span>
<span class="n">KM</span> <span class="o">=</span> <span class="n">KanesMethod</span><span class="p">(</span><span class="n">N</span><span class="p">,</span> <span class="n">q_ind</span><span class="o">=</span><span class="p">[</span><span class="n">q1</span><span class="p">],</span> <span class="n">u_ind</span><span class="o">=</span><span class="p">[</span><span class="n">u1</span><span class="p">],</span> <span class="n">kd_eqs</span><span class="o">=</span><span class="n">kde</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In [19]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight-ipynb"><pre class="ipynb"><span class="c"># Make a list of tuples of the form (Particle/Body, Force on Particle/Body)</span>
<span class="n">FL</span> <span class="o">=</span> <span class="p">[(</span><span class="n">P</span><span class="p">,</span> <span class="n">R</span><span class="p">)]</span>
<span class="c"># Make a list of Particles/Bodies in the system</span>
<span class="n">BL</span> <span class="o">=</span> <span class="p">[</span><span class="n">pP</span><span class="p">]</span>
<span class="c"># Derive the generalized active forces, and the generalized inertial forces</span>
<span class="p">(</span><span class="n">fr</span><span class="p">,</span> <span class="n">frstar</span><span class="p">)</span> <span class="o">=</span> <span class="n">KM</span><span class="o">.</span><span class="n">kanes_equations</span><span class="p">(</span><span class="n">FL</span><span class="p">,</span> <span class="n">BL</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In [20]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight-ipynb"><pre class="ipynb"><span class="c"># Solve for the equations of motion in first order form.</span>
<span class="c"># What's happening here is the mass matrix (M) and the forcing</span>
<span class="c"># matrix (F) are being solved for. This results in a system of</span>
<span class="c"># equations of the form M*[q', u']^T = F.</span>
<span class="n">kdd</span> <span class="o">=</span> <span class="n">KM</span><span class="o">.</span><span class="n">kindiffdict</span><span class="p">()</span>
<span class="n">mm</span> <span class="o">=</span> <span class="n">KM</span><span class="o">.</span><span class="n">mass_matrix_full</span>
<span class="n">fo</span> <span class="o">=</span> <span class="n">KM</span><span class="o">.</span><span class="n">forcing_full</span>

<span class="c"># The final first order form is then solved for as</span>
<span class="c"># [q', u']^T = M^-1 * F.</span>
<span class="n">qudots_km</span> <span class="o">=</span> <span class="n">mm</span><span class="o">.</span><span class="n">inv</span><span class="p">()</span> <span class="o">*</span> <span class="n">fo</span>
<span class="n">qudots_km</span> <span class="o">=</span> <span class="n">qudots_km</span><span class="o">.</span><span class="n">subs</span><span class="p">(</span><span class="n">kdd</span><span class="p">)</span>
<span class="n">qudots_km</span><span class="o">.</span><span class="n">simplify</span><span class="p">()</span>
<span class="n">mprint</span><span class="p">(</span><span class="n">qudots_km</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>
Matrix([
[            u1],
[-9.8*sin(q1)/L]])

</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>As seen here, the results match what was solved for above by hand, but in a much easier manner using the methods provided in Sympy.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="non-minimal-set-of-coordinates">Non-minimal set of coordinates</h1>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The pendulum system demonstrated above is extremely simple, and a minimal set of coordinates and speeds readily found. But for more complicated systems it's often not that easy to find a such a minimal representation. In these cases additional coordinates and speeds are used, and an additional set of <em>constraint equations</em> are added relating the coordinates and speeds together.</p>
<p>To demonstrate this, the pendulum system will be re-derived using the x and y coordinates of the mass as generalized coordinates, and their derivatives as the generalized speeds. While you would never do this in practice (it makes the problem much harder), it should be a good demonstration of both configuration and velocity constraints.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In [21]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight-ipynb"><pre class="ipynb"><span class="kn">from</span> <span class="nn">IPython.display</span> <span class="kn">import</span> <span class="n">SVG</span>
<span class="n">SVG</span><span class="p">(</span><span class="n">filename</span><span class="o">=</span><span class="s">'Pendulum_NonMin_Coord.svg'</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">
    Out[21]:</div>

<div class="output_svg output_subarea output_pyout">
<svg width="378.90466" xmlns="http://www.w3.org/2000/svg" id="svg2" version="1.1" height="456.13843">
  &lt;sodipodi:namedview bordercolor="#666666" borderopacity="1.0" fit-margin-bottom="5" fit-margin-left="5" fit-margin-right="5" fit-margin-top="5" id="base" inkscape:current-layer="layer1" inkscape:cx="115.27797" inkscape:cy="187.91648" inkscape:document-units="px" inkscape:pageopacity="0.0" inkscape:pageshadow="2" inkscape:window-height="693" inkscape:window-maximized="1" inkscape:window-width="1366" inkscape:window-x="0" inkscape:window-y="23" inkscape:zoom="1" pagecolor="#ffffff" showgrid="false"&gt;
  <defs id="defs4">
    &lt;pattern id="pattern6485" inkscape:collect="always" patterntransform="matrix(1.4782083,0,0,12.709288,204.03947,0)" xlink:href="#Strips1_4"&gt;
    &lt;pattern height="1" id="Strips1_4" inkscape:collect="always" inkscape:stockid="Stripes 1:4" patterntransform="translate(0,0) scale(10,10)" patternunits="userSpaceOnUse" width="5"&gt;
      <rect style="fill: black; stroke: none;" height="2" width="1" y="-0.5" x="0" id="rect5768">
    &lt;/pattern&gt;
    <marker style="overflow: visible;" id="Arrow2Lend" orient="auto">
      <path style="fill-rule: evenodd; stroke-width: 0.625; stroke-linejoin: round;" transform="matrix(-1.1,0,0,-1.1,-1.1,0)" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" id="path3812">
    </path></marker>
    <marker style="overflow: visible;" id="Arrow2Lstart" orient="auto">
      <path style="fill-rule: evenodd; stroke-width: 0.625; stroke-linejoin: round;" transform="matrix(1.1,0,0,1.1,1.1,0)" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" id="path3809">
    </path></marker>
    <marker style="overflow: visible;" id="Arrow1Lstart" orient="auto">
      <path style="fill-rule: evenodd; stroke: #000000; stroke-width: 1pt;" transform="matrix(0.8,0,0,0.8,10,0)" d="M 0,0 5,-5 -12.5,0 5,5 0,0 z" id="path3791">
    </path></marker>
    <marker style="overflow: visible;" id="Arrow2Lstart-8" orient="auto">
      <path style="fill-rule: evenodd; stroke-width: 0.625; stroke-linejoin: round;" transform="matrix(1.1,0,0,1.1,1.1,0)" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" id="path3809-7">
    </path></marker>
    <marker style="overflow: visible;" id="Arrow2Lend-7" orient="auto">
      <path style="fill-rule: evenodd; stroke-width: 0.625; stroke-linejoin: round;" transform="matrix(-1.1,0,0,-1.1,-1.1,0)" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" id="path3812-7">
    </path></marker>
    <marker style="overflow: visible;" id="Arrow2Lend-8" orient="auto">
      <path style="fill-rule: evenodd; stroke-width: 0.625; stroke-linejoin: round;" transform="matrix(-1.1,0,0,-1.1,-1.1,0)" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" id="path3812-74">
    </path></marker>
    <marker style="overflow: visible;" id="Arrow2Lend-3" orient="auto">
      <path style="fill-rule: evenodd; stroke-width: 0.625; stroke-linejoin: round;" transform="matrix(-1.1,0,0,-1.1,-1.1,0)" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" id="path3812-8">
    </path></marker>
    <marker style="overflow: visible;" id="Arrow2Lend-6" orient="auto">
      <path style="fill-rule: evenodd; stroke-width: 0.625; stroke-linejoin: round;" transform="matrix(-1.1,0,0,-1.1,-1.1,0)" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" id="path3812-4">
    </path></marker>
    <marker style="overflow: visible;" id="Arrow2Lend-5" orient="auto">
      <path style="fill-rule: evenodd; stroke-width: 0.625; stroke-linejoin: round;" transform="matrix(-1.1,0,0,-1.1,-1.1,0)" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" id="path3812-9">
    </path></marker>
    <marker style="overflow: visible;" id="Arrow2Lend-1" orient="auto">
      <path style="fill-rule: evenodd; stroke-width: 0.625; stroke-linejoin: round;" transform="matrix(-1.1,0,0,-1.1,-1.1,0)" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" id="path3812-90">
    </path></marker>
    <marker style="overflow: visible;" id="Arrow2Lend-1k" orient="auto">
      <path style="fill: #ff0000; fill-rule: evenodd; stroke: #ff0000; stroke-width: 0.625; stroke-linejoin: round;" transform="matrix(-1.1,0,0,-1.1,-1.1,0)" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" id="path7949">
    </path></marker>
    <marker style="overflow: visible;" id="Arrow2Lend4" orient="auto">
      <path style="fill: #ff0000; fill-rule: evenodd; stroke: #ff0000; stroke-width: 0.625; stroke-linejoin: round;" transform="matrix(-1.1,0,0,-1.1,-1.1,0)" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" id="path8071">
    </path></marker>
    <marker style="overflow: visible;" id="Arrow2Lend-1km" orient="auto">
      <path style="fill: #0000ff; fill-rule: evenodd; stroke: #0000ff; stroke-width: 0.625; stroke-linejoin: round;" transform="matrix(-1.1,0,0,-1.1,-1.1,0)" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" id="path8196">
    </path></marker>
    <marker style="overflow: visible;" id="Arrow2Lend4X" orient="auto">
      <path style="fill: #0000ff; fill-rule: evenodd; stroke: #0000ff; stroke-width: 0.625; stroke-linejoin: round;" transform="matrix(-1.1,0,0,-1.1,-1.1,0)" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" id="path8199">
    </path></marker>
    <marker style="overflow: visible;" id="Arrow2Lend4X-8" orient="auto">
      <path style="fill: #0000ff; fill-rule: evenodd; stroke: #0000ff; stroke-width: 0.625; stroke-linejoin: round;" transform="matrix(-1.1,0,0,-1.1,-1.1,0)" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" id="path8199-5">
    </path></marker>
    <marker style="overflow: visible;" id="Arrow2Lend-1km-9" orient="auto">
      <path style="fill: #0000ff; fill-rule: evenodd; stroke: #0000ff; stroke-width: 0.625; stroke-linejoin: round;" transform="matrix(-1.1,0,0,-1.1,-1.1,0)" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" id="path8196-3">
    </path></marker>
    <marker style="overflow: visible;" id="Arrow2Lend4Xq" orient="auto">
      <path style="fill: #ff0000; fill-rule: evenodd; stroke: #ff0000; stroke-width: 0.625; stroke-linejoin: round;" transform="matrix(-1.1,0,0,-1.1,-1.1,0)" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" id="path8390">
    </path></marker>
    <marker style="overflow: visible;" id="Arrow2Lend-1kmM" orient="auto">
      <path style="fill: #ff0000; fill-rule: evenodd; stroke: #ff0000; stroke-width: 0.625; stroke-linejoin: round;" transform="matrix(-1.1,0,0,-1.1,-1.1,0)" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" id="path8393">
    </path></marker>
  </rect></defs>
  <metadata id="metadata7">
    &lt;rdf:rdf&gt;
      &lt;cc:work rdf:about=""&gt;
        &lt;dc:format&gt;image/svg+xml&lt;/dc:format&gt;
        &lt;dc:type rdf:resource="http://purl.org/dc/dcmitype/StillImage"&gt;
        &lt;dc:title&gt;&lt;/dc:title&gt;
      &lt;/cc:work&gt;
    &lt;/rdf:rdf&gt;
  </metadata>
  <g id="layer1" transform="translate(-184.9363,-178.42594)">
    <path style="fill: #ff0000; fill-rule: evenodd; stroke: #000000; stroke-width: 1px; stroke-linecap: butt; stroke-linejoin: miter; stroke-opacity: 1;" transform="matrix(0.22219926,0,0,0.21267643,384.59418,428.325)" d="m 357.59401,430.10822 c 0,39.05242 -30.30147,70.71067 -67.68022,70.71067 -37.37876,0 -67.68022,-31.65825 -67.68022,-70.71067 0,-39.05243 30.30146,-70.71068 67.68022,-70.71068 37.37875,0 67.68022,31.65825 67.68022,70.71068 z" id="path2989">
    <path style="fill: none; stroke: #000000; stroke-width: 3.51907468px; stroke-linecap: butt; stroke-linejoin: miter; stroke-opacity: 1;" d="m 202.92616,204.8442 c 262.86866,0 262.86866,0 262.86866,0" id="path2991">
    <path style="fill: #ffff00; fill-rule: evenodd; stroke: #000000; stroke-width: 1px; stroke-linecap: butt; stroke-linejoin: miter; stroke-opacity: 1;" transform="matrix(-1,0,0,-1,555.58391,486.45996)" d="m 253.532,280.49304 -31.29843,0 -31.29844,0 15.64922,-27.10524 15.64922,-27.10523 15.64921,27.10523 z" id="path2993">
    <path style="fill: none; stroke: #000000; stroke-width: 2; stroke-linecap: butt; stroke-linejoin: miter; stroke-opacity: 1;" d="m 339.78704,249.0287 103.5984,256.81995" id="path2997">
    <text y="383.79074" x="402.85715" style="font-size: 40px; font-style: normal; font-weight: normal; line-height: 125%; letter-spacing: 0px; fill: #000000; fill-opacity: 1; stroke: none; font-family: Sans;" xml:space="preserve" id="text4793"><tspan y="383.79074" x="402.85715" id="tspan4795">L</tspan></text>
    <text y="559.36218" x="459.71429" style="font-size: 40px; font-style: normal; font-weight: normal; line-height: 125%; letter-spacing: 0px; fill: #000000; fill-opacity: 1; stroke: none; font-family: Sans;" xml:space="preserve" id="text4797"><tspan y="559.36218" x="459.71429" id="tspan4799">m</tspan></text>
    <path style="fill: none; stroke: #000000; stroke-width: 1.21548557; stroke-linecap: butt; stroke-linejoin: miter; stroke-opacity: 1;" d="m 448.57079,536.36278 0,91.58741" id="path4827">
    <text y="302.36218" x="530.71423" style="font-size: 40px; font-style: normal; font-weight: normal; line-height: 125%; letter-spacing: 0px; fill: #000000; fill-opacity: 1; stroke: none; font-family: Sans;" xml:space="preserve" id="text5019"><tspan y="302.36218" x="530.71423" id="tspan5021">g</tspan></text>
    <rect style="fill-opacity: 1; stroke: none;" transform="matrix(1,0,0.72381295,0.68999624,0,0)" rx="0" ry="0" height="29.007917" width="251.274" y="265.83615" x="-2.4793456" id="rect5023">
    <path style="fill: none; stroke: #000000; stroke-width: 1.99330068; stroke-linecap: butt; stroke-linejoin: miter; stroke-opacity: 1;" d="m 333.91099,256.55129 0,263.31654" id="path4827-1">
    <path style="fill: none; stroke: #000000; stroke-width: 1.34446955; stroke-linecap: butt; stroke-linejoin: miter; stroke-opacity: 1;" d="m 335.80895,522.381 113.26991,0" id="path4827-7">
    <text y="388.35422" x="287.93631" style="font-size: 40px; font-style: normal; font-weight: normal; line-height: 125%; letter-spacing: 0px; fill: #000000; fill-opacity: 1; stroke: none; font-family: Sans;" xml:space="preserve" id="text6597"><tspan y="388.35422" x="287.93631" id="tspan6599">q<tspan style="font-size: 65.00091553%;" id="tspan6601">1</tspan></tspan></text>
    <text y="506.35422" x="366.93631" style="font-size: 40px; font-style: normal; font-weight: normal; line-height: 125%; letter-spacing: 0px; fill: #000000; fill-opacity: 1; stroke: none; font-family: Sans;" xml:space="preserve" id="text6603"><tspan y="506.35422" x="366.93631" id="tspan6605">q<tspan style="font-size: 65.00091553%;" id="tspan6607">2</tspan></tspan></text>
    <path style="fill: none; stroke: #000000; stroke-width: 1.21548557; stroke-linecap: butt; stroke-linejoin: miter; stroke-opacity: 1;" d="m 465.63937,521.37564 91.58741,0" id="path4827-9">
    <text y="582.35425" x="402.93631" style="font-size: 40px; font-style: normal; font-weight: normal; line-height: 125%; letter-spacing: 0px; fill: #000000; fill-opacity: 1; stroke: none; font-family: Sans;" xml:space="preserve" id="text6633"><tspan y="582.35425" x="402.93631" id="tspan6635">u<tspan style="font-size: 65.00091553%;" id="tspan6637">1</tspan></tspan></text>
    <text y="508.35422" x="481.93631" style="font-size: 40px; font-style: normal; font-weight: normal; line-height: 125%; letter-spacing: 0px; fill: #000000; fill-opacity: 1; stroke: none; font-family: Sans;" xml:space="preserve" id="text6639"><tspan y="508.35422" x="481.93631" id="tspan6641">u<tspan style="font-size: 65.00091553%;" id="tspan6643">2</tspan></tspan></text>
    <path style="fill: none; stroke: #000000; stroke-width: 1.21877503; stroke-linecap: butt; stroke-linejoin: miter; stroke-opacity: 1;" d="m 520.9149,264.05894 0,92.49758" id="path4827-4">
    <g id="g8297" transform="translate(-120,-14)">
      <path style="fill: none; stroke: #0000ff; stroke-width: 1.53423667; stroke-linecap: butt; stroke-linejoin: miter; stroke-opacity: 1;" d="m 333.2704,243.61034 0,56.62207" id="path4827-70">
      <path style="fill: none; stroke: #0000ff; stroke-width: 1.65040851; stroke-linecap: butt; stroke-linejoin: miter; stroke-opacity: 1;" d="m 333.2074,243.13275 56.19646,0" id="path4827-9-6">
    </path></path></g>
    <text y="299.35422" x="216.93629" style="font-size: 40px; font-style: normal; font-weight: normal; line-height: 125%; letter-spacing: 0px; fill: #000000; fill-opacity: 1; stroke: none; font-family: Sans;" xml:space="preserve" id="text8301"><tspan y="299.35422" x="216.93629" style="font-size: 24px;" id="tspan8303">N<tspan style="font-size: 65.00091553%;" id="tspan8571">x</tspan></tspan></text>
    <text y="258.35422" x="247.93631" style="font-size: 40px; font-style: normal; font-weight: normal; line-height: 125%; letter-spacing: 0px; fill: #000000; fill-opacity: 1; stroke: none; font-family: Sans;" xml:space="preserve" id="text8307"><tspan y="258.35422" x="247.93631" style="font-size: 24px;" id="tspan8309">N<tspan style="font-size: 65.00091553%;" id="tspan8569">y</tspan></tspan></text>
    <path style="fill: none; stroke: #ff0000; stroke-width: 1.53423667; stroke-linecap: butt; stroke-linejoin: miter; stroke-opacity: 1;" d="m 335.39519,236.31191 20.29154,52.86126" id="path4827-70-2">
    <path style="fill: none; stroke: #ff0000; stroke-width: 1.65040851; stroke-linecap: butt; stroke-linejoin: miter; stroke-opacity: 1;" d="m 335.16523,235.88862 52.46391,-20.13901" id="path4827-9-6-9">
    <text y="284.70227" x="361.07303" style="font-size: 40px; font-style: normal; font-weight: normal; line-height: 125%; letter-spacing: 0px; fill: #000000; fill-opacity: 1; stroke: none; font-family: Sans;" xml:space="preserve" id="text8301-7"><tspan y="284.70227" x="361.07303" style="font-size: 24px;" id="tspan8303-9">A<tspan style="font-size: 65.00091553%;" id="tspan8567">x</tspan></tspan></text>
    <text y="235.20618" x="386.03787" style="font-size: 40px; font-style: normal; font-weight: normal; line-height: 125%; letter-spacing: 0px; fill: #000000; fill-opacity: 1; stroke: none; font-family: Sans;" xml:space="preserve" id="text8307-4"><tspan y="235.20618" x="386.03787" style="font-size: 24px;" id="tspan8309-7">A<tspan style="font-size: 65.00091553%;" id="tspan8565">y</tspan></tspan></text>
  </path></path></path></path></path></path></rect></path></path></path></path></path></g>
</svg>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In [22]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight-ipynb"><pre class="ipynb"><span class="c"># Create generalized coordinates and speeds for this non-minimal realization</span>
<span class="n">q1</span><span class="p">,</span> <span class="n">q2</span> <span class="o">=</span> <span class="n">qs</span> <span class="o">=</span> <span class="n">dynamicsymbols</span><span class="p">(</span><span class="s">'q1:3'</span><span class="p">)</span>
<span class="n">q1d</span><span class="p">,</span> <span class="n">q2d</span> <span class="o">=</span> <span class="n">qds</span> <span class="o">=</span> <span class="n">dynamicsymbols</span><span class="p">(</span><span class="s">'q1:3'</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">u1</span><span class="p">,</span> <span class="n">u2</span> <span class="o">=</span> <span class="n">us</span> <span class="o">=</span> <span class="n">dynamicsymbols</span><span class="p">(</span><span class="s">'u1:3'</span><span class="p">)</span>
<span class="n">u1d</span><span class="p">,</span> <span class="n">u2d</span> <span class="o">=</span> <span class="n">uds</span> <span class="o">=</span> <span class="n">dynamicsymbols</span><span class="p">(</span><span class="s">'u1:3'</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>As before, the a rotating reference frame <span class="math">\(A\)</span> is attached to the pendulum. However, this time we don't have a generalized coordinate representing the rotation angle. This can be easily calculated though as</p>
<p><span class="math">\[\theta = \arctan(q_2/q_1)\]</span></p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In [23]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight-ipynb"><pre class="ipynb"><span class="n">theta1</span> <span class="o">=</span> <span class="n">atan</span><span class="p">(</span><span class="n">q2</span><span class="o">/</span><span class="n">q1</span><span class="p">)</span>
<span class="n">A</span> <span class="o">=</span> <span class="n">N</span><span class="o">.</span><span class="n">orientnew</span><span class="p">(</span><span class="s">'A'</span><span class="p">,</span> <span class="s">'axis'</span><span class="p">,</span> <span class="p">[</span><span class="n">theta1</span><span class="p">,</span> <span class="n">N</span><span class="o">.</span><span class="n">z</span><span class="p">])</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The pendulum mass can easily be located in the global reference frame <span class="math">\(N\)</span> using the generalized coordinates, as they're just the x and y coordinates of the mass.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In [24]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight-ipynb"><pre class="ipynb"><span class="n">P</span> <span class="o">=</span> <span class="n">pN</span><span class="o">.</span><span class="n">locatenew</span><span class="p">(</span><span class="s">'P1'</span><span class="p">,</span> <span class="n">q1</span><span class="o">*</span><span class="n">N</span><span class="o">.</span><span class="n">x</span> <span class="o">+</span> <span class="n">q2</span><span class="o">*</span><span class="n">N</span><span class="o">.</span><span class="n">y</span><span class="p">)</span>
<span class="n">mprint</span><span class="p">(</span><span class="n">P</span><span class="o">.</span><span class="n">pos_from</span><span class="p">(</span><span class="n">pN</span><span class="p">))</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>
q1*N.x + q2*N.y

</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Next, we calculate the kinematic differential equations as before</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In [25]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight-ipynb"><pre class="ipynb"><span class="n">kde</span> <span class="o">=</span> <span class="n">Matrix</span><span class="p">([</span><span class="n">q1d</span> <span class="o">-</span> <span class="n">u1</span><span class="p">,</span>
              <span class="n">q2d</span> <span class="o">-</span> <span class="n">u2</span><span class="p">])</span>
<span class="n">dq_dict</span> <span class="o">=</span> <span class="n">solve</span><span class="p">(</span><span class="n">kde</span><span class="p">,</span> <span class="p">[</span><span class="n">q1d</span><span class="p">,</span> <span class="n">q2d</span><span class="p">])</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The velocity of point P is just the time derivative of its position vector from the origin. Here we substitute all <span class="math">\(\dot{q}\)</span> terms for an equivalent expression using <span class="math">\(u\)</span>.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In [26]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight-ipynb"><pre class="ipynb"><span class="n">P</span><span class="o">.</span><span class="n">set_vel</span><span class="p">(</span><span class="n">N</span><span class="p">,</span> <span class="n">P</span><span class="o">.</span><span class="n">pos_from</span><span class="p">(</span><span class="n">pN</span><span class="p">)</span><span class="o">.</span><span class="n">dt</span><span class="p">(</span><span class="n">N</span><span class="p">)</span><span class="o">.</span><span class="n">subs</span><span class="p">(</span><span class="n">dq_dict</span><span class="p">))</span>
<span class="n">mprint</span><span class="p">(</span><span class="n">P</span><span class="o">.</span><span class="n">vel</span><span class="p">(</span><span class="n">N</span><span class="p">))</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>
u1*N.x + u2*N.y

</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>As the system has only one degree of freedom, but two generalized coordinates, there needs to be a configuration consttraint relating the coordinates. The configuration constraint is expressed in the form</p>
<p><span class="math">\[ f_c(q, t) = 0 \]</span></p>
<p>In this case, the length of the pendulum must always be <strong><em>L</em></strong>, so <span class="math">\(f_c\)</span> can be expressed as</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In [27]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight-ipynb"><pre class="ipynb"><span class="n">f_c</span> <span class="o">=</span> <span class="n">Matrix</span><span class="p">([</span><span class="n">P</span><span class="o">.</span><span class="n">pos_from</span><span class="p">(</span><span class="n">pN</span><span class="p">)</span><span class="o">.</span><span class="n">magnitude</span><span class="p">()</span> <span class="o">-</span> <span class="n">L</span><span class="p">])</span>
<span class="n">mprint</span><span class="p">(</span><span class="n">f_c</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>
Matrix([[-L + sqrt(q1**2 + q2**2)]])

</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Similarly, there are two generalized speeds, making the use of a velocity constraint equation necessary. Velocity constraints are written as</p>
<p><span class="math">\[ f_v(q, u, t) = 0 \]</span></p>
<p>In this case, the velocity in the <span class="math">\(A_x\)</span> direction is always zero (the pendulum is never getting longer). This can be expressed by calculating the velocity of <strong><em>P</em></strong> in reference frame <strong><em>N</em></strong>, and setting the component in the <span class="math">\(A_x\)</span> direction to 0.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In [28]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight-ipynb"><pre class="ipynb"><span class="n">f_v</span> <span class="o">=</span> <span class="n">Matrix</span><span class="p">([</span><span class="n">P</span><span class="o">.</span><span class="n">vel</span><span class="p">(</span><span class="n">N</span><span class="p">)</span><span class="o">.</span><span class="n">express</span><span class="p">(</span><span class="n">A</span><span class="p">)</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">A</span><span class="o">.</span><span class="n">x</span><span class="p">)])</span>
<span class="n">f_v</span><span class="o">.</span><span class="n">simplify</span><span class="p">()</span>
<span class="n">mprint</span><span class="p">(</span><span class="n">f_v</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>
Matrix([[sqrt((q1**2 + q2**2)/q1**2)*(q1*u1 + q2*u2)*q1/(q1**2 + q2**2)]])

</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Acceleration constraints are then just the time derivative of the velocity constraint:</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In [29]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight-ipynb"><pre class="ipynb"><span class="n">f_a</span> <span class="o">=</span> <span class="n">f_v</span><span class="o">.</span><span class="n">diff</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
<span class="n">f_a</span><span class="o">.</span><span class="n">simplify</span><span class="p">()</span>
<span class="n">mprint</span><span class="p">(</span><span class="n">f_a</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>
Matrix([[sqrt((q1**2 + q2**2)/q1**2)*(q1**3*u1&amp;apos + q1**2*q2*u2&amp;apos + q1**2*u2*q2&amp;apos + q1*q2**2*u1&amp;apos - q1*q2*u1*q2&amp;apos - q1*q2*u2*q1&amp;apos + q2**3*u2&amp;apos + q2**2*u1*q1&amp;apos)*q1/(q1**4 + 2*q1**2*q2**2 + q2**4)]])

</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>For this example, the remainder will be calculated using the <code>KanesMethod</code> class as above. Due to the presence of velocity constraints (nonholonomic), Kanes Method proceeds a little different than before, and this post is already long enough...</p>
<p>All you really need to know is that before the EOM are derived, a subset of generalized coordinates and speeds needs to be choosen to be the "independent" variables, making the remaining "dependent". There are reasons to choose some variables over others, but here we'll just let <span class="math">\(q_1\)</span> and <span class="math">\(u_1\)</span> be independent, making <span class="math">\(q_2\)</span> and <span class="math">\(u_2\)</span> dependent.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In [30]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight-ipynb"><pre class="ipynb"><span class="c"># Derive the equations of motion using the KanesMethod class. This proceeds much the</span>
<span class="c"># same as it did in the previous section. The only difference is the addition</span>
<span class="c"># of the dependent variable and constraint kwargs.</span>
<span class="n">pP</span> <span class="o">=</span> <span class="n">Particle</span><span class="p">(</span><span class="s">'pP'</span><span class="p">,</span> <span class="n">P</span><span class="p">,</span> <span class="n">m</span><span class="p">)</span>
<span class="n">FL</span> <span class="o">=</span> <span class="p">[(</span><span class="n">P</span><span class="p">,</span> <span class="n">R</span><span class="p">)]</span>
<span class="n">BL</span> <span class="o">=</span> <span class="p">[</span><span class="n">pP</span><span class="p">]</span>
<span class="n">KM</span> <span class="o">=</span> <span class="n">KanesMethod</span><span class="p">(</span><span class="n">N</span><span class="p">,</span> <span class="n">q_ind</span><span class="o">=</span><span class="p">[</span><span class="n">q1</span><span class="p">],</span> <span class="n">u_ind</span><span class="o">=</span><span class="p">[</span><span class="n">u1</span><span class="p">],</span> <span class="n">q_dependent</span><span class="o">=</span><span class="p">[</span><span class="n">q2</span><span class="p">],</span> <span class="n">u_dependent</span><span class="o">=</span><span class="p">[</span><span class="n">u2</span><span class="p">],</span>
                 <span class="n">configuration_constraints</span><span class="o">=</span><span class="n">f_c</span><span class="p">,</span> <span class="n">velocity_constraints</span><span class="o">=</span><span class="n">f_v</span><span class="p">,</span> <span class="n">acceleration_constraints</span><span class="o">=</span><span class="n">f_a</span><span class="p">,</span> <span class="n">kd_eqs</span><span class="o">=</span><span class="n">kde</span><span class="p">)</span>
<span class="p">(</span><span class="n">fr</span><span class="p">,</span> <span class="n">frstar</span><span class="p">)</span> <span class="o">=</span> <span class="n">KM</span><span class="o">.</span><span class="n">kanes_equations</span><span class="p">(</span><span class="n">FL</span><span class="p">,</span> <span class="n">BL</span><span class="p">)</span>
<span class="n">kdd</span> <span class="o">=</span> <span class="n">KM</span><span class="o">.</span><span class="n">kindiffdict</span><span class="p">()</span>
<span class="n">mm</span> <span class="o">=</span> <span class="n">KM</span><span class="o">.</span><span class="n">mass_matrix_full</span>
<span class="n">fo</span> <span class="o">=</span> <span class="n">KM</span><span class="o">.</span><span class="n">forcing_full</span>
<span class="n">mm</span><span class="o">.</span><span class="n">simplify</span><span class="p">()</span>
<span class="n">fo</span><span class="o">.</span><span class="n">simplify</span><span class="p">()</span>
<span class="c"># Solve for the first order form of the EOM</span>
<span class="n">qudots_nm</span> <span class="o">=</span> <span class="n">mm</span><span class="o">.</span><span class="n">inv</span><span class="p">()</span> <span class="o">*</span> <span class="n">fo</span>
<span class="n">qudots_nm</span> <span class="o">=</span> <span class="n">qudots_nm</span><span class="o">.</span><span class="n">subs</span><span class="p">(</span><span class="n">kdd</span><span class="p">)</span>
<span class="n">qudots_nm</span><span class="o">.</span><span class="n">simplify</span><span class="p">()</span>
<span class="n">mprint</span><span class="p">(</span><span class="n">qudots_nm</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>
Matrix([
[                                                                                                                                  u1],
[                                                                                                                                  u2],
[(-1.0*q1**3*u2**2 + 9.8*q1**2*q2**2 + 2.0*q1**2*q2*u1*u2 - 1.0*q1*q2**2*u1**2 + 9.8*q2**4)/(1.0*q1**4 + 2.0*q1**2*q2**2 + 1.0*q2**4)],
[  -1.0*(9.8*q1**3 + 1.0*q1**2*u2**2 + 9.8*q1*q2**2 - 2.0*q1*q2*u1*u2 + 1.0*q2**2*u1**2)*q2/(1.0*q1**4 + 2.0*q1**2*q2**2 + 1.0*q2**4)]])

</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Note that the right hand side is now a 4x1 matrix, rather than a 2x1 as before. This will be important later.</p>
<p>To ensure that the derived equations are equivalent, a variable transformation could be done, and the minimal case trasnformed into the nonminimal equations. However, we're just going to simulate the system to show that they have the same response. Not rigorous at all, but it's good enough for now.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="simulation">Simulation</h1>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In [31]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight-ipynb"><pre class="ipynb"><span class="kn">from</span> <span class="nn">sympy</span> <span class="kn">import</span> <span class="n">lambdify</span>
<span class="kn">from</span> <span class="nn">scipy.integrate</span> <span class="kn">import</span> <span class="n">odeint</span>
<span class="kn">from</span> <span class="nn">scipy</span> <span class="kn">import</span> <span class="n">linspace</span><span class="p">,</span> <span class="n">array</span><span class="p">,</span> <span class="n">pi</span><span class="p">,</span> <span class="n">cos</span><span class="p">,</span> <span class="n">sin</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="kn">as</span> <span class="nn">plt</span>
<span class="o">%</span><span class="k">matplotlib</span> <span class="n">inline</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>First we need to substitute in numbers for the constants <strong><em>L</em></strong>, and <strong><em>m</em></strong></p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In [32]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight-ipynb"><pre class="ipynb"><span class="n">val_dict</span> <span class="o">=</span> <span class="p">{</span><span class="n">L</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>                 <span class="c"># Length of 1 m</span>
            <span class="n">m</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">}</span>               <span class="c"># Mass of 1/2 kg</span>

<span class="c"># Substitute into the minimal and nonminimal EOM expressions:</span>
<span class="n">qudots</span> <span class="o">=</span> <span class="n">qudots</span><span class="o">.</span><span class="n">subs</span><span class="p">(</span><span class="n">val_dict</span><span class="p">)</span>
<span class="n">qudots_nm</span> <span class="o">=</span> <span class="n">qudots_nm</span><span class="o">.</span><span class="n">subs</span><span class="p">(</span><span class="n">val_dict</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Using <code>lambdify</code>, the equations of motion derived above can then be converted into equivalent <code>Numpy</code> expressions, allowing for fast computations. Then, a second lambda expression can be used to put the EOM into the needed for numerical integration with <code>odeint</code>.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In [33]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight-ipynb"><pre class="ipynb"><span class="n">f_nonminimal</span> <span class="o">=</span> <span class="n">lambdify</span><span class="p">(</span><span class="n">Matrix</span><span class="p">([</span><span class="n">qs</span><span class="p">,</span> <span class="n">us</span><span class="p">]),</span><span class="n">qudots_nm</span><span class="p">)</span>
<span class="n">f_minimal</span> <span class="o">=</span> <span class="n">lambdify</span><span class="p">(</span><span class="n">Matrix</span><span class="p">([</span><span class="n">q1</span><span class="p">,</span> <span class="n">u1</span><span class="p">]),</span> <span class="n">qudots</span><span class="p">)</span>
<span class="c"># Lambda expressions for use with odeint</span>
<span class="n">rhs_minimal</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">,</span> <span class="n">t</span><span class="p">:</span> <span class="n">array</span><span class="p">(</span><span class="n">f_minimal</span><span class="p">(</span><span class="o">*</span><span class="n">x</span><span class="p">))</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="n">rhs_nonminimal</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">,</span> <span class="n">t</span><span class="p">:</span> <span class="n">array</span><span class="p">(</span><span class="n">f_nonminimal</span><span class="p">(</span><span class="o">*</span><span class="n">x</span><span class="p">))</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Both systems can then be simulated with <code>odeint</code>. Let's define the initial condition to be horizontal to the right, with no initial velocity.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In [34]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight-ipynb"><pre class="ipynb"><span class="c"># Define initial condition to be horizontal to the right, with no velocity</span>
<span class="n">x_0_m</span> <span class="o">=</span> <span class="p">[</span><span class="n">pi</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
<span class="n">x_0_nm</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
<span class="c"># Create time vector, and run the simulation</span>
<span class="n">ts</span> <span class="o">=</span> <span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
<span class="n">x_nm</span> <span class="o">=</span> <span class="n">odeint</span><span class="p">(</span><span class="n">rhs_nonminimal</span><span class="p">,</span> <span class="n">x_0_nm</span><span class="p">,</span> <span class="n">ts</span><span class="p">)</span>
<span class="n">x_m</span> <span class="o">=</span> <span class="n">odeint</span><span class="p">(</span><span class="n">rhs_minimal</span><span class="p">,</span> <span class="n">x_0_m</span><span class="p">,</span> <span class="n">ts</span><span class="p">)</span>
<span class="c"># Plot both simulations on top of each other</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s">'Simulation Results'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ts</span><span class="p">,</span> <span class="n">val_dict</span><span class="p">[</span><span class="n">L</span><span class="p">]</span><span class="o">*</span><span class="n">sin</span><span class="p">(</span><span class="n">x_m</span><span class="p">[:,</span><span class="mi">0</span><span class="p">]),</span> <span class="n">label</span><span class="o">=</span><span class="s">"Minimal"</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ts</span><span class="p">,</span> <span class="n">x_nm</span><span class="p">[:,</span><span class="mi">1</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="s">"Nonminimal"</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s">'t (s)'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s">'$N_y$ coordinate (m)'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ts</span><span class="p">,</span> <span class="n">val_dict</span><span class="p">[</span><span class="n">L</span><span class="p">]</span><span class="o">*</span><span class="n">cos</span><span class="p">(</span><span class="n">x_m</span><span class="p">[:,</span><span class="mi">0</span><span class="p">]),</span> <span class="n">ts</span><span class="p">,</span> <span class="n">x_nm</span><span class="p">[:,</span><span class="mi">0</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s">'t (s)'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s">'$N_x$ coordinate (m)'</span><span class="p">);</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>


<div class="output_png output_subarea ">
<img />
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>As can be seen by the above, the simulation results are identical. Thus, both the minimal and nonminimal sets of coordinates result in the same system equations.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="linearization">Linearization</h1>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>As mentioned at the beginning of this behemoth of a post, my project for the summer is on implementing functionality for linearizing systems of equations with and without constraints. While linearizing an unconstrained system is simple, some care must be taken for linearizing a system with constraints.</p>
<p>In the above sections we derived two sets of equations of motion for a simple pendulum; one set without constraints, and one with. Now let's see what happens when we apply the naive linearization method of the simple jacobian to both systems:</p>
<p>First, we need to determine the trim condition we wish to linearize about. This must be a valid position (satisfy the system of equations). For simplicity, lets choose the stable, straight down at rest configuration (<span class="math">\(\theta = 0\)</span>, <span class="math">\(\omega = 0\)</span>).</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In [35]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight-ipynb"><pre class="ipynb"><span class="c"># Set the trim condition for the minimal approach</span>
<span class="n">trim_cond_m</span> <span class="o">=</span> <span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>
<span class="c"># Perform simple linearization by computing the jacobian of the rhs</span>
<span class="n">min_lin</span> <span class="o">=</span> <span class="n">qudots</span><span class="o">.</span><span class="n">jacobian</span><span class="p">([</span><span class="n">q1</span><span class="p">,</span> <span class="n">u1</span><span class="p">])</span><span class="o">.</span><span class="n">subs</span><span class="p">(</span><span class="nb">dict</span><span class="p">(</span><span class="nb">zip</span><span class="p">([</span><span class="n">q1</span><span class="p">,</span> <span class="n">u1</span><span class="p">],</span> <span class="n">trim_cond_m</span><span class="p">)))</span>
<span class="n">min_lin</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">
    Out[35]:</div>


<div class="output_text output_subarea output_pyout">
<pre>
Matrix([
[   0, 1],
[-9.8, 0]])
</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In [36]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight-ipynb"><pre class="ipynb"><span class="c"># Set the trim condition for the nonminimal approach</span>
<span class="n">trim_cond_nm</span> <span class="o">=</span> <span class="n">array</span><span class="p">([</span><span class="n">val_dict</span><span class="p">[</span><span class="n">L</span><span class="p">],</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>
<span class="c"># Perform naive linearization by computing the jacobian of the rhs</span>
<span class="n">nonmin_lin</span> <span class="o">=</span> <span class="n">qudots_nm</span><span class="o">.</span><span class="n">jacobian</span><span class="p">([</span><span class="n">q1</span><span class="p">,</span> <span class="n">q2</span><span class="p">,</span> <span class="n">u1</span><span class="p">,</span> <span class="n">u2</span><span class="p">])</span><span class="o">.</span><span class="n">subs</span><span class="p">(</span><span class="nb">dict</span><span class="p">(</span><span class="nb">zip</span><span class="p">([</span><span class="n">q1</span><span class="p">,</span> <span class="n">q2</span><span class="p">,</span> <span class="n">u1</span><span class="p">,</span> <span class="n">u2</span><span class="p">],</span> <span class="n">trim_cond_nm</span><span class="p">)))</span>
<span class="n">nonmin_lin</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">
    Out[36]:</div>


<div class="output_text output_subarea output_pyout">
<pre>
Matrix([
[0,    0, 1, 0],
[0,    0, 0, 1],
[0,    0, 0, 0],
[0, -9.8, 0, 0]])
</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>One use for a linearized system is for stability analysis at the point of linearization. This is done by computing the eigenvalues of the resulting system matrix.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In [37]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight-ipynb"><pre class="ipynb"><span class="k">print</span><span class="p">(</span><span class="s">"Minimal Eigenvalues:</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">min_lin</span><span class="o">.</span><span class="n">eigenvals</span><span class="p">())</span>
<span class="k">print</span><span class="p">(</span><span class="s">"Nonminimal Eigenvalues:</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">nonmin_lin</span><span class="o">.</span><span class="n">eigenvals</span><span class="p">())</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>
Minimal Eigenvalues:
 {7*sqrt(5)*I/5: 1, -7*sqrt(5)*I/5: 1}
Nonminimal Eigenvalues:
 {0: 2, 7*sqrt(5)*I/5: 1, -7*sqrt(5)*I/5: 1}

</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Looking at the eigenvalues of each matrix (as well as the <em>shape</em> of each matrix) you can already see something's not quite correct with the nonminimal linearization. With only one coordinate and one speed needed to set the state for the system, there should be only 2 eigenvalues, while the nonminimal linearization gives 4.</p>
<p>To further the point, the linearized systems can be simulated and compared with the nonlinear system. For small angle deviations, the system responses should be similar. We'll use a deviation of 1 degree, which should be small enough that they match:</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In [38]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight-ipynb"><pre class="ipynb"><span class="c"># Create the initial conditions based on the trim a deviation of 1 degree</span>
<span class="c"># from the trim condition, with no initial velocity</span>
<span class="n">delta</span> <span class="o">=</span> <span class="mi">1</span><span class="o">*</span><span class="n">pi</span><span class="o">/</span><span class="mi">180</span>
<span class="n">x0min</span> <span class="o">=</span> <span class="n">array</span><span class="p">([</span><span class="n">delta</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span> <span class="o">-</span> <span class="n">trim_cond_m</span>
<span class="n">x0nonmin</span> <span class="o">=</span> <span class="n">array</span><span class="p">([</span><span class="n">val_dict</span><span class="p">[</span><span class="n">L</span><span class="p">]</span><span class="o">*</span><span class="n">cos</span><span class="p">(</span><span class="n">delta</span><span class="p">),</span> <span class="n">val_dict</span><span class="p">[</span><span class="n">L</span><span class="p">]</span><span class="o">*</span><span class="n">sin</span><span class="p">(</span><span class="n">delta</span><span class="p">),</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span> <span class="o">-</span> <span class="n">trim_cond_nm</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In [39]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight-ipynb"><pre class="ipynb"><span class="c"># Create the required functions for simulation with odeint</span>
<span class="n">f_nonminimal_lin</span> <span class="o">=</span> <span class="n">lambdify</span><span class="p">(</span><span class="n">qs</span> <span class="o">+</span> <span class="n">us</span><span class="p">,</span> <span class="n">nonmin_lin</span><span class="o">*</span><span class="n">Matrix</span><span class="p">(</span><span class="n">qs</span> <span class="o">+</span> <span class="n">us</span><span class="p">))</span>
<span class="n">f_minimal_lin</span> <span class="o">=</span> <span class="n">lambdify</span><span class="p">([</span><span class="n">q1</span><span class="p">,</span> <span class="n">u1</span><span class="p">],</span> <span class="n">min_lin</span><span class="o">*</span><span class="n">Matrix</span><span class="p">([</span><span class="n">q1</span><span class="p">,</span> <span class="n">u1</span><span class="p">]))</span>
<span class="n">rhs_nonminimal_lin</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">,</span> <span class="n">t</span><span class="p">:</span> <span class="n">array</span><span class="p">(</span><span class="n">f_nonminimal_lin</span><span class="p">(</span><span class="o">*</span><span class="n">x</span><span class="p">))</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="n">rhs_minimal_lin</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">,</span> <span class="n">t</span><span class="p">:</span> <span class="n">array</span><span class="p">(</span><span class="n">f_minimal_lin</span><span class="p">(</span><span class="o">*</span><span class="n">x</span><span class="p">))</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In [40]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight-ipynb"><pre class="ipynb"><span class="c"># Run the simulation</span>
<span class="n">t</span> <span class="o">=</span> <span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
<span class="n">x_nm</span> <span class="o">=</span> <span class="n">odeint</span><span class="p">(</span><span class="n">rhs_nonminimal</span><span class="p">,</span> <span class="n">x0nonmin</span> <span class="o">+</span> <span class="n">trim_cond_nm</span><span class="p">,</span> <span class="n">t</span><span class="p">)</span>
<span class="n">x_m</span> <span class="o">=</span> <span class="n">odeint</span><span class="p">(</span><span class="n">rhs_minimal</span><span class="p">,</span> <span class="n">x0min</span> <span class="o">+</span> <span class="n">trim_cond_m</span><span class="p">,</span> <span class="n">t</span><span class="p">)</span>
<span class="n">x_nm_lin</span> <span class="o">=</span> <span class="n">odeint</span><span class="p">(</span><span class="n">rhs_nonminimal_lin</span><span class="p">,</span> <span class="n">x0nonmin</span><span class="p">,</span> <span class="n">t</span><span class="p">)</span> <span class="o">+</span> <span class="n">trim_cond_nm</span>
<span class="n">x_m_lin</span> <span class="o">=</span> <span class="n">odeint</span><span class="p">(</span><span class="n">rhs_minimal_lin</span><span class="p">,</span> <span class="n">x0min</span><span class="p">,</span> <span class="n">t</span><span class="p">)</span> <span class="o">+</span> <span class="n">trim_cond_m</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In [41]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight-ipynb"><pre class="ipynb"><span class="c"># Plot the results</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">val_dict</span><span class="p">[</span><span class="n">L</span><span class="p">]</span><span class="o">*</span><span class="n">sin</span><span class="p">(</span><span class="n">x_m</span><span class="p">[:,</span><span class="mi">0</span><span class="p">]),</span> <span class="n">t</span><span class="p">,</span> <span class="n">val_dict</span><span class="p">[</span><span class="n">L</span><span class="p">]</span><span class="o">*</span><span class="n">sin</span><span class="p">(</span><span class="n">x_m_lin</span><span class="p">[:,</span><span class="mi">0</span><span class="p">]))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s">'t, (s)'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s">'$N_y$ Coordinate (m)'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s">'Minimal Coordinates Simulation Results'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">([</span><span class="s">'Nonlinear'</span><span class="p">,</span> <span class="s">'Linear'</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">val_dict</span><span class="p">[</span><span class="n">L</span><span class="p">]</span><span class="o">*</span><span class="n">cos</span><span class="p">(</span><span class="n">x_m</span><span class="p">[:,</span><span class="mi">0</span><span class="p">]),</span> <span class="n">t</span><span class="p">,</span> <span class="n">val_dict</span><span class="p">[</span><span class="n">L</span><span class="p">]</span><span class="o">*</span><span class="n">cos</span><span class="p">(</span><span class="n">x_m_lin</span><span class="p">[:,</span><span class="mi">0</span><span class="p">]))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s">'t, (s)'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s">'$N_x$ Coordinate (m)'</span><span class="p">);</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">x_nm</span><span class="p">[:,</span><span class="mi">1</span><span class="p">],</span> <span class="n">t</span><span class="p">,</span> <span class="n">x_nm_lin</span><span class="p">[:,</span><span class="mi">1</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s">'t, (s)'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s">'$N_y$ Coordinate (m)'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s">'Nonminimal Coordinates Simulation Results'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">([</span><span class="s">'Nonlinear'</span><span class="p">,</span> <span class="s">'Linear'</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">x_nm</span><span class="p">[:,</span><span class="mi">0</span><span class="p">],</span> <span class="n">t</span><span class="p">,</span> <span class="n">x_nm_lin</span><span class="p">[:,</span><span class="mi">0</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s">'t, (s)'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s">'$N_x$ Coordinate (m)'</span><span class="p">);</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>


<div class="output_png output_subarea ">
<img />
</div>

</div>

<div class="output_area"><div class="prompt"></div>


<div class="output_png output_subarea ">
<img />
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>While the minimal coordinate linear and nonlinear simulation results line up nicely, the <span class="math">\(N_x\)</span> coordinate response of the linearized nonminimal system is significantly off. This is because for the nonminimal system, the generalized coordinates and speeds aren't independent but functions of other coordinates and speeds. Thus, when taking the jacobian the chain rule needs to be applied correctly, and the dependent states removed from the linearized expression.</p>
<p>This is the basis for my GSoC project. The implementation of a robust way to linearize systems that <em>works</em>, regardless of constraints or nonminimal system realization. A method for doing this in a systematic manner was derived by one of my mentors, and I plan on starting with that. I think it can be generalized to Lagrange's equations, as well as other systems, but I need to think more on that.</p>
<p>This week I spent some time teaching myself Kane's Method, and then the remainder working through a bunch of test cases to be used as unit tests for the linearization routines. Next week I'll begin work on the actual implementation.</p>
<p><em>This ipython notebook can be found <a href="https://github.com/jcrist/ipython_notebooks/tree/master/Pendulum">here</a></em></p>
</div>
</div>
</div><p></p>&lt;script type="text/javascript"&gt;
    if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {
        var mathjaxscript = document.createElement('script');
        mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';
        mathjaxscript.type = 'text/javascript';
        mathjaxscript.src = 'https:' == document.location.protocol
                ? 'https://c328740.ssl.cf1.rackcdn.com/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'
                : 'http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML';
        mathjaxscript[(window.opera ? "innerHTML" : "text")] =
            "MathJax.Hub.Config({" +
            "    config: ['MMLorHTML.js']," +
            "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } }," +
            "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +
            "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +
            "    displayAlign: 'center'," +
            "    displayIndent: '0em'," +
            "    showMathMenu: true," +
            "    tex2jax: { " +
            "        inlineMath: [ ['$','$'] ], " +
            "        displayMath: [ ['$$','$$'] ]," +
            "        processEscapes: true," +
            "        preview: 'TeX'," +
            "    }, " +
            "    'HTML-CSS': { " +
            "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'black ! important'} }" +
            "    } " +
            "}); ";
        (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);
    }
&lt;/script&gt;</div>







<p class="date">
<a href="http://jcrist.github.io/gsoc-week-1.html">by Jim Crist at May 24, 2014 03:00 PM</a>
</p>
</div>
</div>


</div>

</div>
<div class="daygroup">
<h2>May 23, 2014</h2>

<div class="channelgroup">







<h3><a href="http://tarzzz.github.io/gsoc14" title="Tarun Gaba's blog - GSoC">Tarun Gaba</a></h3>


<div class="entrygroup" id="http://tarzzz.github.io/gsoc14/community-bonding.html">
<h4><a href="http://tarzzz.github.io/gsoc14/community-bonding.html">GSoC 14: Community Bonding Period Ends</a></h4>
<div class="entry">
<div class="content">
{% include JB/setup %}


[ &lt;-Back to posts ](/gsoc14)

Community bonding period has ended, and it has been great for multiple reasons.
Our organization has decided to introduce some new suggestions for improving
the quality of the projects, we would be collaborating with another open source project for a 
software package, and everybody will be having fun this summers!!

About the new suggestions, there are mainly two:

  - Firstly, the PR's of a student will be reviewed, in addition to the mentor
    by other students in the organization before merging. PyDy has three students this year
    and all three will be reviewing each other's PR's. This is a nice innovation to help other
    students keep track of what other students are up to. They can help them, correct them, 
    constructively criticize them, and above all become better friends. 

  - Secondly, We have decided to fix the pattern of the weekly blog posts. From now on, all 
    my _official_ weekly blog posts will come in AOI format (Not [A.O.E.](en.wikipedia.org/wiki/Age_of_Empires)).
    In this format I should mention the **Achievements** of the previous week(s), The **Objectives**
    of the next week, and the **Issues** involved. Introducing a fix pattern makes the official blog posts
    more readable and useful for those who want to get quick information of where the project is headed to!


Another good thing is that the organization has decided to collaborate with [Adam Leeper](http://adamleeper.com/), 
who has happily agreed to collaborate with us. Adam has written a software package MGView, which is similar to our 
PyDy visualizer, but uses a different dynamics backend. We will be collaborating on developing a generic 
dynamics visualizer, which should be able to visualize output data from various dynamics engines. 
We are working on an API for the new visualizer this week.

Apart from these, I have also been playing around to explore the new functionality of the Widgets introduced 
in IPython2.0, which is going to be helpful in my project. I will also try to give some demonstrations of 
new IPython2.0 features, hopefully(If I get enough _time_).

So another Summer of Code, kick starts!!

Happy Coding!


[ &lt;-Back to posts ](/gsoc14)</div>







<p class="date">
<a href="http://tarzzz.github.io/gsoc14/community-bonding.html">May 23, 2014 08:40 AM</a>
</p>
</div>
</div>


</div>

</div>
<div class="daygroup">
<h2>May 21, 2014</h2>

<div class="channelgroup">







<h3><a href="http://tarzzz.github.io/gsoc14" title="Tarun Gaba's blog - GSoC">Tarun Gaba</a></h3>


<div class="entrygroup" id="http://tarzzz.github.io/gsoc14/first-post.html">
<h4><a href="http://tarzzz.github.io/gsoc14/first-post.html">GSoC 14: First Post</a></h4>
<div class="entry">
<div class="content">
{% include JB/setup %}
[ &lt;-Back to posts ](/gsoc14)

This is the first blog of the series, which I will maintain to provide information
and updates on my Google Summer of Code,14 project.

I feel very elated on getting selected consecutively for the second time for GSoC.
I had spent a great summer coding on the project last year, and I am really looking 
forward for an exciting summer this year as well.

In this very first blog post, I am going to give a bird's eye view of what is proposed
in this project.(it is a slightly long post, so please bear with me! :) )

In a nut-shell we plan to develop a generic dynamics visualizer and then provide IPython support for it.
Along with that we plan to create a gallery to showcase the benchmark problems in dynamics, and also help new users 
to be aware of all the functionality provided by `pydy.viz`.

About the generic visualizer, it should be able to take data input from major dynamics 
engines( [PyDy](https://pydy.org) and [MotionGenesis](https://www.motiongenesis.com/) at the very least ) and be able to visualize and animate it.

Another facet of this visualizer is that we should be able to change Simulation parameters from the GUI itself
and then re-run the simulations(in the respective dynamics engines) and then be able to produce the new results, visually.

IPython has become a great tool among scientific community, and we plan to provide IPython notebook support for the visualizer.

A call to:

    scene.display()


should be able to display the visualizer in the output cell of the IPython notebook, with the functionality to change 
the simulation parameters, which are then sent to dynamics engine, using IPython kernel, and then new results can be visualized.

Mainly the new visualizer is intended to run in IPython notebooks, but we also have to make arrangements for those who
(for some reasons!) don't want to use IPython to display the visualizations. We should be able to spit out static html files
for the visualizations, and they can then be run on a simple HTTP Server, or directly viewed in the browser. 
These static files will not have functionality to rerun the simulations after changing parameters, but it is useful in the sense
that we can keep the visualizations in the static format on the drive(or repository), and view it/publish it/present it.

[ &lt;-Back to posts ](/gsoc14)</div>







<p class="date">
<a href="http://tarzzz.github.io/gsoc14/first-post.html">May 21, 2014 12:20 AM</a>
</p>
</div>
</div>


</div>

</div>
<div class="daygroup">
<h2>May 19, 2014</h2>

<div class="channelgroup">







<h3><a href="http://thilinaatsympy.wordpress.com" title="Thilina's SymPy Blog">Thilina Rathnayake</a></h3>


<div class="entrygroup" id="http://thilinaatsympy.wordpress.com/?p=274">
<h4 lang="en"><a href="http://thilinaatsympy.wordpress.com/2014/05/20/gsoc-2014-linear-algebra-module-for-csympy/">[GSoC] Linear Algebra Module for CSymPy</a></h4>
<div class="entry">
<div class="content" lang="en">
<p>Hi All,</p>
<p>This summer, as my GSoC project, I will be working on a Linear Algebra Module for CSymPy which is hoped to be used along with SymPy after the completion. I am going to mainly focus on Matrices and associated algorithms. This is my second GSoC project. I did my first project last summer with SymPy and I am really excited to work with the SymPy community again.</p>
<p>CSymPy is a fast core written in C++ for SymPy. It was started by Ondrej and try to address some performance critical applications where python is rather slow.  Linear algebra and related algorithms are performance critical as we have to deal with large matrices. So writing them in C++ will make them faster and these fast algorithms can be used in SymPy via python wrappers. You can find more about CSymPy by visiting the <a href="https://github.com/sympy/csympy">project page</a> in github.</p>
<p>Apart from focusing on performance, I like to pay special attention to symbolic matrices and their manipulations. My aim is to make CSymPy the fastest library available for symbolic mathematics. There are a few challenges we need to overcome, especially avoiding intermediate expression swelling.</p>
<p>I created a <a href="https://github.com/sympy/csympy/pull/169">PR</a> with the basic structure for the Matrices. Please have a look. I would love to hear what you have to say.</p><br />  <a href="http://feeds.wordpress.com/1.0/gocomments/thilinaatsympy.wordpress.com/274/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/comments/thilinaatsympy.wordpress.com/274/" alt="" border="0" /></a> <img src="http://stats.wordpress.com/b.gif?host=thilinaatsympy.wordpress.com&amp;blog=52956410&amp;post=274&amp;subd=thilinaatsympy&amp;ref=&amp;feed=1" alt="" border="0" width="1" height="1" /></div>







<p class="date">
<a href="http://thilinaatsympy.wordpress.com/2014/05/20/gsoc-2014-linear-algebra-module-for-csympy/">by Thilina Rathnayake at May 19, 2014 10:27 PM</a>
</p>
</div>
</div>



</div>
<div class="channelgroup">







<h3><a href="http://gsocblog.blogspot.com/" title="GSoC 2014 with SymPy">Avichal Dayal</a></h3>


<div class="entrygroup" id="tag:blogger.com,1999:blog-283806077182880539.post-501859786358105166">
<div class="entry">
<div class="content">
<div style="text-align: left;" dir="ltr">I started my work with implementing asymptotic expansion.<br /><br />Gruntz mention the MrvAsympt algorithm to compute asymptotic expansion in his paper "A new algorithm for computing asymptotic series". It uses mrv and rewrite sub-routines which are already implemented in SymPy making my work easier.<br />However there are some issues that I must deal with. One of them is to figure out when to call this algorithm. Currently if the current implementation of series fails to return any relevant output, this algorithm is called to give an asymptotic expansion of the expression.<br />The user can also directly call this algorithm by calling the aseries method similar to the previous nseries and lseries methods.<br /><br />This algorithm uses a top down recursion method. Next step will be to implement hierarchical series which is nothing but stopping the recursion at an early level. It should be under user's control so an extra parameter should be needed.<br />This is just the beginning and I hope to add more interesting features to SymPy.<br /><br />Here are the results till now:-<br /><br /><div style="clear: both; text-align: center;" class="separator"><a style="clear: left; float: left; margin-bottom: 1em; margin-right: 1em;" href="http://2.bp.blogspot.com/-_bxLsM3335g/U3o6L4fFPcI/AAAAAAAAAcY/e4I7ftfKV6g/s1600/Asympt.png"><img width="400" src="http://2.bp.blogspot.com/-_bxLsM3335g/U3o6L4fFPcI/AAAAAAAAAcY/e4I7ftfKV6g/s1600/Asympt.png" border="0" height="223" /></a></div><br /></div></div>







<p class="date">
<a href="http://gsocblog.blogspot.com/2014/05/i-started-my-work-with-implementing.html">by Avichal Dayal (noreply@blogger.com) at May 19, 2014 05:09 PM</a>
</p>
</div>
</div>


</div>

</div>
<div class="daygroup">
<h2>May 13, 2014</h2>

<div class="channelgroup">







<h3><a href="https://hargup.github.io/" title="Harsh's blog">Harsh Gupta</a></h3>


<div class="entrygroup" id="https://hargup.github.io/blog/blah.html">
<h4 lang="en"><a href="https://hargup.github.io/blog/blah.html">Blah</a></h4>
<div class="entry">
<div class="content">
<p>Write your post here.</p></div>







<p class="date">
<a href="https://hargup.github.io/blog/blah.html">May 13, 2014 08:25 PM</a>
</p>
</div>
</div>


</div>

</div>
<div class="daygroup">
<h2>May 12, 2014</h2>

<div class="channelgroup">







<h3><a href="http://gsocblog.blogspot.com/" title="GSoC 2014 with SymPy">Avichal Dayal</a></h3>


<div class="entrygroup" id="tag:blogger.com,1999:blog-283806077182880539.post-3114660856880190348">
<div class="entry">
<div class="content">
<div style="text-align: left;" dir="ltr">This summer I'll be coding for SymPy as part of Google Summer Of Code 2014 program. SymPy is a computer algebra system written in pure python. <a href="http://sympy.org/en/index.html">Here</a> is its official homepage. <br /><br />My project is "Series expansion". I aim to improve asymptotic expansion and implement formal power series. My mentors for this project are Stefan Krastanov and Sergey B Kirpichev. I am really excited to get started with the project.<br /><br />During the community bonding period, I'll try to get started with my work and get a head start.<br /><br />Hope to have a great summer and thank you to Google and SymPy for the opportunity!</div></div>







<p class="date">
<a href="http://gsocblog.blogspot.com/2014/05/this-summer-ill-be-coding-for-sympy-as.html">by Avichal Dayal (noreply@blogger.com) at May 12, 2014 10:54 AM</a>
</p>
</div>
</div>


</div>

</div>
<div class="daygroup">
<h2>May 04, 2014</h2>

<div class="channelgroup">







<h3><a href="http://kundankumar185.wordpress.com" title="my experiments with life">Kundan Kumar</a></h3>


<div class="entrygroup" id="http://kundankumar185.wordpress.com/?p=3">
<h4 lang="en"><a href="http://kundankumar185.wordpress.com/2014/05/04/beginning-of-a-journey/">Beginning of a journey</a></h4>
<div class="entry">
<div class="content" lang="en">
<p align="justify">Its matter of great happiness for me, I got selected in GSOC. Well not only that three of us (friends), out of four, who together were preparing for GSOC got selected. At the same time, it feels bad when someone is giving same input as you but does not get same output. Same happened with one of us, but nevertheless it gives an inspiration to work harder to achieve what we opt for.</p>
<p align="justify">The sacrifice of holidays and mid-exams turned out in fruitful manner and here we are preparing ourselves to work with our respective organizations in GSOC’14. We gave what we had to our fullest during last 2 months with no knowledge of day and night.</p>
<p align="justify">It’s my first time I am contributing to an open source organization. Sympy is the first open source organization with which I am engaging with and also got selected in GSOC under this organization. From the last two month I am playing with the sympy code on differential equation solving engine. Till now I have fixed two bugs and added a method to solve a type of ODE.</p>
<p align="justify">After working in open source organization, particularly sympy, I got to learn many things. The thing I liked the most is that people contributing selflessly to build software which will be available to everyone, especially those who find it very difficult to buy a software because of its high cost. It has connected people across the globe to work together and know each other, being rare for those who can’t go abroad. It feels really great to know others and make friends from all over the world. In this matter, Google has done a great job by promoting open source through Google Summer of Code, thats a thing for which I would really like to praise Google among many others. It has provided a force to every coders to contribute to open source.</p>
<p align="justify">Well about how I started working in sympy is a long story of hard work and patience. I started working from 27 Feb, just 22 days before proposal submission and it took a lot of time to understand things, how sympy works. Initially I was even unable to understand its issues completely and didn’t know how to solve so I just kept reading the issues over and over. Well it was hard but sympy mentors helped a lot. That time I learned “time teaches everything what we need is dedication to work”.</p>
<p align="justify">That’s it for now I think for my first post on first blog. I have a lot to say but they are for next time. There is a long journey I have to travel, being started with Google Summer of Code.</p><br />  <a href="http://feeds.wordpress.com/1.0/gocomments/kundankumar185.wordpress.com/3/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/comments/kundankumar185.wordpress.com/3/" alt="" border="0" /></a> <img src="http://stats.wordpress.com/b.gif?host=kundankumar185.wordpress.com&amp;blog=68025302&amp;post=3&amp;subd=kundankumar185&amp;ref=&amp;feed=1" alt="" border="0" width="1" height="1" /></div>







<p class="date">
<a href="http://kundankumar185.wordpress.com/2014/05/04/beginning-of-a-journey/">by Kundan at May 04, 2014 11:40 PM</a>
</p>
</div>
</div>


</div>

</div>
<div class="daygroup">
<h2>April 25, 2014</h2>

<div class="channelgroup">







<h3><a href="http://lifelesscode.blogspot.com/search/label/sympy" title="Shortlog">Sudhanshu Mishra</a></h3>


<div class="entrygroup" id="tag:blogger.com,1999:blog-8847459392628952171.post-581868626457110552">
<h4><a href="http://lifelesscode.blogspot.com/2014/04/gsoc-2014-with-sympy.html">GSoC 2014 with SymPy</a></h4>
<div class="entry">
<div class="content">
<div style="text-align: left;" dir="ltr"><div style="text-align: left;"><br />My proposal is intended to add more to optics in SymPy. Till now it can only do computations related to Gaussian optics and a bit of geometrical optics. <a href="https://github.com/certik" target="_blank">Ondřej Čertík</a> and <a href="https://github.com/flacjacket" target="_blank">Sean Vig</a> are my mentors for the project.</div><div style="text-align: left;"><br /></div><div style="text-align: left;">For those who don't know what is SymPy, SymPy is a Python library for symbolic computation. It provides computer algebra capabilities either as a standalone application, as a library to other applications, or live on the web as SymPy Live. SymPy is trivial to install and to inspect because is written entirely in Python and because it does not depend on any additional libraries. This ease of access combined with a simple and extensible code base in a well known language make SymPy a computer algebra system with a relatively low barrier to entry. SymPy is free software and is licensed under New BSD license. The lead developers are Ondřej Čertík and Aaron Meurer.</div><div style="text-align: left;"><br /></div><div style="text-align: left;">Three more people other than me got selected for SymPy from my college, namely, Akshay, Sachin Joglekar and Soumya Dipta Biswas.<br /><br /></div>During this <i>Community Bonding Period </i>I'll try to get familiar with the huge code base of SymPy and its community of developers. I'm also working on few old pull requests that are dead for so long.<br /><br />Looking forward to work with such a great organization! Thanks to Google and SymPy for this opportunity!</div></div>







<p class="date">
<a href="http://lifelesscode.blogspot.com/2014/04/gsoc-2014-with-sympy.html">by Sudhanshu Mishra (noreply@blogger.com) at April 25, 2014 06:00 PM</a>
</p>
</div>
</div>


</div>

</div>
<div class="daygroup">
<h2>April 24, 2014</h2>

<div class="channelgroup">







<h3><a href="http://geekpy.blogspot.com/" title="Akshay Narasimha">Akshay Narasimha</a></h3>


<div class="entrygroup" id="tag:blogger.com,1999:blog-54146973659574488.post-8832200362911847122">
<h4><a href="http://geekpy.blogspot.com/2014/04/gsoc-14-with-sympy.html">Gsoc-14 with SymPy</a></h4>
<div class="entry">
<div class="content">
<div style="text-align: left;" dir="ltr">This summer is really going to be productive as I will be writing code for SymPy as a part of Google Summer of Code-14 (Gsoc). For more details regarding the programme visit this <a href="https://www.google-melange.com/">site</a>.<br /><br />For those of you who are not familiar with SymPy, well it is a Computational algebraic system(CAS) library written in pure python.The project is currently headed by Aaron Meurer and Ondrej Certik.<br /><br /> My project "Improvements to the Geometry library" got accepted under SymPy organisation. My mentor for this project will be Stefan Krastanov and I am really excited to work with him. There are three other guys from my university who got selected for SymPy Sudhanshu Mishra, Sachin Joglekar, Soumya Dipta Biswas ,and I would like to wish them luck for their projects.<br /><br /> Coming to my project I would be extending the geometry module of SymPy to include 3-D entities and also implementing some new classes along the way. For more details about my project you could check my <a href="https://github.com/sympy/sympy/wiki/GSoC-2014-Application--Akshay--Geometry-Module">proposal</a>.<br /><br /> This is my first time participating in Gsoc and I am looking forward to a great summer.</div></div>







<p class="date">
<a href="http://geekpy.blogspot.com/2014/04/gsoc-14-with-sympy.html">by Akshay Narasimha (noreply@blogger.com) at April 24, 2014 08:27 PM</a>
</p>
</div>
</div>


</div>

</div>
<div class="daygroup">
<h2>April 20, 2014</h2>

<div class="channelgroup">







<h3><a href="http://fa.bianp.net/blog/" title="I say things">Fabian Pedregosa</a></h3>


<div class="entrygroup" id="tag:fa.bianp.net,2014-04-21:blog/2014/surrogate-loss-functions-in-machine-learning/">
<h4><a href="http://fa.bianp.net/blog/2014/surrogate-loss-functions-in-machine-learning/">Surrogate Loss Functions in Machine Learning</a></h4>
<div class="entry">
<div class="content">
<p><span class="bold">TL; DR</span> These are some notes on calibration of surrogate loss functions in the context of machine learning. But mostly it is an excuse to post some images I made.</p>
<p>In the binary-class classification setting we are given $n$ training samples $\{(X_1, Y_1), \ldots, (X_n, Y_n)\}$, where $X_i$ belongs to some sample space $\mathcal{X}$, usually $\mathbb{R}^p$ but for the purpose of this post we can keep i abstract, and $y_i \in \{-1, 1\}$ is an integer representing the class label. </p>
<p>We are also given a loss function $\ell: \{-1, 1\} \times \{-1, 1\} \to \mathbb{R}$ that measures the error of a given prediction. The value of the loss function $\ell$ at an arbitrary point $(y, \hat{y})$ is interpreted as the cost incurred by predicting $\hat{y}$ when the true label is $y$. In classification this function is often the zero-one loss, that is, $\ell(y, \hat{y})$ is zero when $y = \hat{y}$  and one otherwise.</p>
<p>The goal is to find a function $h: \mathcal{X} \to [k]$, the classifier, with the smallest expected loss on a new sample. In other words, we seek to find a function $h$ that minimizes the expected $\ell$-risk, given by 
$$
\mathcal{R}_{\ell}(h) = \mathbb{E}_{XY}[\ell(Y, h(X))]
$$</p>
<p>In theory, we could directly minimize the $\ell$-risk and we would have the optimal classifier, also known as <em>Bayes predictor</em>. However, there are several problems associated with this approach. One is that the probability distribution of $XY$ is unknown, thus computing the exact expected value is not feasible. It must be approximated by the empirical risk. Another issue is that this quantity is difficult to optimize because the function $\ell$ is discontinuous. Take for example a problem in which $\mathcal{X} = \mathbb{R}^2, k=2$, and we seek to find the linear function $f(X) = \text{sign}(X w), w \in \mathbb{R}^2$  and that minimizes the $\ell$-risk. As a function of the parameter $w$ this function looks something like</p>
<div style="text-align: center;">
<img width="350px" alt="loss as function of w" style="margin-top: 0px;" src="http://fa.bianp.net/blog/images/2014/loss_01.png" />
</div>

<p>This function is discontinuous with large, flat regions and is thus extremely hard to optimize using gradient-based methods. For this reason it is usual to consider a proxy to the loss called a <em>surrogate loss function</em>. For computational reasons this is usually convex function $\Psi: \mathbb{R}  \to \mathbb{R}_+$. An example of such surrogate loss functions is the <em>hinge loss</em>, $\Psi(t) = \max(1-t, 0)$, which is the loss used by Support Vector Machines (SVMs). Another example is the logistic loss, $\Psi(t) = 1/(1 + \exp(-t))$, used by the logistic regression model. If we consider the logistic loss, minimizing the $\Psi$-risk, given by $\mathbb{E}_{XY}[\Psi(Y, f(X))]$, of the function $f(X) = X w$ becomes a much more more tractable optimization problem:</p>
<div style="text-align: center;">
<img src="http://fa.bianp.net/blog/images/2014/loss_log.png" style="margin-top: 0px;" width="350px" />
</div>

<p>In short, we have replaced the $\ell$-risk which is computationally difficult to optimize with the $\Psi$-risk which has more advantageous properties. A natural questions to ask is how much have we lost by this change. The property of whether minimizing the $\Psi$-risk leads to a function that also minimizes the $\ell$-risk is often referred to as <em>consistency</em> or <em>calibration</em>. For a more formal definition see [<sup id="fnref:1"><a href="http://fa.bianp.net/blog/feed/#fn:1" class="footnote-ref" rel="footnote">1</a></sup>] and [<sup id="fnref:2"><a href="http://fa.bianp.net/blog/feed/#fn:2" class="footnote-ref" rel="footnote">2</a></sup>]. This property will depend on the surrogate function $\Psi$: for some functions $\Psi$ it will be verified the consistency property and for some not. One of the most useful characterizations was given in [<sup id="fnref:1"><a href="http://fa.bianp.net/blog/feed/#fn:1" class="footnote-ref" rel="footnote">1</a></sup>] and states that if $\Psi$ is convex then it is consistent if and only if it is differentiable at zero and $\Psi'(0) &lt; 0$. This includes most of the commonly used surrogate loss functions, including hinge, logistic regression and Huber loss functions.</p>
<div style="text-align: center;">
<img src="http://fa.bianp.net/blog/images/2014/loss_functions.png" style="margin-top: 0px;" width="550px" />
</div>

<div class="footnote">
<hr />
<ol>
<li id="fn:1">
<p>P. L. Bartlett, M. I. Jordan, and J. D. McAuliffe, “Convexity , Classification , and Risk Bounds,” J. Am. Stat. Assoc., pp. 1–36, 2003. <a href="http://fa.bianp.net/blog/feed/#fnref:1" rev="footnote" class="footnote-backref" title="Jump back to footnote 1 in the text">↩</a></p>
</li>
<li id="fn:2">
<p>A. Tewari and P. L. Bartlett, “On the Consistency of Multiclass Classification Methods,” J. Mach. Learn. Res., vol. 8, pp. 1007–1025, 2007. <a href="http://fa.bianp.net/blog/feed/#fnref:2" rev="footnote" class="footnote-backref" title="Jump back to footnote 2 in the text">↩</a></p>
</li>
</ol>
</div></div>







<p class="date">
<a href="http://fa.bianp.net/blog/2014/surrogate-loss-functions-in-machine-learning/">by Fabian Pedregosa at April 20, 2014 10:00 PM</a>
</p>
</div>
</div>



</div>
<div class="channelgroup">







<h3><a href="http://sushant-hiray.in" title="Sushant Hiray's Blog - Posts tagged sympy/gsoc/csympy">Sushant Hiray</a></h3>


<div class="entrygroup" id="http://sushant-hiray.in/posts/gsoc/selected-gsoc/">
<h4><a href="http://sushant-hiray.in/posts/gsoc/selected-gsoc/">GSoC in Project CSymPy</a></h4>
<div class="entry">
<div class="content">
<p>Well its endsem time and probably the first time I’m quite happy during this period. I’ve been selected for <a href="http://www.google-melange.com/gsoc/homepage/google/gsoc2014">GSoC</a> under the organization <a href="http://www.google-melange.com/gsoc/org2/google/gsoc2014/sympy">SymPy</a>.</p>

<p>I will be working for the project <a href="https://github.com/sympy/csympy">CSymPy</a> in enhancing the elementary functions module. And well I will be mentored by the awesome <a href="https://github.com/certik">Ondrej Certík</a></p>

<h2 id="project-description">Project Description</h2>
<p>Currently there are very few functions implemented in CSymPy. I aim to extend the module of the elementary functions further, on the similar lines of SymPy . I expect to implement a certain subset of special functions which are already implemented in SymPy. Since CSymPy is particularly new, almost all the special functions have certain dependencies. The project aims in developing a modular architecture to first implement the dependencies and then develop the special functions.</p>

<h2 id="timeline">Timeline</h2>
<p>I have discussed my timeline in quite some details both in <a href="https://groups.google.com/forum/#!forum/sympy">SymPy mailinglist</a> and on <a href="https://gitter.im/sympy/csympy">gitter</a>. My proposal is <a href="https://github.com/sympy/sympy/wiki/GSoC-2014-Application-Sushant-Hiray:-Extending-Elementary-Functions-CSymPy">here</a>
This might get refined a bit during the ongoing community bonding period!</p>

<h2 id="road-ahead">Road Ahead</h2>
<p>Officially GSoC starts from May 19, well but we would probably start shipping in code post endsems.
If you are free this summer and would love to contribute, feel free to catch us up at <a href="https://gitter.im/sympy/csympy">gitter</a>. We will help you get started. Till then sayonara, will continue posting updates hopefully each week! :)</p></div>







<p class="date">
<a href="http://sushant-hiray.in/posts/gsoc/selected-gsoc/">April 20, 2014 06:30 PM</a>
</p>
</div>
</div>


</div>

</div>
<div class="daygroup">
<h2>April 05, 2014</h2>

<div class="channelgroup">







<h3><a href="http://asmeurersympy.wordpress.com" title="Aaron Meurer's SymPy Blog">Aaron Meurer (old)</a></h3>


<div class="entrygroup" id="http://asmeurersympy.wordpress.com/?p=1413">
<h4 lang="en"><a href="http://asmeurersympy.wordpress.com/2014/04/05/this-blog-has-moved/">This blog has moved</a></h4>
<div class="entry">
<div class="content" lang="en">
<p>This blog has moved to <a href="http://asmeurer.github.io">http://asmeurer.github.io/</a></p>
<p> </p>
<p>See <a href="http://asmeurer.github.io/blog/posts/moving-to-github-pages-with-nikola/">http://asmeurer.github.io/blog/posts/moving-to-github-pages-with-nikola/</a> for more details on why I have moved. For now, all posts on this blog have not been migrated. </p><br />  <a href="http://feeds.wordpress.com/1.0/gocomments/asmeurersympy.wordpress.com/1413/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/comments/asmeurersympy.wordpress.com/1413/" alt="" border="0" /></a> <img src="http://stats.wordpress.com/b.gif?host=asmeurersympy.wordpress.com&amp;blog=7467151&amp;post=1413&amp;subd=asmeurersympy&amp;ref=&amp;feed=1" alt="" border="0" width="1" height="1" /></div>







<p class="date">
<a href="http://asmeurersympy.wordpress.com/2014/04/05/this-blog-has-moved/">by Aaron Meurer at April 05, 2014 01:16 AM</a>
</p>
</div>
</div>


</div>

</div>


<div class="sidebar">
<img src="images/sympy-100px.png" width="100" height="84" alt="">

<h2>Subscriptions</h2>
<ul>
<li>
<a href="http://asmeurer.github.io/blog/rss.xml" title="subscribe"><img src="images/feed-icon-10x10.png" alt="(feed)"></a> <a href="http://asmeurer.github.io/" class="message" title="no activity in 7 days">Aaron Meurer</a>
</li>
<li>
<a href="http://asmeurersympy.wordpress.com/feed/" title="subscribe"><img src="images/feed-icon-10x10.png" alt="(feed)"></a> <a href="http://asmeurersympy.wordpress.com" class="message" title="no activity in 7 days">Aaron Meurer (old)</a>
</li>
<li>
<a href="http://www.blogger.com/feeds/936818886435977143/posts/default" title="subscribe"><img src="images/feed-icon-10x10.png" alt="(feed)"></a> <a href="http://addisoncugini.blogspot.com/" class="message" title="no activity in 7 days">Addison Cugini</a>
</li>
<li>
<a href="http://www.blogger.com/feeds/54146973659574488/posts/default" title="subscribe"><img src="images/feed-icon-10x10.png" alt="(feed)"></a> <a href="http://geekpy.blogspot.com/" title="Akshay Narasimha">Akshay Narasimha</a>
</li>
<li>
<a href="http://amakelov.wordpress.com/category/google-summer-of-code-2012/feed/" title="subscribe"><img src="images/feed-icon-10x10.png" alt="(feed)"></a> <a href="http://amakelov.wordpress.com" class="message" title="no activity in 7 days">Aleksandar Makelov</a>
</li>
<li>
<a href="http://angadhsympy.wordpress.com/feed/" title="subscribe"><img src="images/feed-icon-10x10.png" alt="(feed)"></a> <a href="http://angadhsympy.wordpress.com" class="message" title="no activity in 7 days">Angadh Nanjangud</a>
</li>
<li>
<a href="http://www.blogger.com/feeds/283806077182880539/posts/default" title="subscribe"><img src="images/feed-icon-10x10.png" alt="(feed)"></a> <a href="http://gsocblog.blogspot.com/" title="GSoC 2014 with SymPy">Avichal Dayal</a>
</li>
<li>
<a href="http://www.catchmrbharath.in/programming.xml" title="subscribe"><img src="images/feed-icon-10x10.png" alt="(feed)"></a> <a class="message" title="404: not found">Bharath M R</a>
</li>
<li>
<a href="http://brianegranger.com/?feed=rss2" title="subscribe"><img src="images/feed-icon-10x10.png" alt="(feed)"></a> <a href="http://brianegranger.com" class="message" title="internal server error">Brian Granger</a>
</li>
<li>
<a href="http://www.blogger.com/feeds/267967203861801529/posts/default/-/SymPy" title="subscribe"><img src="images/feed-icon-10x10.png" alt="(feed)"></a> <a href="http://straightupcoding.blogspot.com/search/label/SymPy" class="message" title="no activity in 7 days">Brian Jorgensen</a>
</li>
<li>
<a href="http://geekiology.wordpress.com/feed/" title="subscribe"><img src="images/feed-icon-10x10.png" alt="(feed)"></a> <a href="http://geekiology.wordpress.com" class="message" title="no activity in 7 days">Chetna Gupta</a>
</li>
<li>
<a href="http://www.blogger.com/feeds/5997157115341007565/posts/default" title="subscribe"><img src="images/feed-icon-10x10.png" alt="(feed)"></a> <a href="http://lasympy.blogspot.com/" class="message" title="no activity in 7 days">Chris Wu</a>
</li>
<li>
<a href="http://www.blogger.com/feeds/22566012/posts/default/-/sympy" title="subscribe"><img src="images/feed-icon-10x10.png" alt="(feed)"></a> <a href="http://haz-tech.blogspot.com/search/label/sympy" class="message" title="no activity in 7 days">Christian Muise</a>
</li>
<li>
<a href="http://csousahome.wordpress.com/tag/sympy/feed/" title="subscribe"><img src="images/feed-icon-10x10.png" alt="(feed)"></a> <a href="http://csousahome.wordpress.com" class="message" title="no activity in 7 days">Cristóvão Sousa</a>
</li>
<li>
<a href="http://dlpeterson.com/blog/?feed=rss2" title="subscribe"><img src="images/feed-icon-10x10.png" alt="(feed)"></a> <a href="http://dlpeterson.com/blog" class="message" title="404: not found">Dale Peterson</a>
</li>
<li>
<a href="http://wdjoyner.wordpress.com/category/sympy/feed/" title="subscribe"><img src="images/feed-icon-10x10.png" alt="(feed)"></a> <a href="http://wdjoyner.wordpress.com" class="message" title="no activity in 7 days">David Joyner</a>
</li>
<li>
<a href="" title="subscribe"><img src="images/feed-icon-10x10.png" alt="(feed)"></a> <a class="message" title="404: not found">Django-SymPy</a>
</li>
<li>
<a href="http://fa.bianp.net/blog/feed/" title="subscribe"><img src="images/feed-icon-10x10.png" alt="(feed)"></a> <a href="http://fa.bianp.net/blog/" title="I say things">Fabian Pedregosa</a>
</li>
<li>
<a href="http://www.blogger.com/feeds/7648717043547744590/posts/default" title="subscribe"><img src="images/feed-icon-10x10.png" alt="(feed)"></a> <a href="http://gsoc-mathtex.blogspot.com/" class="message" title="no activity in 7 days">Freddie Witherden</a>
</li>
<li>
<a href="http://www.blogger.com/feeds/4754734402679928849/posts/default/-/sympy" title="subscribe"><img src="images/feed-icon-10x10.png" alt="(feed)"></a> <a href="http://fredrik-j.blogspot.com/search/label/sympy" class="message" title="no activity in 7 days">Fredrik Johansson</a>
</li>
<li>
<a href="http://gilbertgede.wordpress.com/feed/" title="subscribe"><img src="images/feed-icon-10x10.png" alt="(feed)"></a> <a href="http://gilbertgede.wordpress.com" class="message" title="no activity in 7 days">Gilbert Gede</a>
</li>
<li>
<a href="http://rhoforsympy.wordpress.com/feed/" title="subscribe"><img src="images/feed-icon-10x10.png" alt="(feed)"></a> <a href="http://rhoforsympy.wordpress.com" class="message" title="no activity in 7 days">Guru Devanla</a>
</li>
<li>
<a href="https://hargup.github.io/rss.xml" title="subscribe"><img src="images/feed-icon-10x10.png" alt="(feed)"></a> <a href="https://hargup.github.io/" title="Harsh's blog">Harsh Gupta</a>
</li>
<li>
<a href="http://f1728.wordpress.com/category/SymPy/feed/" title="subscribe"><img src="images/feed-icon-10x10.png" alt="(feed)"></a> <a href="http://f1728.wordpress.com" class="message" title="no activity in 7 days">Jeremias Yehdegho</a>
</li>
<li>
<a href="http://jcrist.github.io/feeds/gsoc.atom.xml" title="subscribe"><img src="images/feed-icon-10x10.png" alt="(feed)"></a> <a href="http://jcrist.github.io/" title="Marginally Stable">Jim Crist</a>
</li>
<li>
<a href="http://sophiessympyblog.wordpress.com/feed/" title="subscribe"><img src="images/feed-icon-10x10.png" alt="(feed)"></a> <a href="http://sophiessympyblog.wordpress.com" class="message" title="no activity in 7 days">Katja Sophie Hotz</a>
</li>
<li>
<a href="" title="subscribe"><img src="images/feed-icon-10x10.png" alt="(feed)"></a> <a class="message" title="404: not found">Kazuo Thow</a>
</li>
<li>
<a href="http://kundankumar185.wordpress.com/feed/" title="subscribe"><img src="images/feed-icon-10x10.png" alt="(feed)"></a> <a href="http://kundankumar185.wordpress.com" title="my experiments with life">Kundan Kumar</a>
</li>
<li>
<a href="http://matthewrocklin.com/blog//feed.sympy.xml" title="subscribe"><img src="images/feed-icon-10x10.png" alt="(feed)"></a> <a href="http://matthewrocklin.com/blog/" class="message" title="no activity in 7 days">MRocklin</a>
</li>
<li>
<a href="http://manojbits.wordpress.com/category/sympy-2/feed/" title="subscribe"><img src="images/feed-icon-10x10.png" alt="(feed)"></a> <a href="http://manojbits.wordpress.com" class="message" title="no activity in 7 days">Manoj Kumar</a>
</li>
<li>
<a href="http://meclark256.wordpress.com/feed/" title="subscribe"><img src="images/feed-icon-10x10.png" alt="(feed)"></a> <a href="http://meclark256.wordpress.com" class="message" title="no activity in 7 days">Mary Clark</a>
</li>
<li>
<a href="http://www.blogger.com/feeds/9135222751616024074/posts/default" title="subscribe"><img src="images/feed-icon-10x10.png" alt="(feed)"></a> <a href="http://mattjcurry.blogspot.com/" class="message" title="no activity in 7 days">Matthew Curry</a>
</li>
<li>
<a href="http://sympystats.wordpress.com/feed/" title="subscribe"><img src="images/feed-icon-10x10.png" alt="(feed)"></a> <a href="http://sympystats.wordpress.com" class="message" title="no activity in 7 days">Matthew Rocklin</a>
</li>
<li>
<a href="http://www.blogger.com/feeds/2520472460430880330/posts/default" title="subscribe"><img src="images/feed-icon-10x10.png" alt="(feed)"></a> <a href="http://sympy.blogspot.com/" class="message" title="no activity in 7 days">Official SymPy blog</a>
</li>
<li>
<a href="http://www.blogger.com/feeds/6568744196982634289/posts/default/-/sympy" title="subscribe"><img src="images/feed-icon-10x10.png" alt="(feed)"></a> <a href="http://ondrejcertik.blogspot.com/search/label/sympy" class="message" title="no activity in 7 days">Ondřej Čertík</a>
</li>
<li>
<a href="http://musingsofafriend.wordpress.com/tag/sympy/feed/" title="subscribe"><img src="images/feed-icon-10x10.png" alt="(feed)"></a> <a href="http://musingsofafriend.wordpress.com" class="message" title="no activity in 7 days">Prasoon Shukla</a>
</li>
<li>
<a href="http://www.blogger.com/feeds/436496352933562096/posts/default" title="subscribe"><img src="images/feed-icon-10x10.png" alt="(feed)"></a> <a href="http://robert-code.blogspot.com/" class="message" title="no activity in 7 days">Robert Schwarz</a>
</li>
<li>
<a href="http://codesachin.wordpress.com/category/google-summer-of-code-2014/feed/" title="subscribe"><img src="images/feed-icon-10x10.png" alt="(feed)"></a> <a href="http://codesachin.wordpress.com" title="Dream. Think. Code. » Google Summer of Code 2014">Sachin Joglekar</a>
</li>
<li>
<a href="http://saptman.wordpress.com/feed/" title="subscribe"><img src="images/feed-icon-10x10.png" alt="(feed)"></a> <a href="http://saptman.wordpress.com" class="message" title="no activity in 7 days">Saptarshi Mandal</a>
</li>
<li>
<a href="http://www.blogger.com/feeds/2736678015821545355/posts/default" title="subscribe"><img src="images/feed-icon-10x10.png" alt="(feed)"></a> <a href="http://sympymatrix.blogspot.com/" class="message" title="no activity in 7 days">Saurabh Jha</a>
</li>
<li>
<a href="http://www.blogger.com/feeds/8510171342300140296/posts/default/-/sympy" title="subscribe"><img src="images/feed-icon-10x10.png" alt="(feed)"></a> <a href="http://seanvig.blogspot.com/search/label/sympy" class="message" title="no activity in 7 days">Sean Vig</a>
</li>
<li>
<a href="http://scolobb.wordpress.com/feed/" title="subscribe"><img src="images/feed-icon-10x10.png" alt="(feed)"></a> <a href="http://scolobb.wordpress.com" class="message" title="no activity in 7 days">Sergiu Ivanov</a>
</li>
<li>
<a href="http://sherjilozair.wordpress.com/feed/" title="subscribe"><img src="images/feed-icon-10x10.png" alt="(feed)"></a> <a href="http://sherjilozair.wordpress.com" class="message" title="no activity in 7 days">Sherjil Ozair</a>
</li>
<li>
<a href="http://blog.s-d-b.com/category/sympy/feed/" title="subscribe"><img src="images/feed-icon-10x10.png" alt="(feed)"></a> <a href="http://blog.s-d-b.com" title="SDB's Blog » SymPy">Soumya Dipta Biswas</a>
</li>
<li>
<a href="http://krastanov.wordpress.com/category/sympy-2/feed/" title="subscribe"><img src="images/feed-icon-10x10.png" alt="(feed)"></a> <a href="http://krastanov.wordpress.com" class="message" title="no activity in 7 days">Stefan Krastanov</a>
</li>
<li>
<a href="http://www.blogger.com/feeds/8847459392628952171/posts/default/-/sympy" title="subscribe"><img src="images/feed-icon-10x10.png" alt="(feed)"></a> <a href="http://lifelesscode.blogspot.com/search/label/sympy" title="Shortlog">Sudhanshu Mishra</a>
</li>
<li>
<a href="http://sushant-hiray.in/feed.gsoc.xml" title="subscribe"><img src="images/feed-icon-10x10.png" alt="(feed)"></a> <a href="http://sushant-hiray.in" class="message" title="no activity in 7 days">Sushant Hiray</a>
</li>
<li>
<a href="http://tarzzz.github.io/rss.gsoc.xml" title="subscribe"><img src="images/feed-icon-10x10.png" alt="(feed)"></a> <a href="http://tarzzz.github.io/gsoc14" title="Tarun Gaba's blog - GSoC">Tarun Gaba</a>
</li>
<li>
<a href="http://thilinaatsympy.wordpress.com/feed/" title="subscribe"><img src="images/feed-icon-10x10.png" alt="(feed)"></a> <a href="http://thilinaatsympy.wordpress.com" title="Thilina's SymPy Blog">Thilina Rathnayake</a>
</li>
<li>
<a href="http://nessgrh.wordpress.com/feed/" title="subscribe"><img src="images/feed-icon-10x10.png" alt="(feed)"></a> <a href="http://nessgrh.wordpress.com" class="message" title="no activity in 7 days">Tom Bachmann</a>
</li>
<li>
<a href="http://lazovichsympy.wordpress.com/feed/" title="subscribe"><img src="images/feed-icon-10x10.png" alt="(feed)"></a> <a href="http://lazovichsympy.wordpress.com" class="message" title="no activity in 7 days">Tomo Lazovich</a>
</li>
<li>
<a href="https://sites.google.com/feeds/content/site/v9joshi?parent=5420265600325595988&amp;kind=announcement" title="subscribe"><img src="images/feed-icon-10x10.png" alt="(feed)"></a> <a class="message" title="no activity in 7 days">Varun Joshi</a>
</li>
<li>
<a href="http://www.blogger.com/feeds/8814696591561172392/posts/default/-/SymPy" title="subscribe"><img src="images/feed-icon-10x10.png" alt="(feed)"></a> <a href="http://vperic.blogspot.com/search/label/SymPy" class="message" title="no activity in 7 days">Vladimir Perić</a>
</li>
<li>
<a href="http://ojensen.wordpress.com/feed/" title="subscribe"><img src="images/feed-icon-10x10.png" alt="(feed)"></a> <a href="http://ojensen.wordpress.com" class="message" title="no activity in 7 days">Øyvind Jensen</a>
</li>
</ul>

<p>
<strong>Last updated:</strong><br>
June 23, 2014 01:21 AM<br>
<em>All times are UTC.</em><br>
<br>
Powered by:<br>
<a href="http://www.planetplanet.org/"><img src="images/planet.png" width="80" height="15" alt="Planet" border="0"></a>
</p>

<p>
<h2>Planetarium:</h2>
<ul>
<li><a href="http://planet.scipy.org/">Planet SciPy</a></li>
<li><a href="http://planet.python.org/">Planet Python</a></li>
<li><a href="http://planet.sagemath.org/">Planet Sage</a></li>
</ul>
</p>
</div>
</body>

</html>
