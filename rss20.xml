<?xml version="1.0"?>
<rss version="2.0">

<channel>
	<title>Planet SymPy</title>
	<link>http://planet.sympy.org/</link>
	<language>en</language>
	<description>Planet SymPy - http://planet.sympy.org/</description>

<item>
	<title>Sushant Hiray: GSoC Week 10: Complex Complexions Resolved</title>
	<guid isPermaLink="true">http://sushant-hiray.in/posts/gsoc/csympy-week10/</guid>
	<link>http://sushant-hiray.in/posts/gsoc/csympy-week10/</link>
	<description>&lt;p&gt;After a significant amount of work in the past couple of weeks, I’ve finally completed the Complex Module.&lt;/p&gt;

&lt;h1 id=&quot;progress&quot;&gt;Progress&lt;/h1&gt;

&lt;p&gt;This week I merged &lt;a href=&quot;https://github.com/sympy/csympy/pull/248&quot;&gt;PR 248&lt;/a&gt; which covered almost the entire of the complex module.
&lt;br /&gt;&lt;br /&gt;
After merging this PR, Complex Numbers and &lt;code&gt;I&lt;/code&gt; could be used in sync with other existing modules in CSymPy.
&lt;a href=&quot;https://github.com/certik&quot;&gt;@certik&lt;/a&gt; refined the Python wrappers to integrate the Complex Module.
Here are the some of the things which could be done using CSymPy python wrappers:
&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;python&quot;&gt;&lt;span class=&quot;n&quot;&gt;In&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]:&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;csympy&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;In&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;I&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;Out&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;I&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;In&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;I&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;**&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;Out&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]:&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;In&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;I&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;Out&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;I&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;In&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]:&lt;/span&gt;  &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;I&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;**&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;Out&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;I&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;In&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;I&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;**&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;Out&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;I&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;In&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Symbol&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'x'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;In&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;I&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;Out&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;I&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;In&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;9&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;I&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;expand&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;Out&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;9&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;I&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;^&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;In&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;I&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;**&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;expand&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;Out&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]:&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;I&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;^&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;br /&gt;&lt;br /&gt;
The other major work in this week was to work on the expansion of integral powers of complex number.
&lt;a href=&quot;https://github.com/sympy/csympy/pull/264&quot;&gt;Pull 264&lt;/a&gt; was created to add this functionality. We used a particularly simple yet efficient algorithm to compute the integral power.&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;python&quot;&gt;&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;powu&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;mask&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;r&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mask&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;and&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;n&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;mask&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;n&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;mask&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;r&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;p&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;mask&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&amp;lt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;p&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;p&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;r&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;br /&gt;&lt;br /&gt;
The current expand is a bit slower than what we were expecting. We will be looking to improve the speed in the coming days.
&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h1 id=&quot;the-week-ahead&quot;&gt;The Week Ahead&lt;/h1&gt;
&lt;p&gt;As per the proposal, I will be implementing the Zeta Function.&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;
Thats all for now :) Will get back next week!&lt;/p&gt;</description>
	<pubDate>Sun, 27 Jul 2014 19:05:00 +0000</pubDate>
</item>
<item>
	<title>Kundan Kumar: Week 10: Test cases in checksysodesol</title>
	<guid isPermaLink="true">http://kundankumar185.wordpress.com/2014/07/27/week-10-test-cases-in-checksysodesol/</guid>
	<link>http://kundankumar185.wordpress.com/2014/07/27/week-10-test-cases-in-checksysodesol/</link>
	<description>&lt;p&gt;I am finally in college, going through a long journey from home. Its final year for me now, got a very tight schedule.&lt;/p&gt;
&lt;p&gt;I have updated the checksysodesol with test cases. The test cases includes the equations from first and second order linear and non-linear system of ODEs. I debugged few methods of system of ODEs, find out through checksysodesol.&lt;/p&gt;
&lt;p&gt;The updated &lt;em&gt;func&lt;/em&gt; method &lt;a href=&quot;https://github.com/sympy/sympy/pull/7738&quot;&gt;PR&lt;/a&gt; is merged which closes issues &lt;a href=&quot;https://github.com/sympy/sympy/issues/7736&quot;&gt;#7736&lt;/a&gt; and &lt;a href=&quot;https://github.com/sympy/sympy/issues/7723&quot;&gt;#7723&lt;/a&gt;. The &lt;a href=&quot;https://github.com/sympy/sympy/pull/7703&quot;&gt;PR&lt;/a&gt; of non-linear of system of ODEs and &lt;a href=&quot;https://github.com/sympy/sympy/pull/7746&quot;&gt;PR&lt;/a&gt; of checksysodesol is open.&lt;/p&gt;
&lt;p&gt;Today I will add all the test cases in checksysodesol and start a PR for non-linear system of ODEs of 2nd order.&lt;/p&gt;&lt;br /&gt;  &lt;a href=&quot;http://feeds.wordpress.com/1.0/gocomments/kundankumar185.wordpress.com/124/&quot; rel=&quot;nofollow&quot;&gt;&lt;img src=&quot;http://feeds.wordpress.com/1.0/comments/kundankumar185.wordpress.com/124/&quot; alt=&quot;&quot; border=&quot;0&quot; /&gt;&lt;/a&gt; &lt;img src=&quot;http://pixel.wp.com/b.gif?host=kundankumar185.wordpress.com&amp;amp;blog=68025302&amp;amp;post=124&amp;amp;subd=kundankumar185&amp;amp;ref=&amp;amp;feed=1&quot; alt=&quot;&quot; border=&quot;0&quot; width=&quot;1&quot; height=&quot;1&quot; /&gt;</description>
	<pubDate>Sun, 27 Jul 2014 08:06:03 +0000</pubDate>
</item>
<item>
	<title>Soumya Dipta Biswas: GSoC 2014: Week 9</title>
	<guid isPermaLink="false">http://blog.s-d-b.com/?p=103</guid>
	<link>http://blog.s-d-b.com/gsoc-2014-week-9/</link>
	<description>&lt;p&gt;Hello Everyone,&lt;/p&gt;
&lt;p&gt;I finished up the changes remaining in FOL and will send in the almost final pull request this week. This was only a minor part of the week however. Before jumping on to the implementation of faster SAT, I wanted to revisit faster CNF conversion. I have tweaked things further, but it still seems like very close to CNF turns out to be quite slow. If I can’t imporove the situation any further I will post the changes I made to Tseitin. Except fo that, I worked on tweaking the parameters of SAT, basically EVSIDS, without making any actual code changes. I will be posting the results of the same later.&lt;/p&gt;
&lt;p&gt;Thats all for now. Hopefully this weekend will be quite productive.&lt;/p&gt;
&lt;p&gt;See ya all later!!!&lt;/p&gt;</description>
	<pubDate>Fri, 25 Jul 2014 12:12:15 +0000</pubDate>
</item>
<item>
	<title>Sushant Hiray: GSoC Week 9: Complexions in Complex Module</title>
	<guid isPermaLink="true">http://sushant-hiray.in/posts/gsoc/csympy-week9/</guid>
	<link>http://sushant-hiray.in/posts/gsoc/csympy-week9/</link>
	<description>&lt;p&gt;Week 9 for GSoC ended a couple of days back. I’m still working on the Complex Module.&lt;/p&gt;

&lt;h1 id=&quot;progress&quot;&gt;Progress&lt;/h1&gt;

&lt;p&gt;I started of the week continuing the work on &lt;a href=&quot;https://github.com/sympy/csympy/pull/248&quot;&gt;pull 248&lt;/a&gt;.
&lt;br /&gt;&lt;br /&gt;
Initially I started working on the &lt;code&gt;add&lt;/code&gt; and &lt;code&gt;mul&lt;/code&gt; functions and integrating the &lt;code&gt;complex&lt;/code&gt; module with them. This part was pretty easy as Complex addition and Complex multiplication was completely implemented. Intially I just added special cases for the case of Complex in &lt;code&gt;pow&lt;/code&gt;. But this quickly ran into issues as &lt;code&gt;is_canonical&lt;/code&gt; failed in some testcases.
&lt;br /&gt;&lt;br /&gt;
Next I simplified the complex power for the following cases:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;When &lt;code&gt;exp&lt;/code&gt; is 1 or -1&lt;/li&gt;
  &lt;li&gt;When the &lt;code&gt;base&lt;/code&gt; is purely imaginary and &lt;code&gt;exp&lt;/code&gt; is integer.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Following this I made appropriate changes to &lt;code&gt;is_canonical&lt;/code&gt; for &lt;code&gt;pow&lt;/code&gt;
&lt;br /&gt;&lt;br /&gt;
Meanwhile &lt;a href=&quot;https://github.com/certik&quot;&gt;@certik&lt;/a&gt; sent a couple of PR’s &lt;a href=&quot;https://github.com/sushant-hiray/csympy/pull/1&quot;&gt;sushant-hiray/csympy/#1&lt;/a&gt; and &lt;a href=&quot;https://github.com/sushant-hiray/csympy/pull/2&quot;&gt;sushant-hiray/csympy/#2&lt;/a&gt; for implementing the Python wrappers for Complex Module.
I spent some time trying to sync the wrappers and make sure they work as intended.
&lt;br /&gt;&lt;br /&gt;
One important fix needed was to improve the printing. Over the entire PR, the printing has been changed multiple times to match the SymPy output. With this PR I’ve updated the current existing printing for &lt;code&gt;add&lt;/code&gt;, &lt;code&gt;mul&lt;/code&gt; as well as &lt;code&gt;pow&lt;/code&gt;
&lt;br /&gt;&lt;br /&gt;
The &lt;code&gt;expand&lt;/code&gt; function is also updated to handle the case of Complex Numbers. Currently it doesn’t expand terms like: &lt;code&gt;(2 + 3I)^n&lt;/code&gt;. Apart from this all the issues which were found have been fixed.&lt;/p&gt;

&lt;h1 id=&quot;the-week-ahead&quot;&gt;The Week Ahead&lt;/h1&gt;
&lt;p&gt;Merge the current PR and send a new PR for handling the cases like &lt;code&gt;(2 + 3I)^n&lt;/code&gt; in &lt;code&gt;expand&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;
Thats all for now :) Will get back next week!&lt;/p&gt;</description>
	<pubDate>Wed, 23 Jul 2014 17:30:00 +0000</pubDate>
</item>
<item>
	<title>Avichal Dayal</title>
	<guid isPermaLink="false">tag:blogger.com,1999:blog-283806077182880539.post-5238978956281178700</guid>
	<link>http://gsocblog.blogspot.com/2014/07/this-week-i-converted-all-operations-on.html</link>
	<description>&lt;div style=&quot;text-align: left;&quot; dir=&quot;ltr&quot;&gt;&lt;div style=&quot;text-align: left;&quot; dir=&quot;ltr&quot;&gt;This week I converted all the operations on FPS to work with generators.&lt;br /&gt;For e.g.:-&lt;br /&gt;Addition for two series is something like&lt;br /&gt;&lt;pre style=&quot;&quot;&gt;&lt;code style=&quot;color: black;&quot;&gt; def add(s1, s2):  &lt;br /&gt;   yield s1[0] + s2[0]  &lt;br /&gt;   s1, s2 = s1.tail, s2.tail  &lt;br /&gt;   for t in add(s1, s2):  &lt;br /&gt;     yield t  &lt;br /&gt;&lt;/code&gt;&lt;/pre&gt;&lt;br /&gt;Almost all the operations use recursive generators. In this case argument to the add function is different each time.&lt;br /&gt;However in some cases the same function with same argument is called recursively.  For e.g:- In case of division&lt;br /&gt;  &lt;pre style=&quot;&quot;&gt;&lt;code style=&quot;color: black;&quot;&gt; def div(s1, s2):  &lt;br /&gt;   a, b = s1[0], s2[0]  &lt;br /&gt;   def gen():  &lt;br /&gt;     yield a/b  &lt;br /&gt;     iterator = s2 * gen()  &lt;br /&gt;     for t in iterator:  &lt;br /&gt;       yield -t/b &lt;/code&gt;&lt;/pre&gt;&lt;pre style=&quot;&quot;&gt;&lt;code style=&quot;color: black;&quot;&gt;   for t in gen():&lt;/code&gt;&lt;/pre&gt;&lt;pre style=&quot;&quot;&gt;&lt;code style=&quot;color: black;&quot;&gt;      yield t &lt;/code&gt;&lt;/pre&gt;gen() is called recursively with the same arguments (no arguments in this case). &lt;br /&gt;I'll try to optimize recursive generators if possible over the next few days.&lt;br /&gt;&lt;br /&gt;Other problem I'm facing is args of Stream class. It is necessary that args of all Basic instances should be of type Basic. But the Stream class takes a generator object as an argument.&lt;br /&gt;&lt;br /&gt;Next week:-&lt;br /&gt;- Optimize recursive generators if possible&lt;br /&gt;- Generator object as Basic instance? (Find solution for this)&lt;br /&gt;- Implement all necessary ``eval`` routines for FPS like _eval_derivative, _eval_leadterm etc.&lt;br /&gt;&lt;br /&gt;&lt;/div&gt;&lt;/div&gt;</description>
	<pubDate>Tue, 22 Jul 2014 13:11:51 +0000</pubDate>
	<author>noreply@blogger.com (Avichal Dayal)</author>
</item>
<item>
	<title>Akshay Narasimha: Gsoc Week-9</title>
	<guid isPermaLink="false">tag:blogger.com,1999:blog-54146973659574488.post-6754341602192868346</guid>
	<link>http://geekpy.blogspot.com/2014/07/gsoc-week-9.html</link>
	<description>&lt;div style=&quot;text-align: left;&quot; dir=&quot;ltr&quot;&gt;Sorry for the late post as I had to travel a lot this week. Other than that I finished the implementation of the Hyperbola class including the tests. &lt;a href=&quot;https://github.com/sympy/sympy/pull/7709&quot;&gt;Here&lt;/a&gt; is the link to the PR. Apart from that I fixed a few bugs in the Plane and Line3D class.&lt;br /&gt;&lt;br /&gt;This week I plan to implement the Parabola class and hopefully will get the PR on Hyperbola merged.&lt;br /&gt;&lt;br /&gt;Until then cheers! &lt;/div&gt;</description>
	<pubDate>Tue, 22 Jul 2014 06:05:07 +0000</pubDate>
	<author>noreply@blogger.com (Akshay Narasimha)</author>
</item>
<item>
	<title>Sudhanshu Mishra: GSoC'14 Progress: Finished refraction at planar surface</title>
	<guid isPermaLink="false">tag:blogger.com,1999:blog-8847459392628952171.post-5816144129540344738</guid>
	<link>http://blog.sudhanshumishra.in/2014/07/gsoc14-progress-finished-refraction-at.html</link>
	<description>&lt;div style=&quot;text-align: left;&quot; dir=&quot;ltr&quot;&gt;&lt;div style=&quot;color: #444444; font-family: Arvo, 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 13px; line-height: 18px; margin-bottom: 9px;&quot;&gt;I'm sorry for this delayed post. I couldn't work last week due to some other issues so had nothing much to report.&lt;/div&gt;&lt;div style=&quot;color: #444444; font-family: Arvo, 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 13px; line-height: 18px; margin-bottom: 9px;&quot;&gt;This week I completed refraction function for planar surface, fixed some bugs and wrote tests for it. I also added a function to calculate angle of deviation. Details can be found on the following link&lt;/div&gt;&lt;div style=&quot;color: #444444; font-family: Arvo, 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 13px; line-height: 18px; margin-bottom: 9px;&quot;&gt;&lt;a style=&quot;color: blue;&quot; href=&quot;https://github.com/sympy/sympy/pull/7626&quot;&gt;https://github.com/sympy/sympy/pull/7626&lt;/a&gt;&lt;/div&gt;&lt;div style=&quot;color: #444444; font-family: Arvo, 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 13px; line-height: 18px; margin-bottom: 9px;&quot;&gt;I'm waiting for Sean to start reviewing this.&lt;/div&gt;&lt;div style=&quot;color: #444444; font-family: Arvo, 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 13px; line-height: 18px; margin-bottom: 9px;&quot;&gt;My next priority is to complete a pending PR on mirrors.&lt;/div&gt;&lt;/div&gt;</description>
	<pubDate>Sun, 20 Jul 2014 14:32:41 +0000</pubDate>
	<author>noreply@blogger.com (Sudhanshu Mishra)</author>
</item>
<item>
	<title>Kundan Kumar: Week 9: Checksysodesol</title>
	<guid isPermaLink="false">http://kundankumar185.wordpress.com/?p=122</guid>
	<link>http://kundankumar185.wordpress.com/2014/07/20/week-9-checksysodesol/</link>
	<description>&lt;p&gt;This week a lot of time is spent debugging solutions. The &lt;a href=&quot;https://github.com/sympy/sympy/pull/7738&quot;&gt;PR&lt;/a&gt; solves the issue &lt;a href=&quot;https://github.com/sympy/sympy/issues/7736&quot;&gt;#7736&lt;/a&gt; and &lt;a href=&quot;https://github.com/sympy/sympy/issues/7723&quot;&gt;#7723&lt;/a&gt; which was arising due to wrong calculation of &lt;em&gt;func &lt;/em&gt;method while solving non-linear system of ODEs of type5. I sent another &lt;a href=&quot;https://github.com/sympy/sympy/pull/7746&quot;&gt;PR&lt;/a&gt; which contains Checksysodesol, a method for checking the solution of system of ODEs. The PR remains to be updated with the test cases.&lt;/p&gt;
&lt;p&gt;The &lt;a href=&quot;https://github.com/sympy/sympy/pull/7703&quot;&gt;PR&lt;/a&gt; of non-linear system of ODEs of three equation for 1st order still remains to be merged.&lt;/p&gt;
&lt;p&gt;Thats all for this week. On monday I will be going to my college, hope to work harder there. The most haunting thing at home is electricity, having tough time with it sometime getting meagerly for 3-4 hrs a day. Well thats home, I suppose, getting a delicious meal of mom’s hand.&lt;/p&gt;&lt;br /&gt;  &lt;a href=&quot;http://feeds.wordpress.com/1.0/gocomments/kundankumar185.wordpress.com/122/&quot; rel=&quot;nofollow&quot;&gt;&lt;img src=&quot;http://feeds.wordpress.com/1.0/comments/kundankumar185.wordpress.com/122/&quot; alt=&quot;&quot; border=&quot;0&quot; /&gt;&lt;/a&gt; &lt;img src=&quot;http://pixel.wp.com/b.gif?host=kundankumar185.wordpress.com&amp;amp;blog=68025302&amp;amp;post=122&amp;amp;subd=kundankumar185&amp;amp;ref=&amp;amp;feed=1&quot; alt=&quot;&quot; border=&quot;0&quot; width=&quot;1&quot; height=&quot;1&quot; /&gt;</description>
	<pubDate>Sun, 20 Jul 2014 10:13:27 +0000</pubDate>
</item>
<item>
	<title>Thilina Rathnayake: [GSoC] Week 9: Matrix Inverse and Sparse Matrices</title>
	<guid isPermaLink="false">http://thilinaatsympy.wordpress.com/?p=377</guid>
	<link>http://thilinaatsympy.wordpress.com/2014/07/20/gsoc-week-9-matrix-inverse-and-sparse-matrices/</link>
	<description>&lt;p&gt;Hi All, Sorry for a late blog post. I was kind of busy during last week, preparing for a competition.&lt;/p&gt;
&lt;p&gt;During the last week, I mainly did two things, implementing matrix inverse and starting the implementation of sparse matrices.&lt;/p&gt;
&lt;h1&gt;Implementing Matrix Inverse&lt;/h1&gt;
&lt;p&gt;I implemented matrix inverse in two different methods, using Gauss Jordan elimination and fraction free LU decomposition. I had only implemented gauss Jordan elimination to solve a system &lt;img src=&quot;http://s0.wp.com/latex.php?latex=Ax+%3D+b&amp;amp;bg=eff1f5&amp;amp;fg=444444&amp;amp;s=0&quot; alt=&quot;Ax = b&quot; class=&quot;latex&quot; title=&quot;Ax = b&quot; /&gt; where &lt;img src=&quot;http://s0.wp.com/latex.php?latex=b&amp;amp;bg=eff1f5&amp;amp;fg=444444&amp;amp;s=0&quot; alt=&quot;b&quot; class=&quot;latex&quot; title=&quot;b&quot; /&gt; is a column matrix. I had to enhance the algorithm so that it can be used to solve several systems at once, i.e. &lt;img src=&quot;http://s0.wp.com/latex.php?latex=b&amp;amp;bg=eff1f5&amp;amp;fg=444444&amp;amp;s=0&quot; alt=&quot;b&quot; class=&quot;latex&quot; title=&quot;b&quot; /&gt; can be a collection of column matrix.&lt;/p&gt;
&lt;p&gt;This was not a problem in fraction free LU method because &lt;img src=&quot;http://s0.wp.com/latex.php?latex=L&amp;amp;bg=eff1f5&amp;amp;fg=444444&amp;amp;s=0&quot; alt=&quot;L&quot; class=&quot;latex&quot; title=&quot;L&quot; /&gt; and &lt;img src=&quot;http://s0.wp.com/latex.php?latex=U&amp;amp;bg=eff1f5&amp;amp;fg=444444&amp;amp;s=0&quot; alt=&quot;U&quot; class=&quot;latex&quot; title=&quot;U&quot; /&gt; factors can be used to solve column vectors &lt;img src=&quot;http://s0.wp.com/latex.php?latex=e_%7B1%7D%2C+e_%7B2%7D%2C+.+.+.+e_%7Bn%7D&amp;amp;bg=eff1f5&amp;amp;fg=444444&amp;amp;s=0&quot; alt=&quot;e_{1}, e_{2}, . . . e_{n}&quot; class=&quot;latex&quot; title=&quot;e_{1}, e_{2}, . . . e_{n}&quot; /&gt; after calculating &lt;img src=&quot;http://s0.wp.com/latex.php?latex=L&amp;amp;bg=eff1f5&amp;amp;fg=444444&amp;amp;s=0&quot; alt=&quot;L&quot; class=&quot;latex&quot; title=&quot;L&quot; /&gt; and &lt;img src=&quot;http://s0.wp.com/latex.php?latex=U&amp;amp;bg=eff1f5&amp;amp;fg=444444&amp;amp;s=0&quot; alt=&quot;U&quot; class=&quot;latex&quot; title=&quot;U&quot; /&gt; once.&lt;/p&gt;
&lt;h1&gt;Implementing Sparse Matrices&lt;/h1&gt;
&lt;p&gt;We decided to adapt the implementation of SciPy sparse matrices. For the time being I have implemented CSR form of a sparse matrix. CSR is an acronym for “Compress Sparse Row”. You can learn more about it in the following links.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://en.wikipedia.org/wiki/Sparse_matrix#Compressed_sparse_row_.28CSR_or_CRS.29&quot;&gt;Wiki Article&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://netlib.org/linalg/html_templates/node91.html#SECTION00931100000000000000&quot;&gt;Netlib Article&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;You can find information about scipy implementation of CSR matrices &lt;a href=&quot;http://docs.scipy.org/doc/scipy/reference/generated/scipy.sparse.csr_matrix.html&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;&lt;br /&gt;  &lt;a href=&quot;http://feeds.wordpress.com/1.0/gocomments/thilinaatsympy.wordpress.com/377/&quot; rel=&quot;nofollow&quot;&gt;&lt;img src=&quot;http://feeds.wordpress.com/1.0/comments/thilinaatsympy.wordpress.com/377/&quot; alt=&quot;&quot; border=&quot;0&quot; /&gt;&lt;/a&gt; &lt;img src=&quot;http://pixel.wp.com/b.gif?host=thilinaatsympy.wordpress.com&amp;amp;blog=52956410&amp;amp;post=377&amp;amp;subd=thilinaatsympy&amp;amp;ref=&amp;amp;feed=1&quot; alt=&quot;&quot; border=&quot;0&quot; width=&quot;1&quot; height=&quot;1&quot; /&gt;</description>
	<pubDate>Sun, 20 Jul 2014 08:32:25 +0000</pubDate>
</item>
<item>
	<title>Harsh Gupta: week 9</title>
	<guid isPermaLink="true">https://hargup.github.io/posts/week-9.html</guid>
	<link>https://hargup.github.io/posts/week-9.html</link>
	<description>&lt;p&gt;This week I moved back to college and my classes have restarted. This week
I worked on a PR to allow infinitely indexed &lt;code&gt;Range&lt;/code&gt;. See
https://github.com/sympy/sympy/pull/7741. While doing this PR I discovered
that you cannot monkey patch &lt;code&gt;object&lt;/code&gt; to assign some attribute. And I want to
mention that Sergey(one of my mentors) is damn good reviewer.&lt;/p&gt;</description>
	<pubDate>Sat, 19 Jul 2014 18:50:01 +0000</pubDate>
</item>
<item>
	<title>Sachin Joglekar: GSoC Week 9: Dyadics done</title>
	<guid isPermaLink="true">http://codesachin.wordpress.com/2014/07/19/gsoc-week-9-dyadics-done/</guid>
	<link>http://codesachin.wordpress.com/2014/07/19/gsoc-week-9-dyadics-done/</link>
	<description>&lt;p&gt;Not much to report this week, except that the code for dyadics is now done, with a all-tests-passing PR being pushed. A happy moment was the basic vector framework code finally getting pushed. Phew &lt;span class=&quot;wp-smiley emoji emoji-smile&quot; title=&quot;:-)&quot;&gt;:-)&lt;/span&gt;. Now the next PR in line is the dyadics one itself.&lt;br /&gt;
I also spent time mapping out the API for the Rotator classes, which I will proceed to discuss with Jason during this week’s meeting. I am still a little doubtful about how useful these classes may be, API wise. Lets see about this one.&lt;br /&gt;
A problem that I am facing currently is the confusion about the Del operator. I started out trying to write it as a SymPy function, but then I realised that the _outputs_ from the methods of Del should be the ones being defined as unevaluated functions- like Gradient, Divergence, etc. Will have to take this up with Jason too.&lt;/p&gt;
&lt;p&gt;Anyways, I hope the dyadics code goes in soon, and I plan to send one or two PRs with more functionality soon. Till then, have a great week!&lt;/p&gt;&lt;br /&gt;  &lt;a href=&quot;http://feeds.wordpress.com/1.0/gocomments/codesachin.wordpress.com/22/&quot; rel=&quot;nofollow&quot;&gt;&lt;img src=&quot;http://feeds.wordpress.com/1.0/comments/codesachin.wordpress.com/22/&quot; alt=&quot;&quot; border=&quot;0&quot; /&gt;&lt;/a&gt; &lt;img src=&quot;http://pixel.wp.com/b.gif?host=codesachin.wordpress.com&amp;amp;blog=67602166&amp;amp;post=22&amp;amp;subd=codesachin&amp;amp;ref=&amp;amp;feed=1&quot; alt=&quot;&quot; border=&quot;0&quot; width=&quot;1&quot; height=&quot;1&quot; /&gt;</description>
	<pubDate>Sat, 19 Jul 2014 18:02:37 +0000</pubDate>
</item>
<item>
	<title>Jim Crist: GSoC Week 9: Docs!</title>
	<guid isPermaLink="false">tag:,2014-07-18:gsoc-week-9.html</guid>
	<link>http://jcrist.github.io/gsoc-week-9.html</link>
	<description>&lt;p&gt;This week I spent time on all sorts of little things:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Finished up the refactoring of &lt;code&gt;KanesMethod&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Little fixes to &lt;a href=&quot;https://github.com/sympy/sympy/pull/7681&quot;&gt;my current PR&lt;/a&gt;. Just
  waiting on my mentors to review this, I want to get it merged soon-ish.&lt;/li&gt;
&lt;li&gt;Documentation.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Writing documentation is the worst&lt;sup id=&quot;fnref:1&quot;&gt;&lt;a href=&quot;http://jcrist.github.io/feeds/gsoc.atom.xml#fn:1&quot; class=&quot;footnote-ref&quot; rel=&quot;footnote&quot;&gt;1&lt;/a&gt;&lt;/sup&gt;. After taking time to implement all sorts
of new interesting things, the last thing I want to do is go back and write about
them in detail. Which is why it's so important to do early on. &lt;em&gt;Good&lt;/em&gt;
documentation needs to accomplish three things:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Provide motivation for &lt;em&gt;why&lt;/em&gt; your software is necessary/better/useful.&lt;/li&gt;
&lt;li&gt;Describe the user interface, showing &lt;em&gt;how&lt;/em&gt; to use each function or class.&lt;/li&gt;
&lt;li&gt;Provide real world &lt;em&gt;examples&lt;/em&gt; showing how to tie everything together.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Python's documentation is interesting in that there are varying ways to do it.
Some of Sympy's documentation is just a nicely rendered form of the docstrings
for all the methods. Other modules have a more prose-y explanation of their
functionality. &lt;code&gt;mechanics&lt;/code&gt; is one of those modules.&lt;/p&gt;
&lt;p&gt;In my opinion the prose documentation approach is the better way.
Having good docstrings is important, but they aren't the end-all of
documentation&lt;sup id=&quot;fnref:2&quot;&gt;&lt;a href=&quot;http://jcrist.github.io/feeds/gsoc.atom.xml#fn:2&quot; class=&quot;footnote-ref&quot; rel=&quot;footnote&quot;&gt;2&lt;/a&gt;&lt;/sup&gt;. Of course, if I have a question the first thing I'm going to
do is read the docstrings (IPython makes this trivially easy). Only if I still
have questions afterwards will I turn to the online documentation. However, it'd
be extremely off-putting if the online documentation was just the docstrings
again.&lt;/p&gt;
&lt;p&gt;With the various changes I've made so far I needed to:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Update the &lt;code&gt;LagrangesMethod&lt;/code&gt; documentation to reflect the interface change.&lt;/li&gt;
&lt;li&gt;Create a documentation page all about the linearization methods.&lt;/li&gt;
&lt;li&gt;Update all the examples to reflect the new functionality.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;All of these are &quot;done&quot;. I still need to go through and proofread, but overall
I'd say that the current state of the documentation is acceptable. I would like
to take some time to reorganize the layout of the whole &lt;code&gt;mechanics&lt;/code&gt; documentation
at some point. The current layout isn't the easiest to navigate for what you're
looking for.&lt;/p&gt;
&lt;p&gt;With this out of the way, the linearization portion of my project is tentatively
done. I say tentatively because I'm still waiting on my PRs to get merged, and 
am also still playing around with solving &lt;a href=&quot;http://jcrist.github.io/gsoc-week-8.html&quot;&gt;the &lt;code&gt;nan&lt;/code&gt; issue&lt;/a&gt;
that I've been writing about these last couple weeks.&lt;/p&gt;
&lt;p&gt;With that done, I hope to move on to code generation. I've read the current code
generation code and documentation, as well as &lt;a href=&quot;https://github.com/pydy/pydy/wiki/codegen-planning&quot;&gt;this pydy wiki page&lt;/a&gt;
on Jason's ideas about code generation. I'm still a little iffy about the intention
of this functionality, so I'm waiting until we can all meet to discuss what needs
to be done. That was supposed to have happened this week, but fell through.
Hopefully we can set some time aside next week, and I can finally get to work
on it.&lt;/p&gt;
&lt;div class=&quot;footnote&quot;&gt;
&lt;hr /&gt;
&lt;ol&gt;
&lt;li id=&quot;fn:1&quot;&gt;
&lt;p&gt;Not actually the worst. &lt;a href=&quot;http://jcrist.github.io/feeds/gsoc.atom.xml#fnref:1&quot; rev=&quot;footnote&quot; class=&quot;footnote-backref&quot; title=&quot;Jump back to footnote 1 in the text&quot;&gt;↩&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&quot;fn:2&quot;&gt;
&lt;p&gt;&lt;a href=&quot;http://stevelosh.com/blog/2013/09/teach-dont-tell/&quot;&gt;This article&lt;/a&gt; by Steve
  Losh is a really good read on this. &lt;a href=&quot;http://jcrist.github.io/feeds/gsoc.atom.xml#fnref:2&quot; rev=&quot;footnote&quot; class=&quot;footnote-backref&quot; title=&quot;Jump back to footnote 2 in the text&quot;&gt;↩&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;</description>
	<pubDate>Fri, 18 Jul 2014 20:00:00 +0000</pubDate>
</item>
<item>
	<title>Soumya Dipta Biswas: GSoC 2014: Week 8</title>
	<guid isPermaLink="false">http://blog.s-d-b.com/?p=100</guid>
	<link>http://blog.s-d-b.com/gsoc-2014-week-8/</link>
	<description>&lt;p&gt;Hello Everyone,&lt;/p&gt;
&lt;p&gt;I have majorly been working on fixes and optimizations this week. There was an interesting error that was coming up because of the way quantifiers had been designed. I have made some significant changes to the Quantifier class. An interesting problem regarding constants has cropped up, which I am yet to fix. Please find the discussion regarding it at &lt;a href=&quot;https://groups.google.com/forum/#!topic/sympy/16sSUehOFWA&quot; target=&quot;_blank&quot; title=&quot;Constants&quot;&gt;FOL Constants and Unification&lt;/a&gt;. For the rest or the week, I have majorly been writing tests for the FOL class and making small changes. Additionally I have spent some time writing tutorials for the logic module of SymPy. The documentation available currently only talks about how to do something but not what all can be done with it. The tutorials are far from complete but I will definitely try to finish the entire thing before the summer is over.&lt;/p&gt;
&lt;p&gt;That’s all for now.&lt;/p&gt;
&lt;p&gt;Farewell&lt;/p&gt;</description>
	<pubDate>Fri, 18 Jul 2014 13:12:18 +0000</pubDate>
</item>
<item>
	<title>Akshay Narasimha: Gsoc Week - 8</title>
	<guid isPermaLink="false">tag:blogger.com,1999:blog-54146973659574488.post-2147515292514723776</guid>
	<link>http://geekpy.blogspot.com/2014/07/gsoc-week-8.html</link>
	<description>&lt;div style=&quot;text-align: left;&quot; dir=&quot;ltr&quot;&gt;This week was great in terms of the work done. My PR on the Plane class got merged finally, so this completes the  implementation of 3-D geometry. Though my code had less test coverage to which I have sent a &lt;a href=&quot;https://github.com/sympy/sympy/pull/7733&quot;&gt;PR&lt;/a&gt; which improves it .&lt;br /&gt;&lt;br /&gt;Apart from that I have been working on the Hyperbola class and have added most of the methods, tests remain though. &lt;a href=&quot;https://github.com/sympy/sympy/pull/7709&quot;&gt;Here&lt;/a&gt; is the link to the PR.&lt;br /&gt;&lt;br /&gt;This week I will add  tests for the Hyperbola class and will start implementing the Parabola class once this is done.&lt;br /&gt;&lt;br /&gt;Until then cheers!&lt;/div&gt;</description>
	<pubDate>Tue, 15 Jul 2014 03:19:49 +0000</pubDate>
	<author>noreply@blogger.com (Akshay Narasimha)</author>
</item>
<item>
	<title>Avichal Dayal</title>
	<guid isPermaLink="false">tag:blogger.com,1999:blog-283806077182880539.post-8629525061641578470</guid>
	<link>http://gsocblog.blogspot.com/2014/07/as-it-turned-out-i-had-to-replace-most.html</link>
	<description>&lt;div style=&quot;text-align: left;&quot; dir=&quot;ltr&quot;&gt;As it turned out, I had to replace most of my last two week's code. I used lambda functions to implement infinite structures. Lambda function stored the delayed part of the structure.&lt;br /&gt;&lt;br /&gt;I scraped that out and now instead use the more Python-ic generators for infinite structures.&lt;br /&gt;&lt;br /&gt;Earlier FPS was just for series expansion around x0=0. I added support for asymptotic expansion and series expansion around arbitrary points. This just included the substitutions as done in the series() method.&lt;br /&gt;&lt;br /&gt;However I faced an irritating bug regarding this.&lt;br /&gt;The Lazyseries class has arguments: &amp;lt;x&amp;gt;, &amp;lt;generator object&amp;gt;&lt;br /&gt;So if ``l = Lazyseries(x, generator)``&lt;br /&gt;When  ``l.subs(x, x+1)`` is done, it turned out that &amp;lt;generator object&amp;gt; was being iterated. I noticed this after sometime, fixing it by writing a custom _eval_subs()&lt;br /&gt;&lt;br /&gt;Regarding the operation on series, I had to rewrite all of them using generators.&lt;br /&gt;Adding series is just term-wise addition which can be accomplished by a simple one-liner i.e. ``imap(operator.add, self, other)``.&lt;br /&gt;But it turned out that this was actually wrong. This didn't give sorted output when adding series.&lt;br /&gt;E.g.:-&lt;br /&gt;s1 = x + x**2 + x**3 + ...&lt;br /&gt;s2 = x + x**3 + x**5 + ... &lt;br /&gt;Now if s = s1 + s2,&lt;br /&gt;s = 2x + (x**2 + x**3) + (x**3 + x**5) + ...&lt;br /&gt;If I want series expansion of s with order = 4, it terminates at the third term after getting the x**5 term. Whereas, it should go further as there is a x**4 term too. &lt;br /&gt;&lt;br /&gt;&lt;br /&gt;I wrote a custom add function merging two iterators similar to the mergesort algorithm. There is a built-in function called heapq.merge that does the same thing but it does not provide a key to compare values. It turns out that it is one of Cpython's ideas floating around to provide a key for heapq.&lt;br /&gt;&lt;br /&gt;I hope to get this done in a few days and get it ready for the merge.&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;/div&gt;</description>
	<pubDate>Sun, 13 Jul 2014 18:41:00 +0000</pubDate>
	<author>noreply@blogger.com (Avichal Dayal)</author>
</item>
<item>
	<title>Aaron Meurer: SciPy 2014</title>
	<guid isPermaLink="true">http://asmeurer.github.io/posts/scipy-2014/</guid>
	<link>http://asmeurer.github.io/posts/scipy-2014/</link>
	<description>&lt;div&gt;&lt;p&gt;I just finished &lt;a href=&quot;https://conference.scipy.org/scipy2014/&quot;&gt;SciPy 2014&lt;/a&gt;, a
week-long conference in Austin, TX for scientific computing with Python.&lt;/p&gt;
&lt;p&gt;This is my third SciPy (I have been to
&lt;a href=&quot;https://asmeurersympy.wordpress.com/2011/07/17/the-scipy-2011-conference/&quot;&gt;2011&lt;/a&gt;
and &lt;a href=&quot;https://asmeurersympy.wordpress.com/2013/07/02/scipy-2013/&quot;&gt;2013&lt;/a&gt;). This
year, the conference was noticeably larger. Last year there were
&lt;a href=&quot;http://andy.terrel.us/blog/2013/07/05/scipy2013-recap/&quot;&gt;~350 people&lt;/a&gt;, this
year, there were
&lt;a href=&quot;https://twitter.com/scopatz/status/488370261150818304&quot;&gt;~450 people&lt;/a&gt;.  Aside
from there being a lot more people, and the main keynotes taking place in a
larger room, the most noticeable consequence of this is that there were three
days of talks this year, and three concurrent tracks of talks all three days
(last year there were two of each). The conference consisted of two days of
tutorials, three days of talks, and two days of sprints, running from July 5
to July 12.&lt;/p&gt;
&lt;h2&gt;Tutorials&lt;/h2&gt;
&lt;p&gt;The conference started on Sunday with tutorials. I gave a tutorial on SymPy
with &lt;a href=&quot;http://matthewrocklin.com/blog/&quot;&gt;Matthew Rocklin&lt;/a&gt; and
&lt;a href=&quot;http://www.moorepants.info/blog/&quot;&gt;Jason Moore&lt;/a&gt;. The videos are on YouTube
(parts &lt;a href=&quot;https://www.youtube.com/watch?v=Lgp442bibDM&quot;&gt;one&lt;/a&gt;,
&lt;a href=&quot;https://www.youtube.com/watch?v=_PTe10whFKo&quot;&gt;two&lt;/a&gt;,
&lt;a href=&quot;https://www.youtube.com/watch?v=qleGSnrnxgc&quot;&gt;three&lt;/a&gt;, and
&lt;a href=&quot;https://www.youtube.com/watch?v=04AGOl1P2U4&quot;&gt;four&lt;/a&gt;).  I gave tutorials for
SymPy the previous two times I was at SciPy, although with different people
(with Mateusz Paprocki in 2011 and
&lt;a href=&quot;http://ondrejcertik.blogspot.com/&quot;&gt;Ondřej Čertík&lt;/a&gt; in 2013). I really enjoy
seeing new people learn about SymPy, and working with Matthew Rocklin, who is
a very good speaker and teacher.&lt;/p&gt;
&lt;p&gt;I also attended the tutorial on PyDy by Jason Moore, Gilbert Gede, and
Obinna Nwanna (parts &lt;a href=&quot;https://www.youtube.com/watch?v=lWbeuDwYVto&quot;&gt;one&lt;/a&gt;
and &lt;a href=&quot;https://www.youtube.com/watch?v=1-KqRvNX0po&quot;&gt;two&lt;/a&gt;).  This tutorial was
also well done, and I highly recommend it if you are interested in Newtonian
mechanics.&lt;/p&gt;
&lt;p&gt;I unfortunately was unable to attend any of the other tutorials, but I heard
good things about them, especially the
&lt;a href=&quot;https://www.youtube.com/watch?v=vWkgEddb4-A&quot;&gt;Julia tutorial&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;Talks&lt;/h2&gt;
&lt;p&gt;From Tuesday to Thursday were talks. The quality of talks this year was very
high. The SciPy talks have always been high quality talks, but this year I
felt that they were particularly good. I don't think I saw a bad talk.&lt;/p&gt;
&lt;p&gt;Thus, I can't really recommend the good talks that I saw without recommending
all of them. You should go to YouTube and the
&lt;a href=&quot;https://conference.scipy.org/scipy2014/schedule/&quot;&gt;SciPy schedule&lt;/a&gt; and watch
any talk that looks interesting.&lt;/p&gt;
&lt;p&gt;I therefore am going to recommend here the very best talks.  Two talks in
particular stood out to me as the best.&lt;/p&gt;
&lt;p&gt;First is Greg Wilson's Thursday keynote, which is among the best talks I've
ever seen from any conference.&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;&lt;center&gt;&amp;lt;iframe allowfullscreen=&quot;allowfullscreen&quot; frameborder=&quot;0&quot; height=&quot;315&quot; src=&quot;http://www.youtube.com/embed/1e26rp6qPbA&quot; width=&quot;560&quot;&amp;gt;&amp;lt;/iframe&amp;gt;&lt;/center&gt;
&lt;p&gt;Greg mentions a lot of ideas, quite a few of which are controversial, which I
think always makes for an interesting talk (it also means that I don't agree
with everything he said, although I do agree with most of it). Most of the
talk is about pedagogy, especially regarding his experiences at
&lt;a href=&quot;http://software-carpentry.org/&quot;&gt;Software Carpentry&lt;/a&gt;. Some things he posited:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;There is actually good research about what methods work and don't work in
  teaching. He referenced
  &lt;a href=&quot;http://www.slideshare.net/richardcookau/john-hattie-effect-sizes-on-achievement&quot;&gt;this presentation&lt;/a&gt;,
  which lists just about every possible pedagogical method, and the net
  difference that it has on students, based on over 50,000 studies. For
  example, individualized instruction has a very small positive effect,
  whereas teacher feedback has a very large positive effect. Since each takes
  time and resources, we should focus on those effects that have the highest
  impact. Greg pointed out that web-based learning has very little positive
  effect, and hence is a waste of time and money. The most effective change is
  removing disruptive students.&lt;/p&gt;
&lt;p&gt;In particular, I liked the quote, &quot;if you want more computing in high
school, you have to tell me what to take out.&quot;  People like to go on that
schools need to teach more of this or more of that, and computing and
programming tends to be high on that list these days, but anyone who does
not discuss what things should be removed from the curriculum, which is
already quite full, is not being honest about the discussion.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The other big point Greg made is that we need more incremental massive
  collaboration in teaching. This is the same model that has built open source
  and Wikipedia, but is mostly absent from teaching. Incremental change is
  important here, as well. It is more useful for someone to contribute fixes
  to existing lesson plans, so that they become better for the students, but
  in his experience, people are much more willing to add new lessons.  Greg
  calls for a &quot;culture of patching&quot;. If incremental change could be adopted in
  teaching, teachers could aggregate methods and lesson plans, removing the
  massive duplication, and most importantly, making teaching materials that
  actually work for students to learn. Greg Wilson asks why open source and
  Wikipedia are able to thrive on massive &lt;em&gt;incremental&lt;/em&gt; change, but teaching
  is not, a question he hasn't found the answer to.&lt;/p&gt;
&lt;p&gt;My thought on the matter is that unlike writing software or collecting and
presenting facts, pedagogy is very difficult. If I contribute a patch to
an open source project that fixes a bug, I can run the tests to see if my
fix is &quot;correct&quot;. If I fix an incorrect fact on Wikipedia, it is less
easy, but I can still cite and check references to make sure it is
correct.  But for teaching, it is very difficult to know what methods work
and what don't, and as Greg pointed out at the beginning of his talk, the
effects of different methods can be very counterintuitive.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The second talk that I recommend is
&lt;a href=&quot;http://jakevdp.github.io/&quot;&gt;Jake VanderPlas&lt;/a&gt;'s talk about Frequentism and
Bayesianism.&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;&lt;center&gt;&amp;lt;iframe allowfullscreen=&quot;allowfullscreen&quot; frameborder=&quot;0&quot; height=&quot;315&quot; src=&quot;http://www.youtube.com/embed/KhAUfqhLakw&quot; width=&quot;560&quot;&amp;gt;&amp;lt;/iframe&amp;gt;&lt;/center&gt;
&lt;p&gt;I won't summarize this talk, as Jake has done a much better job in his blog
(parts
&lt;a href=&quot;http://jakevdp.github.io/blog/2014/03/11/frequentism-and-bayesianism-a-practical-intro/&quot;&gt;one&lt;/a&gt;,
&lt;a href=&quot;http://jakevdp.github.io/blog/2014/06/06/frequentism-and-bayesianism-2-when-results-differ/&quot;&gt;two&lt;/a&gt;,
&lt;a href=&quot;http://jakevdp.github.io/blog/2014/06/12/frequentism-and-bayesianism-3-confidence-credibility/&quot;&gt;three&lt;/a&gt;,
and
&lt;a href=&quot;http://jakevdp.github.io/blog/2014/06/14/frequentism-and-bayesianism-4-bayesian-in-python/&quot;&gt;four&lt;/a&gt;). The
best thing is to just watch the talk.  I will just point out that before the
talk, I did not really understand the difference, not being a statistician or
someone who works with statistics regularly, and having seen the talk, I now
feel that I do.  It's a controversial topic, and if you care about the matter,
you should know that Jake is a strong Bayesian, although I felt that he gave
both sides a fair exposition.&lt;/p&gt;
&lt;p&gt;Again, all talks I saw at the conference were good. But those two I felt were
the best. I should also mention here that I myself gave a talk on Conda (more
on that later).&lt;/p&gt;
&lt;h2&gt;The Conference&lt;/h2&gt;
&lt;p&gt;Of course, the talks are only a part of any conference. The best part of SciPy
is the gathering of the community. Each year I meet more new people, as well
as talk with people I already know, but don't get to see outside of SciPy.&lt;/p&gt;
&lt;p&gt;For me, the biggest part of the interactions this year were on Conda and
packaging.  The background is that I have been working full time for Continuum
since January, and I had interned last summer, working primarily on the Conda
package manager and Anaconda, the Python distribution.  This year, some of the
biggest buzz at the conference was about Conda. I'm obviously selection
biased, because people came to me specifically to talk about Conda, but I also
overheard it in other people's conversations, in several of the presentations,
and frankly, the people who did talk to me about Conda were &lt;em&gt;very&lt;/em&gt; excited
about it.  Just like everyone was talking about the IPython Notebook last year
and how it has solved the fundamental problems of sharing and presenting data
analysis, this year, everyone thanked me for my work on Conda and how it has
basically solved the packaging problem, the ubiquitous problem in Python since
people started using it.&lt;/p&gt;
&lt;h3&gt;Conda: The Packaging Problem Solved&lt;/h3&gt;
&lt;p&gt;Here is the talk I gave on Conda:&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;&lt;center&gt;&amp;lt;iframe allowfullscreen=&quot;allowfullscreen&quot; frameborder=&quot;0&quot; height=&quot;315&quot; src=&quot;http://www.youtube.com/embed/UaIvrDWrIWM&quot; width=&quot;560&quot;&amp;gt;&amp;lt;/iframe&amp;gt;&lt;/center&gt;
&lt;p&gt;I made the claim in my talk that Conda has solved the packaging problem, and
the general feel from people I talked to who are using Conda is that it has.&lt;/p&gt;
&lt;p&gt;I think this slide from my presentation summarizes why Conda solves the
packaging problem.&lt;/p&gt;
&lt;p&gt;&lt;img width=&quot;500&quot; src=&quot;http://asmeurer.github.io/galleries/conda_scipy2014_slide.png&quot; /&gt;&lt;/p&gt;
&lt;p&gt;One of the most amazing things about the scientific Python community, and one
of the things that I think really sets it apart from other Python communities,
is the use of Python alongside other languages, such as C, C++, Fortran, R, or
Julia.  No one language is enough to get the job done for serious scientific
work.  The fundamental brokenness of Python packaging has been that it has
focused too much on Python specific tools and processes.  The
distutils/setuptools/pip/virtualenv stack works great if your code begins and
ends with Python.  Where it falls over is when you want to link against a C
library, compile some Fortran or Cython code, and communicate with other
languages like R and Julia.  By being a system level package manager, which is
fundamentally Python agnostic, Conda is able to deal with all packages
equally, whether that package be a Python package, a C extension which other
packages link against, or Python itself.&lt;/p&gt;
&lt;p&gt;By being truly cross-platform and user installable, Conda is able to reach the
maximal number of users, especially those who have historically been hit by
the packaging problem the hardest:  those who are on Windows or those who do
not have admin rights to install necessary tools to install the packages they
need.&lt;/p&gt;
&lt;p&gt;Finally, Conda installs binaries, not source packages, and its metadata is
entirely static (you do not need to execute arbitrary Python code to capture
the metadata of a package).  These two things remove two of the largest
sources of issues with the existing Python packaging tools, such as compiler
errors, and nonuniformity in metadata standards (there seem to be as many
different ways of writing &lt;code&gt;setup.py&lt;/code&gt; as there are packages on PyPI), by
removing arbitrary code execution from package installation.&lt;/p&gt;
&lt;p&gt;Conda opens up its ecosystem to anybody by making it easy for people to build
their own Conda packages using reproducible Conda recipes.  And
&lt;a href=&quot;https://binstar.org/&quot;&gt;Binstar&lt;/a&gt; makes it easy to share those packages.  I'm
very excited about Binstar, as I think it does for packaging what GitHub has
done for open source, i.e., distributes and democratizes it. There are
challenges on how to deal with this, of course. As with any distributed
democratized system, Binstar can be a wild west of packages.  Continuum is
thinking about ways to manage this complexity, while still reaping the
benefits it provides. If you have any thoughts on things that can be done, let
me know in the comments section below.&lt;/p&gt;
&lt;p&gt;Of course, solving the packaging problem and removing it are different
things.  Conda does not make it easier to compile difficult packages.  It only
makes it so that fewer people have to do it.  And there is still work to be
done before Conda really takes over the world.&lt;/p&gt;
&lt;h2&gt;Sprints&lt;/h2&gt;
&lt;p&gt;The conference ended with two days of sprints. I mainly helped people with
Conda packaging.  One key thing that happened is that I worked with Aron
Ahmadia so that HashDist can generate Conda
packages. &lt;a href=&quot;http://hashdist.github.io/&quot;&gt;HashDist&lt;/a&gt; is a package compiling
framework that makes it easy to have completely reproducible builds by hashing
all the information that was used to compile a package, and recompiling when
any of that information changes. You can learn more about HashDist by watching
Aron's talk from the conference:&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;&lt;center&gt;&amp;lt;iframe allowfullscreen=&quot;allowfullscreen&quot; frameborder=&quot;0&quot; height=&quot;315&quot; src=&quot;http://www.youtube.com/embed/wviHkzk0AkY&quot; width=&quot;560&quot;&amp;gt;&amp;lt;/iframe&amp;gt;&lt;/center&gt;
&lt;p&gt;I am now convinced that HashDist is a good solution for people who still want
the control of compiling their own packages. Once HashDist is able to produce
Conda packages, then you can gain the benefits of both worlds: Conda's
powerful package management and environment notion, with HashDist's modular
and reproducible package building framework.&lt;/p&gt;
&lt;h2&gt;Other thoughts&lt;/h2&gt;
&lt;p&gt;The organizers of SciPy did an excellent job this year.  The video crew did
something which I have not seen before, which is that they uploaded the videos
of the talks on the same day that the talks were held. My talk, which was held
right before lunch, was uploaded before the last talk of the day.  Something
that I saw come out of this is that people not attending the conference were
able to watch the talks and take part of the conversation with the conference
attendees, via Twitter and other social media, or by joining the sprints after
the conference.&lt;/p&gt;
&lt;p&gt;The extended three days of talks really took their toll on me. The conference
starts early enough in the morning and the social events after go so late in
the evening that each day of the conference I become a little more sleep
deprived. Usually by two days of tutorials and two days of talks I have hit my
limit, and this year, I really had a hard time making it through that fifth
day. Fortunately for the sprints I was able sleep in a little bit, as it's not
a big deal if you miss the beginning.&lt;/p&gt;
&lt;p&gt;This year the conference organizers made a push for diversity, and it
shows. There were noticeably more women at the conference this year, and not
just insomuch as there were more people at all.&lt;/p&gt;
&lt;p&gt;Finally, I leave you with the greatest lightening talk. Ever.&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;&lt;center&gt;&amp;lt;iframe allowfullscreen=&quot;allowfullscreen&quot; frameborder=&quot;0&quot; height=&quot;315&quot; src=&quot;http://www.youtube.com/embed/ln4nE_EVDCg?start=3254&quot; width=&quot;560&quot;&amp;gt;&amp;lt;/iframe&amp;gt;&lt;/center&gt;


&lt;/div&gt;</description>
	<pubDate>Sun, 13 Jul 2014 16:52:27 +0000</pubDate>
</item>
<item>
	<title>Kundan Kumar: Week 7 and Week 8 : Non-linear system of ODEs</title>
	<guid isPermaLink="true">http://kundankumar185.wordpress.com/2014/07/13/week-7-and-week-8-non-linear-system-of-odes/</guid>
	<link>http://kundankumar185.wordpress.com/2014/07/13/week-7-and-week-8-non-linear-system-of-odes/</link>
	<description>&lt;p&gt;In week 7, there was negligible work done, had health issues. Because of that I was unable to update things here. During week 8, I got in non-linear system of ODEs for 3 equations of first order (&lt;a href=&quot;https://github.com/sympy/sympy/pull/7703&quot;&gt;PR&lt;/a&gt;). But most of them is not responding in my system. It takes very long time to respond but still I am not getting the final solutions (before that my system crashes).&lt;/p&gt;
&lt;p&gt;Though I have written method for these types, test cases for two types have been included and for other 3 I am not getting any solution. I will needing help from Tim and Sean for making any advances in this.&lt;/p&gt;
&lt;p&gt;The one &lt;a href=&quot;https://github.com/sympy/sympy/pull/7676&quot;&gt;PR&lt;/a&gt; of non-linear system of ODEs for 2 equation of first order has been merged and the &lt;a href=&quot;https://github.com/sympy/sympy/pull/7678&quot;&gt;PR&lt;/a&gt; for docs is all ready to go.&lt;/p&gt;
&lt;p&gt;The next week I plan to finish the PR of non-linear one and start new for checksysodesol which I have just started and start working on non-linear system of ODEs for 2 equation of second order.&lt;/p&gt;&lt;br /&gt;  &lt;a href=&quot;http://feeds.wordpress.com/1.0/gocomments/kundankumar185.wordpress.com/121/&quot; rel=&quot;nofollow&quot;&gt;&lt;img src=&quot;http://feeds.wordpress.com/1.0/comments/kundankumar185.wordpress.com/121/&quot; alt=&quot;&quot; border=&quot;0&quot; /&gt;&lt;/a&gt; &lt;img src=&quot;http://pixel.wp.com/b.gif?host=kundankumar185.wordpress.com&amp;amp;blog=68025302&amp;amp;post=121&amp;amp;subd=kundankumar185&amp;amp;ref=&amp;amp;feed=1&quot; alt=&quot;&quot; border=&quot;0&quot; width=&quot;1&quot; height=&quot;1&quot; /&gt;</description>
	<pubDate>Sun, 13 Jul 2014 09:18:36 +0000</pubDate>
</item>
<item>
	<title>Sushant Hiray: This Week in CSymPy: #8</title>
	<guid isPermaLink="true">http://sushant-hiray.in/posts/gsoc/csympy-week8/</guid>
	<link>http://sushant-hiray.in/posts/gsoc/csympy-week8/</link>
	<description>&lt;p&gt;Week 8 for GSoC just ended. I’m particularly pleased that I’ve managed to get a basic version of Complex Module merged into master.&lt;/p&gt;

&lt;h1 id=&quot;progress&quot;&gt;Progress&lt;/h1&gt;

&lt;p&gt;I hadn’t made much progress last week as I was traveling back home. So I had only managed to implement some of the functions. This week I implemented all the virtual functions which were necessary. Updated &lt;code&gt;Complex::from_mpq&lt;/code&gt; to return the appropriate instance of &lt;code&gt;Complex&lt;/code&gt; and &lt;code&gt;Rational&lt;/code&gt;. &lt;a href=&quot;https://github.com/sympy/csympy/pull/223&quot;&gt;Pull 223&lt;/a&gt; implemented the basic version of complex module.
&lt;br /&gt;&lt;br /&gt;
I also noticed that some of the files I had commented out earlier had a mismatched tab configuration. So I fixed the mismatch identation for all the files in the project. &lt;a href=&quot;https://github.com/sympy/csympy/pull/242&quot;&gt;Pull 242&lt;/a&gt; fixed this issue.
&lt;br /&gt;&lt;br /&gt;
While writing tests for the Complex Module, I noticed that there was no explicit divide by zero check in the code and as a result, on division by zero, we were getting a coredumped. This issue was filed as &lt;a href=&quot;https://github.com/sympy/csympy/issues/239&quot;&gt;#239&lt;/a&gt; which was subsequently fixed via
&lt;a href=&quot;https://github.com/sympy/csympy/pull/241&quot;&gt;Pull 241&lt;/a&gt;.
&lt;br /&gt;&lt;br /&gt;
After some fixes and adding divide by zero checks in the complex module, the &lt;a href=&quot;https://github.com/sympy/csympy/pull/223&quot;&gt;Pull 223&lt;/a&gt;  was merged. With this in place, we can perform all basic operations on complex integers as well as rationals. The only exception being pow. It was decided that complex &lt;code&gt;pow&lt;/code&gt; shouldn’t evaluated by default. Also since the current definition of &lt;code&gt;pow&lt;/code&gt; returns a &lt;code&gt;RCP&amp;lt;const Number&amp;gt;&lt;/code&gt; so it needs to be refactored to account the current design.&lt;/p&gt;

&lt;h1 id=&quot;the-week-ahead&quot;&gt;The Week Ahead&lt;/h1&gt;
&lt;p&gt;Make sure complex module works with all other submodules of &lt;code&gt;CSymPy&lt;/code&gt; and add tests accordingly. &lt;a href=&quot;https://github.com/sympy/csympy/pull/248&quot;&gt;Pull 248&lt;/a&gt; has been started to deal with this.&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;
Thats all for now :) Will get back next week!&lt;/p&gt;</description>
	<pubDate>Sun, 13 Jul 2014 05:45:00 +0000</pubDate>
</item>
<item>
	<title>Harsh Gupta: week 7</title>
	<guid isPermaLink="true">https://hargup.github.io/posts/week-7.html</guid>
	<link>https://hargup.github.io/posts/week-7.html</link>
	<description>&lt;h2&gt;Week 7, 8&lt;/h2&gt;
&lt;h3&gt;Fu Simplification&lt;/h3&gt;
&lt;p&gt;In the early part of the week 7 was thinking and working on design decisions.
I want the code to be very modular so that it could be easily extended by
people other than me. This came up in a meeting with Matthew and I want the
solvers to be like the Fu simplification explained by Matthew in this &lt;a href=&quot;https://www.youtube.com/watch?v=QldxygVVj-s&amp;amp;list=PLYx7XA2nY5GfuhCvStxgbynFNrxr3VFog&amp;amp;index=20&quot;&gt;Scipy
Talk&lt;/a&gt;.
The idea was that we can see solving an equation as series of transformations.
If we have a lot of small transformations such that the input type is same as
output type, and some notion of what makes a &quot;better&quot; output we can search though
the list of transformations running one on top of other. I also posted about
it on the &lt;a href=&quot;https://groups.google.com/forum/#!topic/sympy/42GdMJ9ssyM&quot;&gt;mailing
list&lt;/a&gt; which brought
out some flaws in the preliminary design. The idea is pretty crude in the
current stage and I'll have to look deeper into it, but not now.&lt;/p&gt;
&lt;p&gt;I also discussed about the implementing a pattern dispached based solver
suggested by &lt;a href=&quot;https://groups.google.com/d/msg/sympy/moSEFHop0n4/e2hBKRQ9WP4J&quot;&gt;F.B&lt;/a&gt;
on the mailing list. But we decided that it will be better if we finish the
equation solver by the current technique first.&lt;/p&gt;
&lt;h3&gt;Intersection with S.Reals&lt;/h3&gt;
&lt;p&gt;I decribed in the last post that one way to solve trigonometric equation is
rewriting them in terms of \( exp \). But that is \( exp \) in the complex domain and
the solution of \(exp(x) = a \) is \( \left\{i \left(2 \pi
n + \arg{\left (a \right )}\right) + \log{\left
(\left\lvert{a}\right\rvert \right )}\; |\; n \in \mathbb{Z}\right\}
\). Hence we have to filter out real solutions from the obtained solutions.
The filering is equivalent to the intersection of the solutions with the \( \mathbb{R}
\) set. Suppose \( g(x) \) and \( h(x) \) are real valued functions and we
have to perform
$$ \mathbb{R} \cap \left\{g{\left (n \right )} + i h{\left (n \right )}\; |\; n \in \mathbb{Z}\right\} $$
then the answer will be simply
$$ \left\{g{\left (n \right )}\; |\; n \in \left\{h{\left (n \right )} = 0\; |\; n \in \mathbb{Z}\right\}\right\} $$&lt;/p&gt;
&lt;p&gt;Separate the real and imaginary parts and equate the imaginary to zero
but the problem was with the assumptions on the symbols. For example while
separating real and imaginary parts of the equation.&lt;/p&gt;
&lt;pre class=&quot;code literal-block&quot;&gt;&lt;span class=&quot;n&quot;&gt;In&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;n&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;I&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;as_imag_real&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;Out&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;re&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;im&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;re&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;im&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;/pre&gt;


&lt;p&gt;That is because &lt;code&gt;n&lt;/code&gt; is by default complex, even in the &lt;code&gt;Lambda(..).expr&lt;/code&gt;.
I wrote some code to decide the
assumption on the variable of imageset from the baseset. See &lt;a href=&quot;https://github.com/sympy/sympy/pull/7694&quot;&gt;PR
7694&lt;/a&gt;.
There was another issue that needs to be resolved
&lt;code&gt;S.Integers.intersect(S.Reals)&lt;/code&gt; doesn't evaluate to &lt;code&gt;S.Reals&lt;/code&gt;.&lt;/p&gt;
&lt;h3&gt;LambertW and Multivariate Solvers&lt;/h3&gt;
&lt;p&gt;The method to solve equation containing exp and log function is using the
LambertW function. LambertW function is the inverse of \( x \exp(x) \).  The
function is multivariate function both for the real and complex
domains and Sympy has only one branch implemented. This also leads us to loss
of solutions. Aaron gave an example
&lt;a href=&quot;https://github.com/sympy/sympy/pull/2723#issuecomment-33760912&quot;&gt;here&lt;/a&gt;. But I'm
pretty unfamiliar with solving by LambertW and LambertW itself and it will take
me some time to build an understanding of them.
As an ad hoc solution I'm using the code in the &lt;code&gt;_tsolve&lt;/code&gt; in the
&lt;code&gt;solvers.solvers&lt;/code&gt; module to do at least what the current solvers can do.&lt;/p&gt;
&lt;p&gt;When the importing of &lt;code&gt;_tsolve&lt;/code&gt; method was done. I started working on the
multivariate solvers. Here's how the current multivariate solvers work:&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Solving single multivariate equation&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;count the number of free symbols in f - no of symbols for
equation. If the equation has exactly one symbol which is not asked for then
use &lt;code&gt;solve_undetermined_coeffs&lt;/code&gt;, the &lt;code&gt;solve_undetermined_coeffs&lt;/code&gt; find the
values of the coefficient in a univariate polynomial such that it always
equates to zero.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Then for each symbol &lt;code&gt;solve_linear&lt;/code&gt; is tried which tries to find a solution
of that symbol in terms of constants or other symbols, the docstring says&lt;/p&gt;
&lt;pre class=&quot;code literal-block&quot;&gt;&lt;span class=&quot;n&quot;&gt;No&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;simplification&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;is&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;done&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;to&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;f&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;other&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;than&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;and&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;mul&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;True&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;expansion&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;so&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;the&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;solution&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;will&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;correspond&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;strictly&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;to&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;unique&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;solution&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;
&lt;/pre&gt;


&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;So we don't have to worry about loosing a solution. For every symbol it is
checked if doesn't depend on previously solved symbols, if it does that
solution is discarded.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;For the symbols for which the above method failed, the &lt;code&gt;_solve&lt;/code&gt; function is
called for the equation for that variable and as above if the solution contains
a variable already solved then that solution is discarded.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;System of equations in multiple variables&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Try to convert the system of equations into a system of polynomial equation
  in variables&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;If all the equations are linear solve then using &lt;code&gt;solve_linear_system&lt;/code&gt;, check
  the result and return it. If asked for particular solution solve using
  &lt;code&gt;minsolve_linear_system&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;If the number of symbols is same as the size of the system solve the
  polynomial system using &lt;code&gt;solve_poly_system&lt;/code&gt;. In case the system is
  over-determined All the free symbols intersection the variables asked for are
  calculated. Then for every subset of such symbols of length equal to that of
  the system, an attempt to solve the equations by &lt;code&gt;solve_poly_system&lt;/code&gt; is made.
  Here if any of the solution depends on previously solved system the solution
  is discarded.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;In the case there are failed equations:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;For every know result:&lt;/li&gt;
&lt;li&gt;Substitute every thing into the failed equation and see if the equation turns to zero.
  if it does accept the result otherwise put it in the bad_results group.&lt;/li&gt;
&lt;li&gt;Then try to solve try to solve the failed equation using &lt;code&gt;solve&lt;/code&gt; for each symbol.&lt;/li&gt;
&lt;li&gt;If that solution depends on any other previously solved symbols
  discard it.&lt;/li&gt;
&lt;li&gt;If it doesn't satisfy other equations, discard it.&lt;/li&gt;
&lt;li&gt;Check if the solution doesn't set any denominator to zero, if it does
  discard that solution.&lt;/li&gt;
&lt;li&gt;If it satisfies the above conditions substitute this value in know
  solutions and add it as a new result.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;</description>
	<pubDate>Sat, 12 Jul 2014 14:00:01 +0000</pubDate>
</item>
<item>
	<title>Sachin Joglekar: GSoC Weeks 7,8: Beginning with Dyadics</title>
	<guid isPermaLink="true">http://codesachin.wordpress.com/2014/07/12/gsoc-weeks-78-beginning-with-dyadics/</guid>
	<link>http://codesachin.wordpress.com/2014/07/12/gsoc-weeks-78-beginning-with-dyadics/</link>
	<description>&lt;p&gt;The last two weeks have been slow, hence a common blog post for both of them. Last week was spent in improving the current PR even more, especially with dedicated rotator methods for each type of rotation (Body/Space/Axis/Quaternion) of Coordinate Systems. Its not much, just methods like ‘orient_new_axis’, ‘orient_new_body’, etc. as add-ons on top of the all-powerful ‘orient_new’ method. The coding involved wasn’t much, since the new methods essentially call the ‘orient_new’ method with the relevant parameters. However, the rotation API is now much simpler than using the ‘orient_new’ method for all kinds of orientations – mainly because the extra flexibility provided by the ‘orient_new’ method implies a more awkward API for the same.&lt;br /&gt;
Jason, Mathew and Aaron were together at SciPy, during our last week’s GSoC meeting. There, the common consensus was to try and have Rotator classes to make the orientation framework even more user-friendly. Discussing the interface for the same is on this week’s meeting agenda.&lt;br /&gt;
A big change that we thought of doing in the timeline was to let go of spherical/cylindrical systems for a while, and instead focus on dyadic tensors – since the code is mostly done (my work during last year’s GSoC), they will be a useful and powerful addition to the vector module.&lt;br /&gt;
So my next few (much shorter than the current one) PRs would be-&lt;br /&gt;
1) The code for dyadic tensors&lt;br /&gt;
2) Documentation for all the basic, non-time-dependent framework&lt;br /&gt;
3) Rotator classes(?)&lt;br /&gt;
4) Implementation of the Del operator as an SymPy Function&lt;br /&gt;
5) Just some basic helper methods to convert vectors from one form (rect/spherical/cylindrical) to another&lt;br /&gt;
The code for Dyadics is mostly done, the docs are on-going, and I am thinking of having a common super-class for Vector and Dyadic- called Tensor(inheriting from Expr) – since many of the SymPy manipulation procedures work in the exact same manner for Vectors as well as Dyadics. Will discuss this with Jason soon.&lt;/p&gt;
&lt;p&gt;Anyways, thats all for now, have a great week!&lt;/p&gt;&lt;br /&gt;  &lt;a href=&quot;http://feeds.wordpress.com/1.0/gocomments/codesachin.wordpress.com/21/&quot; rel=&quot;nofollow&quot;&gt;&lt;img src=&quot;http://feeds.wordpress.com/1.0/comments/codesachin.wordpress.com/21/&quot; alt=&quot;&quot; border=&quot;0&quot; /&gt;&lt;/a&gt; &lt;img src=&quot;http://pixel.wp.com/b.gif?host=codesachin.wordpress.com&amp;amp;blog=67602166&amp;amp;post=21&amp;amp;subd=codesachin&amp;amp;ref=&amp;amp;feed=1&quot; alt=&quot;&quot; border=&quot;0&quot; width=&quot;1&quot; height=&quot;1&quot; /&gt;</description>
	<pubDate>Sat, 12 Jul 2014 07:37:43 +0000</pubDate>
</item>
<item>
	<title>Jim Crist: GSoC Week 8: Try, try, try again...</title>
	<guid isPermaLink="false">tag:,2014-07-11:gsoc-week-8.html</guid>
	<link>http://jcrist.github.io/gsoc-week-8.html</link>
	<description>&lt;p&gt;I'm still struggling to solve the &lt;code&gt;nan&lt;/code&gt; and &lt;code&gt;oo&lt;/code&gt; issue I've discussed in my
post &lt;a href=&quot;http://jcrist.github.io/gsoc-week-6.html&quot;&gt;a couple weeks ago&lt;/a&gt;.
&lt;a href=&quot;http://jcrist.github.io/gsoc-week-7.html&quot;&gt;Last week&lt;/a&gt; I showed off a custom
written subs function for use inside &lt;code&gt;sympy.physics.mechanics&lt;/code&gt; that helped with
speed considerably, and &lt;em&gt;attempted&lt;/em&gt; to solve the &lt;code&gt;nan&lt;/code&gt; problem. This worked
great for small-medium expressions, but failed on large ones. Or did it? I'm not
sure anymore.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/sympy/sympy/pull/7464&quot;&gt;This pull request&lt;/a&gt; brought up something
that I had witnessed, but never really thought about as a potential source of my
issues. To summarize, Sympy's current (hopefully soon to be old) caching system
never clears. Ever. For interactive work, or short running sessions this is fine.
However, for the huge expressions generated in &lt;code&gt;mechanics&lt;/code&gt;, this can be a source
of memory issues, as the cache grows to hold all sub-expressions that were cached.&lt;/p&gt;
&lt;p&gt;It turns out that &lt;code&gt;simplify&lt;/code&gt; is one of those functions that is cached. This may
explain why when I tried to use &lt;code&gt;msubs&lt;/code&gt; with &lt;code&gt;smart_subs=True&lt;/code&gt; (which crawls the
expression tree and does selective simplification) this resulted in &lt;em&gt;all&lt;/em&gt; of my
RAM being used up (4 GB!!!). I haven't had a chance to pull in this PR into my
repo and test it out, but it sounds like it should fix the problem. Instead of
growing infinitely, the cache uses a &lt;a href=&quot;http://jcrist.github.io/feeds/ //en.wikipedia.org/wiki/Cache_algorithms#Least_Recently_Used&quot;&gt;least recently used (LRU)&lt;/a&gt; algorithm to
determine what stays and what is removed. The cache size can be set by the user,
so those that prefer speed over memory use can still cache everything. Per his
benchmarks it seems to be only 10% slower, which shouldn't be much of a problem.
Overall, I'm really psyched to start using this. Perhaps with this the &lt;code&gt;smart_subs&lt;/code&gt;
I wrote up will work, even if it takes a while. If not, I'm kind-of out of ideas.&lt;/p&gt;
&lt;p&gt;I spent some time this week trying out a few other ways of solving this problem.
So far none of them have worked.&lt;/p&gt;
&lt;h3&gt;1. Using &lt;code&gt;cse&lt;/code&gt;, and applying simplify selectively to the sub-expressions.&lt;/h3&gt;
&lt;p&gt;The basic idea here was to apply &lt;code&gt;cse&lt;/code&gt; on the expression, and then evaluate
each sub-expression. If it evaluated to &lt;code&gt;nan&lt;/code&gt;, simplify it, then evaluate it
again.&lt;/p&gt;
&lt;p&gt;This seemed like a good idea at first, but upon closer examination it
falls apart. The issue is that the expressions that could cancel/simplify out
are often broken into &lt;em&gt;separate sub-expressions&lt;/em&gt;. This means that they are
evaluated numerically separately, and only once combined will they result in
a &lt;code&gt;nan&lt;/code&gt;, at which point they can't be simplified anyway.&lt;/p&gt;
&lt;h3&gt;2. Taking the limit of the bad sub-expressions.&lt;/h3&gt;
&lt;p&gt;This was another idea that seemed good until I tried it. Similar to the &lt;code&gt;smart_subs&lt;/code&gt;
I talked about &lt;a href=&quot;http://jcrist.github.io/gsoc-week-7.html&quot;&gt;last week&lt;/a&gt;, except this
time it's taking the limit of the bad sub-expressions as they approach the operating
point. The thought being that it may be computationaly cheaper to find the limit
than to apply &lt;code&gt;simplify&lt;/code&gt; and then evaluate.&lt;/p&gt;
&lt;p&gt;There were several problems iwth this design. The first being that &lt;code&gt;Sympy&lt;/code&gt; has no
functionality for finding multivariable limits. These can't be calculated
iteratively either (by that I mean find the limit for x, then the limit for y, then
the limit for z, etc...), as the part that could &quot;simplify out&quot; could already be
gone.&lt;/p&gt;
&lt;p&gt;The second, and more serious issue, is that there was no way to tell if the limit
at that point was equal to the value the expression should actually evaluate too, or if it
is just the value of the &lt;em&gt;limit at that point&lt;/em&gt;. For example:&lt;/p&gt;
&lt;div style=&quot;background: #272822;&quot; class=&quot;codehilite&quot;&gt;&lt;pre style=&quot;line-height: 125%;&quot;&gt;&lt;span style=&quot;color: #f92672;&quot;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span style=&quot;color: #f8f8f2;&quot;&gt;expr&lt;/span&gt; &lt;span style=&quot;color: #f92672;&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: #f8f8f2;&quot;&gt;(a&lt;/span&gt; &lt;span style=&quot;color: #f92672;&quot;&gt;-&lt;/span&gt; &lt;span style=&quot;color: #ae81ff;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #f8f8f2;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #f92672;&quot;&gt;/&lt;/span&gt;&lt;span style=&quot;color: #f8f8f2;&quot;&gt;(a&lt;/span&gt;&lt;span style=&quot;color: #f92672;&quot;&gt;**&lt;/span&gt;&lt;span style=&quot;color: #ae81ff;&quot;&gt;2&lt;/span&gt; &lt;span style=&quot;color: #f92672;&quot;&gt;-&lt;/span&gt; &lt;span style=&quot;color: #ae81ff;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #f8f8f2;&quot;&gt;)&lt;/span&gt;
&lt;span style=&quot;color: #f92672;&quot;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span style=&quot;color: #f8f8f2;&quot;&gt;op_point&lt;/span&gt; &lt;span style=&quot;color: #f92672;&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: #f8f8f2;&quot;&gt;{a:&lt;/span&gt; &lt;span style=&quot;color: #ae81ff;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #f8f8f2;&quot;&gt;}&lt;/span&gt;
&lt;span style=&quot;color: #f92672;&quot;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span style=&quot;color: #f8f8f2;&quot;&gt;expr&lt;/span&gt;&lt;span style=&quot;color: #f92672;&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: #f8f8f2;&quot;&gt;subs(op_point)&lt;/span&gt;
&lt;span style=&quot;color: #f8f8f2;&quot;&gt;nan&lt;/span&gt;
&lt;span style=&quot;color: #f92672;&quot;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span style=&quot;color: #f8f8f2;&quot;&gt;limit(expr,&lt;/span&gt; &lt;span style=&quot;color: #f8f8f2;&quot;&gt;a,&lt;/span&gt; &lt;span style=&quot;color: #ae81ff;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #f8f8f2;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #e6db74;&quot;&gt;'+'&lt;/span&gt;&lt;span style=&quot;color: #f8f8f2;&quot;&gt;)&lt;/span&gt;
&lt;span style=&quot;color: #ae81ff;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #f92672;&quot;&gt;/&lt;/span&gt;&lt;span style=&quot;color: #ae81ff;&quot;&gt;2&lt;/span&gt;
&lt;span style=&quot;color: #f92672;&quot;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span style=&quot;color: #f8f8f2;&quot;&gt;limit(expr,&lt;/span&gt; &lt;span style=&quot;color: #f8f8f2;&quot;&gt;a,&lt;/span&gt; &lt;span style=&quot;color: #ae81ff;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #f8f8f2;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #e6db74;&quot;&gt;'-'&lt;/span&gt;&lt;span style=&quot;color: #f8f8f2;&quot;&gt;)&lt;/span&gt;
&lt;span style=&quot;color: #ae81ff;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #f92672;&quot;&gt;/&lt;/span&gt;&lt;span style=&quot;color: #ae81ff;&quot;&gt;2&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Using the method described above, it would seem that the expression should just
evaluate to &lt;code&gt;1/2&lt;/code&gt;. However, if you actually plot this expression, you'll find
that there is a discontinuity at &lt;code&gt;a = 1&lt;/code&gt;. From either side it approaches 1/2,
but at 1 it is actually &lt;code&gt;nan&lt;/code&gt;.&lt;/p&gt;
&lt;h3&gt;3. Numerical perturbation about the setpoint to find the limit of the bad sub-expressions.&lt;/h3&gt;
&lt;p&gt;The idea here was to calculate the limit of the sub-expressions through numerical
evaluation and perturbation. This fails for all the reasons described above, as
well as the fact that Sympy is a symbolic computation library, and we should be
able to do this symbolically.&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;Unfortunately those were all the ideas I had to solve this problem. If the algorithm described
last week doesn't end up working using the new cacheing system, I'm kind of stumped.
Back on &lt;a href=&quot;http://www.seas.upenn.edu/~terfan/strugglebus/pennapps2013f/&quot;&gt;the struggle bus&lt;/a&gt;...&lt;/p&gt;
&lt;hr /&gt;
&lt;h2&gt;Meanwhile...&lt;/h2&gt;
&lt;p&gt;As another &lt;em&gt;potential&lt;/em&gt; solution, I've set about refactoring the &lt;code&gt;KanesMethod&lt;/code&gt; class
in the hope that I'll find some way of generating expressions that are smaller
than they currently are. The first step was rewriting to make it readable, more
modular, and remove the dead code that had built up over the years. This is done.
In it's current state it passes all tests, and runs them in half the time that it
had before!!! Still no major reduction in expression size, but I'll hopefully find
some magical place in the code that could be made more efficient. We'll see.&lt;/p&gt;
&lt;p&gt;I'm also working on the documentation for the linearization stuff that's already
done, as well as waiting on someone to finally review my
&lt;a href=&quot;https://github.com/sympy/sympy/pull/7681&quot;&gt;PR for LagrangesMethod support&lt;/a&gt;. I hope to
get that merged soon so that I can get started on the code generation portion of this
project.&lt;/p&gt;</description>
	<pubDate>Fri, 11 Jul 2014 22:00:00 +0000</pubDate>
</item>
<item>
	<title>Thilina Rathnayake: [GSoC] Week 8: Solving Ax = b and Determinant</title>
	<guid isPermaLink="false">http://thilinaatsympy.wordpress.com/?p=10</guid>
	<link>http://thilinaatsympy.wordpress.com/2014/07/11/gsoc-week-8-solving-ax-b-and-determinant/</link>
	<description>&lt;p&gt;Hi All,&lt;/p&gt;
&lt;p&gt;Sorry, I couldn’t write a blog post last week. During past two weeks, I contributed in solving some of the bugs in CSymPy and the determinant of a Matrix. Also, I implemented the solutions of the system &lt;img src=&quot;http://s0.wp.com/latex.php?latex=Ax+%3D+b&amp;amp;bg=eff1f5&amp;amp;fg=444444&amp;amp;s=0&quot; alt=&quot;Ax = b&quot; class=&quot;latex&quot; title=&quot;Ax = b&quot; /&gt; by using various decomposition methods.&lt;/p&gt;
&lt;h1&gt;Determinant of a Matrix&lt;/h1&gt;
&lt;p&gt;I implemented determinant using two different methods, Bareiss’s method and Berkowitz algorithm.&lt;/p&gt;
&lt;h2&gt;Bareiss’s algorithm&lt;/h2&gt;
&lt;p&gt;Bareiss’s algorithm[1] can be used to find the row echelon form or determinant of a Matrix. This is not a division free algorithm, but guarantees that all the divisions are exact, i.e. there is no remainder [2]. The algorithm is based on Sylvester’s identity and a transformation that yields the determinant after successive application. This can be also used to solve a system of equations. You can read more about the algorithm in [2].&lt;/p&gt;
&lt;h2&gt;Berkowitz Algorithm&lt;/h2&gt;
&lt;p&gt;Berkowitz algorithm can also be used in calculating the determinant. This algorithms has various other applications as well, like calculating characteristic polynomial of a matrix, principal minors and Eigen values. I am yet to implement the calculation of characteristic polynomial and Eigen values using this algorithm but that won’t be a difficult thing. I wish to do it over the weekend.&lt;/p&gt;
&lt;h1&gt;Ax = b&lt;/h1&gt;
&lt;p&gt;I used various matrix decompositions implemented earlier to solve the system &lt;img src=&quot;http://s0.wp.com/latex.php?latex=Ax+%3D+b&amp;amp;bg=eff1f5&amp;amp;fg=444444&amp;amp;s=0&quot; alt=&quot;Ax = b&quot; class=&quot;latex&quot; title=&quot;Ax = b&quot; /&gt;. Only the fraction free LU decomposition was used earlier, but now we can solve linear systems using LU decomposition and LDL decomposition. QR and Cholesky decomposition can be enabled after figuring out a good way to do expression simplification in CSymPy.&lt;/p&gt;
&lt;p&gt;I hope to work on Sparse matrices in upcoming weeks and do some benchmarks of CSymPy’s algorithms with GiNaC.&lt;/p&gt;
&lt;h1&gt;References&lt;/h1&gt;
&lt;p&gt;[1] Erwin H. Bareiss, Sylvester’s Identity and Multi step Integer-Preserving Gaussian Elimination&lt;/p&gt;
&lt;p&gt;[2] Wikipedia article, &lt;a href=&quot;http://en.wikipedia.org/wiki/Bareiss_algorithm&quot; rel=&quot;nofollow&quot;&gt;http://en.wikipedia.org/wiki/Bareiss_algorithm&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;[3] Wolfram Mathworld article, &lt;a href=&quot;http://mathworld.wolfram.com/SylvestersDeterminantIdentity.html&quot; rel=&quot;nofollow&quot;&gt;http://mathworld.wolfram.com/SylvestersDeterminantIdentity.html&lt;/a&gt;&lt;/p&gt;
&lt;p&gt; &lt;/p&gt;&lt;br /&gt;  &lt;a href=&quot;http://feeds.wordpress.com/1.0/gocomments/thilinaatsympy.wordpress.com/10/&quot; rel=&quot;nofollow&quot;&gt;&lt;img src=&quot;http://feeds.wordpress.com/1.0/comments/thilinaatsympy.wordpress.com/10/&quot; alt=&quot;&quot; border=&quot;0&quot; /&gt;&lt;/a&gt; &lt;img src=&quot;http://pixel.wp.com/b.gif?host=thilinaatsympy.wordpress.com&amp;amp;blog=52956410&amp;amp;post=10&amp;amp;subd=thilinaatsympy&amp;amp;ref=&amp;amp;feed=1&quot; alt=&quot;&quot; border=&quot;0&quot; width=&quot;1&quot; height=&quot;1&quot; /&gt;</description>
	<pubDate>Fri, 11 Jul 2014 15:51:53 +0000</pubDate>
</item>
<item>
	<title>Soumya Dipta Biswas: GSoC 2014: Week 7</title>
	<guid isPermaLink="false">http://blog.s-d-b.com/?p=97</guid>
	<link>http://blog.s-d-b.com/gsoc-2014-week-7/</link>
	<description>&lt;p&gt;Hello everyone,&lt;/p&gt;
&lt;p&gt;I have been &lt;em&gt;extremely&lt;/em&gt; busy this week. So I haven’t managed to get the time to write out a proper post. However since it is already very late in the week it is better to create a small outline than wait for the actual product. Firstly, I worked on standardization of FOL expression. However the bulk of the week was consumed in writing code for the &lt;a href=&quot;http://en.wikipedia.org/wiki/Unification_%28computer_science%29&quot; target=&quot;_blank&quot; title=&quot;Unification&quot;&gt;most general unifier&lt;/a&gt; and &lt;a href=&quot;http://en.wikipedia.org/wiki/Resolution_%28logic%29#Resolution_in_first_order_logic&quot; target=&quot;_blank&quot; title=&quot;Resolution&quot;&gt;resolution&lt;/a&gt;. While these functions mark almost the end of my FOL proposal, the entire module is yet not ready and still needs some work. I will explain all these concepts in detail (preferably some time next week, once I have more time) along with examples and how to do it in SymPy.&lt;/p&gt;
&lt;p&gt;Cheers!!!&lt;/p&gt;</description>
	<pubDate>Thu, 10 Jul 2014 19:13:06 +0000</pubDate>
</item>
<item>
	<title>Sudhanshu Mishra: GSoC'14 Progress: Working with geometry</title>
	<guid isPermaLink="false">tag:blogger.com,1999:blog-8847459392628952171.post-8093487105603123103</guid>
	<link>http://blog.sudhanshumishra.in/2014/07/gsoc14-progress-working-with-geometry.html</link>
	<description>&lt;div style=&quot;text-align: left;&quot; dir=&quot;ltr&quot;&gt;&lt;div style=&quot;&quot; class=&quot;markdown-body&quot;&gt;&lt;div style=&quot;color: #162029; font-family: 'Open Sans', 'Trebuchet MS', Helvetica, sans-serif; font-size: 14px; line-height: 20px; margin-bottom: 15px;&quot;&gt;&lt;span style=&quot;background-color: white;&quot;&gt;This week I completed &lt;code style=&quot;border-bottom-left-radius: 4px; border-bottom-right-radius: 4px; border-top-left-radius: 4px; border-top-right-radius: 4px; font-family: Menlo, Consolas, 'Courier New', monospace; font-size: 12px !important; padding: 2px 4px; white-space: nowrap;&quot;&gt;refraction_angle&lt;/code&gt;. Now it also works with &lt;code style=&quot;border-bottom-left-radius: 4px; border-bottom-right-radius: 4px; border-top-left-radius: 4px; border-top-right-radius: 4px; font-family: Menlo, Consolas, 'Courier New', monospace; font-size: 12px !important; padding: 2px 4px; white-space: nowrap;&quot;&gt;Ray3D&lt;/code&gt; and &lt;code style=&quot;border-bottom-left-radius: 4px; border-bottom-right-radius: 4px; border-top-left-radius: 4px; border-top-right-radius: 4px; font-family: Menlo, Consolas, 'Courier New', monospace; font-size: 12px !important; padding: 2px 4px; white-space: nowrap;&quot;&gt;Plane&lt;/code&gt;. This function calculates transmitted vector after refraction. &lt;code style=&quot;border-bottom-left-radius: 4px; border-bottom-right-radius: 4px; border-top-left-radius: 4px; border-top-right-radius: 4px; font-family: Menlo, Consolas, 'Courier New', monospace; font-size: 12px !important; padding: 2px 4px; white-space: nowrap;&quot;&gt;medium1&lt;/code&gt; and &lt;code style=&quot;border-bottom-left-radius: 4px; border-bottom-right-radius: 4px; border-top-left-radius: 4px; border-top-right-radius: 4px; font-family: Menlo, Consolas, 'Courier New', monospace; font-size: 12px !important; padding: 2px 4px; white-space: nowrap;&quot;&gt;medium2&lt;/code&gt; can be &lt;code style=&quot;border-bottom-left-radius: 4px; border-bottom-right-radius: 4px; border-top-left-radius: 4px; border-top-right-radius: 4px; font-family: Menlo, Consolas, 'Courier New', monospace; font-size: 12px !important; padding: 2px 4px; white-space: nowrap;&quot;&gt;Medium&lt;/code&gt;or any sympifiable object. If&lt;code style=&quot;border-bottom-left-radius: 4px; border-bottom-right-radius: 4px; border-top-left-radius: 4px; border-top-right-radius: 4px; font-family: Menlo, Consolas, 'Courier New', monospace; font-size: 12px !important; padding: 2px 4px; white-space: nowrap;&quot;&gt;incident&lt;/code&gt; is an object of &lt;code style=&quot;border-bottom-left-radius: 4px; border-bottom-right-radius: 4px; border-top-left-radius: 4px; border-top-right-radius: 4px; font-family: Menlo, Consolas, 'Courier New', monospace; font-size: 12px !important; padding: 2px 4px; white-space: nowrap;&quot;&gt;Ray3D&lt;/code&gt;, &lt;code style=&quot;border-bottom-left-radius: 4px; border-bottom-right-radius: 4px; border-top-left-radius: 4px; border-top-right-radius: 4px; font-family: Menlo, Consolas, 'Courier New', monospace; font-size: 12px !important; padding: 2px 4px; white-space: nowrap;&quot;&gt;normal&lt;/code&gt; also has to be an instance of &lt;code style=&quot;border-bottom-left-radius: 4px; border-bottom-right-radius: 4px; border-top-left-radius: 4px; border-top-right-radius: 4px; font-family: Menlo, Consolas, 'Courier New', monospace; font-size: 12px !important; padding: 2px 4px; white-space: nowrap;&quot;&gt;Ray3D&lt;/code&gt; in order to get the output as a &lt;code style=&quot;border-bottom-left-radius: 4px; border-bottom-right-radius: 4px; border-top-left-radius: 4px; border-top-right-radius: 4px; font-family: Menlo, Consolas, 'Courier New', monospace; font-size: 12px !important; padding: 2px 4px; white-space: nowrap;&quot;&gt;Ray3D&lt;/code&gt;. If plane of separation is not provided and normal is an instance of &lt;code style=&quot;border-bottom-left-radius: 4px; border-bottom-right-radius: 4px; border-top-left-radius: 4px; border-top-right-radius: 4px; font-family: Menlo, Consolas, 'Courier New', monospace; font-size: 12px !important; padding: 2px 4px; white-space: nowrap;&quot;&gt;Ray3D&lt;/code&gt;, normal will be assumed to be intersecting incident ray at the plane of separation. This will not be the case when &lt;code style=&quot;border-bottom-left-radius: 4px; border-bottom-right-radius: 4px; border-top-left-radius: 4px; border-top-right-radius: 4px; font-family: Menlo, Consolas, 'Courier New', monospace; font-size: 12px !important; padding: 2px 4px; white-space: nowrap;&quot;&gt;normal&lt;/code&gt; is a &lt;code style=&quot;border-bottom-left-radius: 4px; border-bottom-right-radius: 4px; border-top-left-radius: 4px; border-top-right-radius: 4px; font-family: Menlo, Consolas, 'Courier New', monospace; font-size: 12px !important; padding: 2px 4px; white-space: nowrap;&quot;&gt;Matrix&lt;/code&gt; or any other sequence. &lt;br style=&quot;&quot; /&gt;If &lt;code style=&quot;border-bottom-left-radius: 4px; border-bottom-right-radius: 4px; border-top-left-radius: 4px; border-top-right-radius: 4px; font-family: Menlo, Consolas, 'Courier New', monospace; font-size: 12px !important; padding: 2px 4px; white-space: nowrap;&quot;&gt;incident&lt;/code&gt; is an instance of &lt;code style=&quot;border-bottom-left-radius: 4px; border-bottom-right-radius: 4px; border-top-left-radius: 4px; border-top-right-radius: 4px; font-family: Menlo, Consolas, 'Courier New', monospace; font-size: 12px !important; padding: 2px 4px; white-space: nowrap;&quot;&gt;Ray3D&lt;/code&gt; and &lt;code style=&quot;border-bottom-left-radius: 4px; border-bottom-right-radius: 4px; border-top-left-radius: 4px; border-top-right-radius: 4px; font-family: Menlo, Consolas, 'Courier New', monospace; font-size: 12px !important; padding: 2px 4px; white-space: nowrap;&quot;&gt;plane&lt;/code&gt; has not been provided and &lt;code style=&quot;border-bottom-left-radius: 4px; border-bottom-right-radius: 4px; border-top-left-radius: 4px; border-top-right-radius: 4px; font-family: Menlo, Consolas, 'Courier New', monospace; font-size: 12px !important; padding: 2px 4px; white-space: nowrap;&quot;&gt;normal&lt;/code&gt; is not&lt;code style=&quot;border-bottom-left-radius: 4px; border-bottom-right-radius: 4px; border-top-left-radius: 4px; border-top-right-radius: 4px; font-family: Menlo, Consolas, 'Courier New', monospace; font-size: 12px !important; padding: 2px 4px; white-space: nowrap;&quot;&gt;Ray3D&lt;/code&gt;, output will be a &lt;code style=&quot;border-bottom-left-radius: 4px; border-bottom-right-radius: 4px; border-top-left-radius: 4px; border-top-right-radius: 4px; font-family: Menlo, Consolas, 'Courier New', monospace; font-size: 12px !important; padding: 2px 4px; white-space: nowrap;&quot;&gt;Matrix&lt;/code&gt;. It is dependent on &lt;code style=&quot;border-bottom-left-radius: 4px; border-bottom-right-radius: 4px; border-top-left-radius: 4px; border-top-right-radius: 4px; font-family: Menlo, Consolas, 'Courier New', monospace; font-size: 12px !important; padding: 2px 4px; white-space: nowrap;&quot;&gt;Plane&lt;/code&gt; so I haven’t added tests for it.&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: #162029; font-family: 'Open Sans', 'Trebuchet MS', Helvetica, sans-serif; font-size: 14px; line-height: 20px; margin-bottom: 15px;&quot;&gt;&lt;span style=&quot;background-color: white;&quot;&gt;Here’s the link to the PR &lt;a style=&quot;&quot; href=&quot;https://github.com/sympy/sympy/pull/7626&quot;&gt;https://github.com/sympy/sympy/pull/7626&lt;/a&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: #162029; font-family: 'Open Sans', 'Trebuchet MS', Helvetica, sans-serif; font-size: 14px; line-height: 20px; margin-bottom: 15px;&quot;&gt;&lt;span style=&quot;background-color: white;&quot;&gt;This week I also worked on making spherical mirrors in SymPy. There are few issues that I am facing. Currently I’m working(stuck) on locating mirrors in space. It’s an amalgamation of 2D and 3D geometry. I still have to subclass Ray of geometry and make it useful for this. I’ve sent a &lt;a style=&quot;&quot; href=&quot;https://github.com/sympy/sympy/pull/7686&quot;&gt;WIP PR&lt;/a&gt;.&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: #162029; font-family: 'Open Sans', 'Trebuchet MS', Helvetica, sans-serif; font-size: 14px; line-height: 20px; margin-bottom: 15px;&quot;&gt;&lt;span style=&quot;background-color: white;&quot;&gt;I’m waiting for Sean to merge &lt;a style=&quot;&quot; href=&quot;https://github.com/sympy/sympy/pull/7607&quot;&gt;this&lt;/a&gt; long waited PR for moving Gaussian optics module.&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: #162029; font-family: 'Open Sans', 'Trebuchet MS', Helvetica, sans-serif; font-size: 14px; line-height: 20px; margin-bottom: 15px;&quot;&gt;That's all for now.&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;</description>
	<pubDate>Tue, 08 Jul 2014 17:24:18 +0000</pubDate>
	<author>noreply@blogger.com (Sudhanshu Mishra)</author>
</item>
<item>
	<title>Akshay Narasimha: Gsoc Week-7</title>
	<guid isPermaLink="false">tag:blogger.com,1999:blog-54146973659574488.post-6017249369410601684</guid>
	<link>http://geekpy.blogspot.com/2014/07/gsoc-week-7.html</link>
	<description>&lt;div style=&quot;text-align: left;&quot; dir=&quot;ltr&quot;&gt;This has been a decent week in terms of progress. One of my long standing PR's has been merged (Line3D class). The other one on Plane has been reviewed by a lot of people and luckily I got a lot of suggestions as to how I can improve the code. I have made the required changes and am waiting for a final go on this PR as that would speed up the work on the optics module as it has a dependency on this class.&lt;br /&gt;&lt;br /&gt;Meanwhile this week I also worked on the Hyperbola class. I have added a few more methods. &lt;a href=&quot;https://github.com/sympy/sympy/pull/7709&quot;&gt;Here&lt;/a&gt; is the link to the PR. I plan to implement more methods this week along with the Rectangular Hyperbola class.&lt;br /&gt;&lt;br /&gt;Until then cheers!&lt;/div&gt;</description>
	<pubDate>Tue, 08 Jul 2014 04:42:02 +0000</pubDate>
	<author>noreply@blogger.com (Akshay Narasimha)</author>
</item>
<item>
	<title>Jim Crist: GSoC Week 7: Expression Trees and Substitution</title>
	<guid isPermaLink="false">tag:,2014-07-06:gsoc-week-7.html</guid>
	<link>http://jcrist.github.io/gsoc-week-7.html</link>
	<description>&lt;p&gt;
&lt;/p&gt;&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;
&lt;div class=&quot;prompt input_prompt&quot;&gt;
&lt;/div&gt;
&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;p&gt;Late post this week due to the &lt;a href=&quot;http://en.wikipedia.org/wiki/Independence_Day_%28United_States%29&quot;&gt;celebration of everything that is American&lt;/a&gt;. This week I finally got my first PR merged. The general linearization code is now part of the Sympy codebase. I currently have a &lt;a href=&quot;https://github.com/sympy/sympy/pull/7681&quot;&gt;PR for Lagrange support&lt;/a&gt; waiting to be reviewed. After that I just need to write the ReST docs and the first part of the project is &quot;complete&quot;. The rest of the week was spent on more optimization work. I'm getting closer to being able to solve the &lt;a href=&quot;http://docs.sympy.org/dev/modules/physics/mechanics/bicycle_example.html&quot;&gt;bicycle example&lt;/a&gt; in a reasonable amount of time!&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://jcrist.github.io/gsoc-week-6.html&quot;&gt;Last week's post&lt;/a&gt; showed the issues with the large expression size and &lt;code&gt;subs&lt;/code&gt; (it takes forever to run). I took some time this week to look into how expressions work in sympy, and wrote a specialized subs function for use in &lt;code&gt;sympy.physics.mechanics&lt;/code&gt;. The rest of this post will show give an overview and some benchmarks of this code.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;
&lt;div class=&quot;prompt input_prompt&quot;&gt;
&lt;/div&gt;
&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;h2 id=&quot;expression-trees&quot;&gt;Expression Trees&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;
&lt;div class=&quot;prompt input_prompt&quot;&gt;
&lt;/div&gt;
&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;p&gt;In sympy, expressions are stored as &lt;a href=&quot;http://en.wikipedia.org/wiki/Tree_%28data_structure%29&quot;&gt;trees&lt;/a&gt;. Each node is an object that has an attribute &lt;code&gt;args&lt;/code&gt; that contains a list of it's child nodes. This is best shown by an example:&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing code_cell rendered&quot;&gt;
&lt;div class=&quot;input&quot;&gt;
&lt;div class=&quot;prompt input_prompt&quot;&gt;
In [1]:
&lt;/div&gt;
&lt;div class=&quot;inner_cell&quot;&gt;
    &lt;div class=&quot;input_area&quot;&gt;
&lt;div class=&quot;highlight-ipynb&quot;&gt;&lt;pre class=&quot;ipynb&quot;&gt;&lt;span class=&quot;kn&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;sympy&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;sympy.printing.dot&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dotprint&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing code_cell rendered&quot;&gt;
&lt;div class=&quot;input&quot;&gt;
&lt;div class=&quot;prompt input_prompt&quot;&gt;
In [2]:
&lt;/div&gt;
&lt;div class=&quot;inner_cell&quot;&gt;
    &lt;div class=&quot;input_area&quot;&gt;
&lt;div class=&quot;highlight-ipynb&quot;&gt;&lt;pre class=&quot;ipynb&quot;&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;symbols&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'a, b, c'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing code_cell rendered&quot;&gt;
&lt;div class=&quot;input&quot;&gt;
&lt;div class=&quot;prompt input_prompt&quot;&gt;
In [3]:
&lt;/div&gt;
&lt;div class=&quot;inner_cell&quot;&gt;
    &lt;div class=&quot;input_area&quot;&gt;
&lt;div class=&quot;highlight-ipynb&quot;&gt;&lt;pre class=&quot;ipynb&quot;&gt;&lt;span class=&quot;n&quot;&gt;test&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cos&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;**&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;test&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class=&quot;output_wrapper&quot;&gt;
&lt;div class=&quot;output&quot;&gt;


&lt;div class=&quot;output_area&quot;&gt;&lt;div class=&quot;prompt output_prompt&quot;&gt;
    Out[3]:&lt;/div&gt;


&lt;div class=&quot;output_text output_subarea output_pyout&quot;&gt;
&lt;pre&gt;a**2/b + a*cos(a + b)
&lt;/pre&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing code_cell rendered&quot;&gt;
&lt;div class=&quot;input&quot;&gt;
&lt;div class=&quot;prompt input_prompt&quot;&gt;
In [4]:
&lt;/div&gt;
&lt;div class=&quot;inner_cell&quot;&gt;
    &lt;div class=&quot;input_area&quot;&gt;
&lt;div class=&quot;highlight-ipynb&quot;&gt;&lt;pre class=&quot;ipynb&quot;&gt;&lt;span class=&quot;k&quot;&gt;with&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;open&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'test.dot'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;'w'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;fil&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;fil&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;write&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dotprint&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing code_cell rendered&quot;&gt;
&lt;div class=&quot;input&quot;&gt;
&lt;div class=&quot;prompt input_prompt&quot;&gt;
In [5]:
&lt;/div&gt;
&lt;div class=&quot;inner_cell&quot;&gt;
    &lt;div class=&quot;input_area&quot;&gt;
&lt;div class=&quot;highlight-ipynb&quot;&gt;&lt;pre class=&quot;ipynb&quot;&gt;&lt;span class=&quot;o&quot;&gt;%%&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;bash&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;dot&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Tpng&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dot&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;o&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;png&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing code_cell rendered&quot;&gt;
&lt;div class=&quot;input&quot;&gt;
&lt;div class=&quot;prompt input_prompt&quot;&gt;
In [6]:
&lt;/div&gt;
&lt;div class=&quot;inner_cell&quot;&gt;
    &lt;div class=&quot;input_area&quot;&gt;
&lt;div class=&quot;highlight-ipynb&quot;&gt;&lt;pre class=&quot;ipynb&quot;&gt;&lt;span class=&quot;kn&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;IPython.core.display&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Image&lt;/span&gt; 
&lt;span class=&quot;n&quot;&gt;Image&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;filename&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'test.png'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class=&quot;output_wrapper&quot;&gt;
&lt;div class=&quot;output&quot;&gt;


&lt;div class=&quot;output_area&quot;&gt;&lt;div class=&quot;prompt output_prompt&quot;&gt;
    Out[6]:&lt;/div&gt;


&lt;div class=&quot;output_png output_subarea output_pyout&quot;&gt;
&lt;img /&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;
&lt;div class=&quot;prompt input_prompt&quot;&gt;
&lt;/div&gt;
&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;p&gt;The root node of this tree is an &lt;code&gt;Add&lt;/code&gt; object, as the outermost operation is adding two smaller expressions together. Going down the left side first, we see that &lt;span class=&quot;math&quot;&gt;\(a^2/b\)&lt;/span&gt; is stored as multiplying &lt;span class=&quot;math&quot;&gt;\(a^2\)&lt;/span&gt; times &lt;span class=&quot;math&quot;&gt;\(b^{-1}\)&lt;/span&gt;. Sympy doesn't have &lt;code&gt;Div&lt;/code&gt; objects, fractions are all expressed using &lt;code&gt;Mul&lt;/code&gt;, with the denominator wrapped in a &lt;code&gt;Pow(den, -1)&lt;/code&gt;. Traversing the right side &lt;span class=&quot;math&quot;&gt;\(a \cos(a + b)\)&lt;/span&gt; is stored as multiplying &lt;code&gt;a&lt;/code&gt; and a &lt;code&gt;cos&lt;/code&gt; object together. The &lt;code&gt;cos&lt;/code&gt; object itself contains one child node - an &lt;code&gt;Add&lt;/code&gt; - which holds &lt;code&gt;a&lt;/code&gt; and &lt;code&gt;b&lt;/code&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;
&lt;div class=&quot;prompt input_prompt&quot;&gt;
&lt;/div&gt;
&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;h2 id=&quot;crawling-the-tree&quot;&gt;Crawling the Tree&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;
&lt;div class=&quot;prompt input_prompt&quot;&gt;
&lt;/div&gt;
&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;p&gt;The design of sympy expression objects uses two key features: &lt;code&gt;args&lt;/code&gt;, and &lt;code&gt;func&lt;/code&gt;. As mentioned above, &lt;code&gt;object.args&lt;/code&gt; holds a tuple of all the child nodes for that object. Likewise, &lt;code&gt;object.func&lt;/code&gt; is a class method that takes in arguments, and returns an instance of that class. For &lt;em&gt;most&lt;/em&gt; objects in sympy, running&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;object.func(*object.args) == object&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;will be a true expression. I say most because not all objects adhere to this (leaf nodes). There has been a lot of discussion about this &lt;a href=&quot;https://github.com/sympy/sympy/wiki/Args-Invariant&quot;&gt;here&lt;/a&gt;, if you're interested.&lt;/p&gt;
&lt;p&gt;One of the great things about this design is that it makes it very easy to write operations that modify these trees using recursion. Normally, recursion in python is frowned upon because the function calls add overhead that could be removed if rewritten as a loop. There is also a maximum recursion depth (default of 1000) to prevent stackoverflow conditions. However, a sympy expression that has 1000 nested nodes is highly unlikely (even in &lt;code&gt;mechanics&lt;/code&gt;), and the recursion makes the code &lt;em&gt;much&lt;/em&gt; more readable. As the &lt;a href=&quot;http://legacy.python.org/dev/peps/pep-0020/&quot;&gt;zen of python&lt;/a&gt; says, &quot;Readability counts&quot;.&lt;/p&gt;
&lt;p&gt;A simple crawler to print every node is written below. It consists of two functions.&lt;/p&gt;
&lt;p&gt;The first one is a generic function &lt;code&gt;crawl&lt;/code&gt;, that crawls the expression tree, calls &lt;code&gt;func&lt;/code&gt; on each node, and returns the result if there is one. Otherwise it recurses down a level into the child nodes, forming a list of &lt;code&gt;new_args&lt;/code&gt;, and then calls &lt;code&gt;expr.func&lt;/code&gt; to rebuild the expression from those args.&lt;/p&gt;
&lt;p&gt;The second one is a printer function. As we don't want to modify the expression at all, we'll just print the node, and then return the expression if it doesn't have args (it's a leaf node). Note that there are more efficient ways to traverse the tree and print all the nodes - this is mostly to demonstrate &lt;code&gt;crawl&lt;/code&gt;, as it will be used later.&lt;/p&gt;
&lt;p&gt;Using these two functions a function that crawls the tree, prints every node, and returns the original expression can be composed using a simple lambda statement.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing code_cell rendered&quot;&gt;
&lt;div class=&quot;input&quot;&gt;
&lt;div class=&quot;prompt input_prompt&quot;&gt;
In [7]:
&lt;/div&gt;
&lt;div class=&quot;inner_cell&quot;&gt;
    &lt;div class=&quot;input_area&quot;&gt;
&lt;div class=&quot;highlight-ipynb&quot;&gt;&lt;pre class=&quot;ipynb&quot;&gt;&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;crawl&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;expr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;func&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;**&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;kwargs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
    &lt;span class=&quot;sd&quot;&gt;&quot;&quot;&quot;Crawl the expression tree, and apply func to every node.&quot;&quot;&quot;&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;val&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;func&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;expr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;**&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;kwargs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;val&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;is&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;not&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;None&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;val&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;new_args&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;crawl&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;arg&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;func&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;**&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;kwargs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;arg&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;expr&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;expr&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;func&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;new_args&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;printer&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;expr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
    &lt;span class=&quot;sd&quot;&gt;&quot;&quot;&quot;Print out every node&quot;&quot;&quot;&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;expr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;not&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;expr&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;expr&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;print_expr&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;lambda&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;expr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;crawl&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;expr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;printer&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;
&lt;div class=&quot;prompt input_prompt&quot;&gt;
&lt;/div&gt;
&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;p&gt;Let's test this function on our expression from above:&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing code_cell rendered&quot;&gt;
&lt;div class=&quot;input&quot;&gt;
&lt;div class=&quot;prompt input_prompt&quot;&gt;
In [8]:
&lt;/div&gt;
&lt;div class=&quot;inner_cell&quot;&gt;
    &lt;div class=&quot;input_area&quot;&gt;
&lt;div class=&quot;highlight-ipynb&quot;&gt;&lt;pre class=&quot;ipynb&quot;&gt;&lt;span class=&quot;n&quot;&gt;temp&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;print_expr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# Checking that the expression was unchanged (temp == test)&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;assert&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;temp&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;test&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class=&quot;output_wrapper&quot;&gt;
&lt;div class=&quot;output&quot;&gt;


&lt;div class=&quot;output_area&quot;&gt;&lt;div class=&quot;prompt&quot;&gt;&lt;/div&gt;
&lt;div class=&quot;output_subarea output_stream output_stdout output_text&quot;&gt;
&lt;pre&gt;a**2/b + a*cos(a + b)
a**2/b
a**2
a
2
1/b
b
-1
a*cos(a + b)
a
cos(a + b)
a + b
b
a

&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;
&lt;div class=&quot;prompt input_prompt&quot;&gt;
&lt;/div&gt;
&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;p&gt;Comparing the printed results with the tree diagram from before, one can see how each big expression can be decomposed into smaller expressions. Further, the rebuilt expression after traversing was identical to the input expression. In the next section we'll write another function that changes the expression tree using &lt;code&gt;crawl&lt;/code&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;
&lt;div class=&quot;prompt input_prompt&quot;&gt;
&lt;/div&gt;
&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;h2 id=&quot;a-custom-subs-function&quot;&gt;A Custom &lt;code&gt;subs&lt;/code&gt; Function&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;
&lt;div class=&quot;prompt input_prompt&quot;&gt;
&lt;/div&gt;
&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;p&gt;In &lt;code&gt;sympy.physics.mechanics&lt;/code&gt;, we deal with symbols, dynamic symbols (which are of type &lt;code&gt;AppliedUndef&lt;/code&gt;), and derivatives of these dynamicsymbols. Unfortunately, the provided &lt;code&gt;subs&lt;/code&gt; function traverses inside the &lt;code&gt;Derivative&lt;/code&gt; terms, giving underdesired results:&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing code_cell rendered&quot;&gt;
&lt;div class=&quot;input&quot;&gt;
&lt;div class=&quot;prompt input_prompt&quot;&gt;
In [9]:
&lt;/div&gt;
&lt;div class=&quot;inner_cell&quot;&gt;
    &lt;div class=&quot;input_area&quot;&gt;
&lt;div class=&quot;highlight-ipynb&quot;&gt;&lt;pre class=&quot;ipynb&quot;&gt;&lt;span class=&quot;kn&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;sympy.physics.mechanics&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dynamicsymbols&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dynamicsymbols&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'x, y'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;test&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;diff&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;())&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;test&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class=&quot;output_wrapper&quot;&gt;
&lt;div class=&quot;output&quot;&gt;


&lt;div class=&quot;output_area&quot;&gt;&lt;div class=&quot;prompt output_prompt&quot;&gt;
    Out[9]:&lt;/div&gt;


&lt;div class=&quot;output_text output_subarea output_pyout&quot;&gt;
&lt;pre&gt;a*(x(t) + Derivative(x(t), t))
&lt;/pre&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing code_cell rendered&quot;&gt;
&lt;div class=&quot;input&quot;&gt;
&lt;div class=&quot;prompt input_prompt&quot;&gt;
In [10]:
&lt;/div&gt;
&lt;div class=&quot;inner_cell&quot;&gt;
    &lt;div class=&quot;input_area&quot;&gt;
&lt;div class=&quot;highlight-ipynb&quot;&gt;&lt;pre class=&quot;ipynb&quot;&gt;&lt;span class=&quot;c&quot;&gt;# Subbing in b for x. Desired result is a*(b + x.diff())&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;subs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class=&quot;output_wrapper&quot;&gt;
&lt;div class=&quot;output&quot;&gt;


&lt;div class=&quot;output_area&quot;&gt;&lt;div class=&quot;prompt output_prompt&quot;&gt;
    Out[10]:&lt;/div&gt;


&lt;div class=&quot;output_text output_subarea output_pyout&quot;&gt;
&lt;pre&gt;a*(b + Derivative(b, t))
&lt;/pre&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;
&lt;div class=&quot;prompt input_prompt&quot;&gt;
&lt;/div&gt;
&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;p&gt;To get around this problem, we've been using a custom function &lt;code&gt;_subs_keep_derivs&lt;/code&gt;. This function creates two substitution dictionaries - one with &lt;code&gt;Derivative&lt;/code&gt;, and one without. Four substitutions then take place:&lt;/p&gt;
&lt;ol style=&quot;&quot;&gt;
&lt;li&gt;Perform subs with the terms in the derivative dictionary&lt;/li&gt;
&lt;li&gt;Substitute in &lt;code&gt;Dummy&lt;/code&gt; symbols for all &lt;code&gt;Derivative&lt;/code&gt; terms in the resulting expression&lt;/li&gt;
&lt;li&gt;Perform subs with the terms in the non-derivative dictionary&lt;/li&gt;
&lt;li&gt;Substitute back the original &lt;code&gt;Derivative&lt;/code&gt; terms from the &lt;code&gt;Dummy&lt;/code&gt; symbols&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;This is slow due to the need for &lt;em&gt;four calls to expr.subs&lt;/em&gt;. Also, &lt;code&gt;subs&lt;/code&gt; applies substitutions sequentially (i.e. each term in the substitution dict requires its own tree traversal). For our purposes in &lt;code&gt;mechanics&lt;/code&gt;, this is unecessary. Using the already written &lt;code&gt;crawl&lt;/code&gt; function, we can compose our own &lt;code&gt;subs&lt;/code&gt; that ignores terms inside derivative objects fairly easily:&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing code_cell rendered&quot;&gt;
&lt;div class=&quot;input&quot;&gt;
&lt;div class=&quot;prompt input_prompt&quot;&gt;
In [11]:
&lt;/div&gt;
&lt;div class=&quot;inner_cell&quot;&gt;
    &lt;div class=&quot;input_area&quot;&gt;
&lt;div class=&quot;highlight-ipynb&quot;&gt;&lt;pre class=&quot;ipynb&quot;&gt;&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;sub_func&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;expr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sub_dict&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
    &lt;span class=&quot;sd&quot;&gt;&quot;&quot;&quot;Perform expression subsitution, ignoring derivatives.&quot;&quot;&quot;&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;expr&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sub_dict&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sub_dict&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;expr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;elif&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;not&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;expr&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;args&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;or&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;expr&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;is_Derivative&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;expr&lt;/span&gt;
    
&lt;span class=&quot;n&quot;&gt;new_subs&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;lambda&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;expr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sub_dict&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;crawl&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;expr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sub_func&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sub_dict&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;
&lt;div class=&quot;prompt input_prompt&quot;&gt;
&lt;/div&gt;
&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;p&gt;That's it. Due to the composable nature of &lt;code&gt;crawl&lt;/code&gt;, the code needed to perform this operation is incredibly simple. Let's test it to make sure it on our previous expression:&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing code_cell rendered&quot;&gt;
&lt;div class=&quot;input&quot;&gt;
&lt;div class=&quot;prompt input_prompt&quot;&gt;
In [12]:
&lt;/div&gt;
&lt;div class=&quot;inner_cell&quot;&gt;
    &lt;div class=&quot;input_area&quot;&gt;
&lt;div class=&quot;highlight-ipynb&quot;&gt;&lt;pre class=&quot;ipynb&quot;&gt;&lt;span class=&quot;c&quot;&gt;# Simple example&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;new_subs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class=&quot;output_wrapper&quot;&gt;
&lt;div class=&quot;output&quot;&gt;


&lt;div class=&quot;output_area&quot;&gt;&lt;div class=&quot;prompt output_prompt&quot;&gt;
    Out[12]:&lt;/div&gt;


&lt;div class=&quot;output_text output_subarea output_pyout&quot;&gt;
&lt;pre&gt;a*(b + Derivative(x(t), t))
&lt;/pre&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;
&lt;div class=&quot;prompt input_prompt&quot;&gt;
&lt;/div&gt;
&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;p&gt;So it leaves terms inside derivaties alone, exactly as desired. We can see how this compares to the previous implementation:&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing code_cell rendered&quot;&gt;
&lt;div class=&quot;input&quot;&gt;
&lt;div class=&quot;prompt input_prompt&quot;&gt;
In [13]:
&lt;/div&gt;
&lt;div class=&quot;inner_cell&quot;&gt;
    &lt;div class=&quot;input_area&quot;&gt;
&lt;div class=&quot;highlight-ipynb&quot;&gt;&lt;pre class=&quot;ipynb&quot;&gt;&lt;span class=&quot;c&quot;&gt;# Old way of doing things, taken from sympy.physics.mechanics.functions&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;_subs_keep_derivs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;expr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sub_dict&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
    &lt;span class=&quot;sd&quot;&gt;&quot;&quot;&quot;Performs subs exactly as subs normally would be,&lt;/span&gt;
&lt;span class=&quot;sd&quot;&gt;    but doesn't sub in expressions inside Derivatives.&quot;&quot;&quot;&lt;/span&gt;

    &lt;span class=&quot;n&quot;&gt;ds&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;expr&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;atoms&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Derivative&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;gs&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Dummy&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;d&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ds&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;items&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sub_dict&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;items&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;deriv_dict&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;dict&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;items&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;is_Derivative&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;sub_dict&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;dict&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;items&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;not&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;is_Derivative&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;dict_to&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;dict&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;zip&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ds&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;gs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;dict_from&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;dict&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;zip&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;gs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ds&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;expr&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;subs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;deriv_dict&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;subs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dict_to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;subs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sub_dict&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;subs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dict_from&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing code_cell rendered&quot;&gt;
&lt;div class=&quot;input&quot;&gt;
&lt;div class=&quot;prompt input_prompt&quot;&gt;
In [14]:
&lt;/div&gt;
&lt;div class=&quot;inner_cell&quot;&gt;
    &lt;div class=&quot;input_area&quot;&gt;
&lt;div class=&quot;highlight-ipynb&quot;&gt;&lt;pre class=&quot;ipynb&quot;&gt;&lt;span class=&quot;c&quot;&gt;# Benchmark substitution&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Using _subs_keep_derivs&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;timeit&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;_subs_keep_derivs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Using new_subs&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;timeit&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;new_subs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class=&quot;output_wrapper&quot;&gt;
&lt;div class=&quot;output&quot;&gt;


&lt;div class=&quot;output_area&quot;&gt;&lt;div class=&quot;prompt&quot;&gt;&lt;/div&gt;
&lt;div class=&quot;output_subarea output_stream output_stdout output_text&quot;&gt;
&lt;pre&gt;Using _subs_keep_derivs
100 loops, best of 3: 3 ms per loop
Using new_subs
10000 loops, best of 3: 39.9 µs per loop

&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;
&lt;div class=&quot;prompt input_prompt&quot;&gt;
&lt;/div&gt;
&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;p&gt;So it's significantly faster. For this small benchmark, approximately 75x faster. Also, as it works in only one traversal of the tree it has a smaller computational complexity - meaning that for larger expressions this speed increase will be even higher. For kicks, let's see how it compares to normal subs for an expression without derivatives:&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing code_cell rendered&quot;&gt;
&lt;div class=&quot;input&quot;&gt;
&lt;div class=&quot;prompt input_prompt&quot;&gt;
In [15]:
&lt;/div&gt;
&lt;div class=&quot;inner_cell&quot;&gt;
    &lt;div class=&quot;input_area&quot;&gt;
&lt;div class=&quot;highlight-ipynb&quot;&gt;&lt;pre class=&quot;ipynb&quot;&gt;&lt;span class=&quot;c&quot;&gt;# For kicks, see how it compares to subs for expr without derivative:&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;test&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cos&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;**&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Using subs&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;timeit&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;subs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Using new subs&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;timeit&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;new_subs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class=&quot;output_wrapper&quot;&gt;
&lt;div class=&quot;output&quot;&gt;


&lt;div class=&quot;output_area&quot;&gt;&lt;div class=&quot;prompt&quot;&gt;&lt;/div&gt;
&lt;div class=&quot;output_subarea output_stream output_stdout output_text&quot;&gt;
&lt;pre&gt;Using subs
1000 loops, best of 3: 676 µs per loop
Using new subs
1000 loops, best of 3: 247 µs per loop

&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;
&lt;div class=&quot;prompt input_prompt&quot;&gt;
&lt;/div&gt;
&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;p&gt;So our implementation of &lt;code&gt;subs&lt;/code&gt; is faster than sympy's. However, this micro benchmark isn't all that meaningful. Normal &lt;code&gt;subs&lt;/code&gt; works in multiple passes so that expressions inside the &lt;code&gt;sub_dict&lt;/code&gt; are also affected. &lt;code&gt;subs&lt;/code&gt; also incorporates math knowledge about the expressions, while ours just does a naive direct match and replace. For our purposes though, this is sufficient. Also, as with all micro-benchmarks, this should be taken with a grain of salt. The main point is that our custom subs function is &lt;em&gt;significantly faster&lt;/em&gt; than the old method of &lt;code&gt;_subs_keep_derivs&lt;/code&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;
&lt;div class=&quot;prompt input_prompt&quot;&gt;
&lt;/div&gt;
&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;h2 id=&quot;custom-simplification&quot;&gt;Custom Simplification&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;
&lt;div class=&quot;prompt input_prompt&quot;&gt;
&lt;/div&gt;
&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;p&gt;The other major issue I discussed &lt;a href=&quot;http://jcrist.github.io/gsoc-week-6.html&quot;&gt;last week&lt;/a&gt; was that some expressions result in &lt;code&gt;nan&lt;/code&gt; or &lt;code&gt;oo&lt;/code&gt; (infinity) when not simplified, but after simplification result in a realizable expression. For example:&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing code_cell rendered&quot;&gt;
&lt;div class=&quot;input&quot;&gt;
&lt;div class=&quot;prompt input_prompt&quot;&gt;
In [16]:
&lt;/div&gt;
&lt;div class=&quot;inner_cell&quot;&gt;
    &lt;div class=&quot;input_area&quot;&gt;
&lt;div class=&quot;highlight-ipynb&quot;&gt;&lt;pre class=&quot;ipynb&quot;&gt;&lt;span class=&quot;n&quot;&gt;test&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sin&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tan&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Before simplification:&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;subs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;After simplification:&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;simplify&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;subs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class=&quot;output_wrapper&quot;&gt;
&lt;div class=&quot;output&quot;&gt;


&lt;div class=&quot;output_area&quot;&gt;&lt;div class=&quot;prompt&quot;&gt;&lt;/div&gt;
&lt;div class=&quot;output_subarea output_stream output_stdout output_text&quot;&gt;
&lt;pre&gt;Before simplification: nan
After simplification: 1

&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;
&lt;div class=&quot;prompt input_prompt&quot;&gt;
&lt;/div&gt;
&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;p&gt;For small expressions, doing &lt;code&gt;simplify&lt;/code&gt; before evaluation is acceptable, but for larger ones simplification is way too slow. However, these divide by zero errors are caused by subexpressions, not the whole expression. Using some knowledge of the types of expressions present in the mechanics module, we can come up with some simple heuristics for what can result in &lt;code&gt;nan&lt;/code&gt;, &lt;code&gt;oo&lt;/code&gt; and &lt;code&gt;zoo&lt;/code&gt;:&lt;/p&gt;
&lt;ol style=&quot;&quot;&gt;
&lt;li&gt;tan(pi/2)&lt;/li&gt;
&lt;li&gt;Fractions with 0 in the denominator&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;In reality, these are the same thing, because&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;\[ \tan(\pi/2) = \frac{\sin(\pi/2)}{\cos(\pi/2)} = \frac{1}{0} \]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Using this knowledge, we can come up with a simple algorithm for performing subs and catching these issues at the same time:&lt;/p&gt;
&lt;ol style=&quot;&quot;&gt;
&lt;li&gt;Replace all &lt;code&gt;tan(*)&lt;/code&gt; with &lt;code&gt;sin(*)/cos(*)&lt;/code&gt;. This will allow us to only have to check for denominator = 0 conditions.&lt;/li&gt;
&lt;li&gt;For nodes that are fractions, check if the denominator evaluates to 0. If so, apply &lt;code&gt;simplify&lt;/code&gt; to the fraction, and then carry on as normal.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;This may not catch every instance that results in would result in a &lt;code&gt;nan&lt;/code&gt; without simplification, but it should catch most of them. Also, the algorithm is so simple, that it can be implemented in only a few lines. First, the &lt;code&gt;tan&lt;/code&gt; replacement. This requires almost no new code, as it can be composed using the already written &lt;code&gt;crawl&lt;/code&gt; function:&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing code_cell rendered&quot;&gt;
&lt;div class=&quot;input&quot;&gt;
&lt;div class=&quot;prompt input_prompt&quot;&gt;
In [17]:
&lt;/div&gt;
&lt;div class=&quot;inner_cell&quot;&gt;
    &lt;div class=&quot;input_area&quot;&gt;
&lt;div class=&quot;highlight-ipynb&quot;&gt;&lt;pre class=&quot;ipynb&quot;&gt;&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;tan_repl_func&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;expr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
    &lt;span class=&quot;sd&quot;&gt;&quot;&quot;&quot;Replace tan with sin/cos&quot;&quot;&quot;&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;isinstance&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;expr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tan&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sin&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;expr&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cos&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;expr&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;elif&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;not&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;expr&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;args&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;or&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;expr&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;is_Derivative&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;expr&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;tan_repl&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;lambda&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;expr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;crawl&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;expr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tan_repl_func&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;
&lt;div class=&quot;prompt input_prompt&quot;&gt;
&lt;/div&gt;
&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;p&gt;Testing it:&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing code_cell rendered&quot;&gt;
&lt;div class=&quot;input&quot;&gt;
&lt;div class=&quot;prompt input_prompt&quot;&gt;
In [18]:
&lt;/div&gt;
&lt;div class=&quot;inner_cell&quot;&gt;
    &lt;div class=&quot;input_area&quot;&gt;
&lt;div class=&quot;highlight-ipynb&quot;&gt;&lt;pre class=&quot;ipynb&quot;&gt;&lt;span class=&quot;n&quot;&gt;tan_repl&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tan&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tan&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tan&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class=&quot;output_wrapper&quot;&gt;
&lt;div class=&quot;output&quot;&gt;


&lt;div class=&quot;output_area&quot;&gt;&lt;div class=&quot;prompt output_prompt&quot;&gt;
    Out[18]:&lt;/div&gt;


&lt;div class=&quot;output_text output_subarea output_pyout&quot;&gt;
&lt;pre&gt;sin(a)/cos(a) + sin(a)*cos(b)/(sin(b)*cos(a))
&lt;/pre&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;
&lt;div class=&quot;prompt input_prompt&quot;&gt;
&lt;/div&gt;
&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;p&gt;So that works as expected. Now for the second pass; the subs with denominator checking and selective simplification. This takes a little bit more code than before, but I've heavily commented it so you should be able to see what's going on:&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing code_cell rendered&quot;&gt;
&lt;div class=&quot;input&quot;&gt;
&lt;div class=&quot;prompt input_prompt&quot;&gt;
In [19]:
&lt;/div&gt;
&lt;div class=&quot;inner_cell&quot;&gt;
    &lt;div class=&quot;input_area&quot;&gt;
&lt;div class=&quot;highlight-ipynb&quot;&gt;&lt;pre class=&quot;ipynb&quot;&gt;&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;smart_subs_func&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;expr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sub_dict&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
        &lt;span class=&quot;c&quot;&gt;# Decompose the expression into num, den&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;num&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;den&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;fraction_decomp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;expr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;den&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;c&quot;&gt;# If there is a non trivial denominator, we need to handle it&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;denom_subbed&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;smart_subs_func&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;den&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sub_dict&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;denom_subbed&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;evalf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
                &lt;span class=&quot;c&quot;&gt;# If denom is 0 after this, attempt to simplify the bad expr&lt;/span&gt;
                &lt;span class=&quot;n&quot;&gt;expr&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;simplify&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;expr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
                &lt;span class=&quot;c&quot;&gt;# Expression won't result in nan, find numerator&lt;/span&gt;
                &lt;span class=&quot;n&quot;&gt;num_subbed&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;smart_subs_func&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;num&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sub_dict&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;num_subbed&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;denom_subbed&lt;/span&gt;
        &lt;span class=&quot;c&quot;&gt;# We have to crawl the tree manually, because `expr` may have been&lt;/span&gt;
        &lt;span class=&quot;c&quot;&gt;# modified in the simplify step. First, perform subs as normal:&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;val&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sub_func&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;expr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sub_dict&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;val&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;is&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;not&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;None&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;val&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;new_args&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;smart_subs_func&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;arg&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sub_dict&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;arg&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;expr&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;expr&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;func&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;new_args&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;fraction_decomp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;expr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
    &lt;span class=&quot;sd&quot;&gt;&quot;&quot;&quot;Return num, den such that expr = num/den&quot;&quot;&quot;&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;not&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;isinstance&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;expr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Mul&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;expr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;num&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;den&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;expr&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;is_Pow&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;and&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;den&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;append&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;num&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;append&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;not&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;den&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;expr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;num&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Mul&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;num&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;den&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Mul&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;den&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;num&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;den&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;
&lt;div class=&quot;prompt input_prompt&quot;&gt;
&lt;/div&gt;
&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;p&gt;Finally, we can put everything from above inside a nice wrapper function:&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing code_cell rendered&quot;&gt;
&lt;div class=&quot;input&quot;&gt;
&lt;div class=&quot;prompt input_prompt&quot;&gt;
In [20]:
&lt;/div&gt;
&lt;div class=&quot;inner_cell&quot;&gt;
    &lt;div class=&quot;input_area&quot;&gt;
&lt;div class=&quot;highlight-ipynb&quot;&gt;&lt;pre class=&quot;ipynb&quot;&gt;&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;smart_subs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;expr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sub_dict&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
    &lt;span class=&quot;sd&quot;&gt;&quot;&quot;&quot;Performs subs, checking for conditions that may result in `nan` or &lt;/span&gt;
&lt;span class=&quot;sd&quot;&gt;    `oo`, and attempts to simplify them out.&lt;/span&gt;

&lt;span class=&quot;sd&quot;&gt;    The expression tree is traversed twice, and the following steps are&lt;/span&gt;
&lt;span class=&quot;sd&quot;&gt;    performed on each expression node:&lt;/span&gt;
&lt;span class=&quot;sd&quot;&gt;    - First traverse: &lt;/span&gt;
&lt;span class=&quot;sd&quot;&gt;        Replace all `tan` with `sin/cos`.&lt;/span&gt;
&lt;span class=&quot;sd&quot;&gt;    - Second traverse:&lt;/span&gt;
&lt;span class=&quot;sd&quot;&gt;        If node is a fraction, check if the denominator evaluates to 0.&lt;/span&gt;
&lt;span class=&quot;sd&quot;&gt;        If so, attempt to simplify it out. Then if node is in sub_dict,&lt;/span&gt;
&lt;span class=&quot;sd&quot;&gt;        sub in the corresponding value.&quot;&quot;&quot;&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;expr&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;crawl&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;expr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tan_repl_func&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;smart_subs_func&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;expr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sub_dict&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;
&lt;div class=&quot;prompt input_prompt&quot;&gt;
&lt;/div&gt;
&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;p&gt;Let's see if it works as expected. Using a simple test case:&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing code_cell rendered&quot;&gt;
&lt;div class=&quot;input&quot;&gt;
&lt;div class=&quot;prompt input_prompt&quot;&gt;
In [21]:
&lt;/div&gt;
&lt;div class=&quot;inner_cell&quot;&gt;
    &lt;div class=&quot;input_area&quot;&gt;
&lt;div class=&quot;highlight-ipynb&quot;&gt;&lt;pre class=&quot;ipynb&quot;&gt;&lt;span class=&quot;n&quot;&gt;test&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tan&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cos&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;sub_dict&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pi&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Without `smart_subs`:&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;new_subs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sub_dict&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;With `smart_subs`:&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;smart_subs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sub_dict&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class=&quot;output_wrapper&quot;&gt;
&lt;div class=&quot;output&quot;&gt;


&lt;div class=&quot;output_area&quot;&gt;&lt;div class=&quot;prompt&quot;&gt;&lt;/div&gt;
&lt;div class=&quot;output_subarea output_stream output_stdout output_text&quot;&gt;
&lt;pre&gt;Without `smart_subs`:
nan
With `smart_subs`:
1

&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;
&lt;div class=&quot;prompt input_prompt&quot;&gt;
&lt;/div&gt;
&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;p&gt;And some timings:&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing code_cell rendered&quot;&gt;
&lt;div class=&quot;input&quot;&gt;
&lt;div class=&quot;prompt input_prompt&quot;&gt;
In [22]:
&lt;/div&gt;
&lt;div class=&quot;inner_cell&quot;&gt;
    &lt;div class=&quot;input_area&quot;&gt;
&lt;div class=&quot;highlight-ipynb&quot;&gt;&lt;pre class=&quot;ipynb&quot;&gt;&lt;span class=&quot;k&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Using `smart_subs`:&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;timeit&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;smart_subs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sub_dict&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Using simplification, then normal subs&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;timeit&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;simplify&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;subs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sub_dict&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Using trigsimp, then normal subs&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;timeit&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;trigsimp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;subs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sub_dict&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class=&quot;output_wrapper&quot;&gt;
&lt;div class=&quot;output&quot;&gt;


&lt;div class=&quot;output_area&quot;&gt;&lt;div class=&quot;prompt&quot;&gt;&lt;/div&gt;
&lt;div class=&quot;output_subarea output_stream output_stdout output_text&quot;&gt;
&lt;pre&gt;Using `smart_subs`:
10000 loops, best of 3: 92 µs per loop
Using simplification, then normal subs
10 loops, best of 3: 42.9 ms per loop
Using trigsimp, then normal subs
10 loops, best of 3: 30.8 ms per loop

&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;
&lt;div class=&quot;prompt input_prompt&quot;&gt;
&lt;/div&gt;
&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;p&gt;Using selective simplification, the same results can be obtained for a fraction of the cost. 360 times faster for this small test.&lt;/p&gt;
&lt;p&gt;Let's see what the overhead of &lt;code&gt;smart_subs&lt;/code&gt; is for an expression that doesn't need it:&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing code_cell rendered&quot;&gt;
&lt;div class=&quot;input&quot;&gt;
&lt;div class=&quot;prompt input_prompt&quot;&gt;
In [23]:
&lt;/div&gt;
&lt;div class=&quot;inner_cell&quot;&gt;
    &lt;div class=&quot;input_area&quot;&gt;
&lt;div class=&quot;highlight-ipynb&quot;&gt;&lt;pre class=&quot;ipynb&quot;&gt;&lt;span class=&quot;n&quot;&gt;test&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sin&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cos&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;sub_dict&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;new_subs&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;timeit&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;new_subs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sub_dict&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;smart_subs&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;timeit&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;smart_subs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sub_dict&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Using simplification, then normal subs&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;timeit&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;simplify&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;subs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sub_dict&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Using trigsimp, then normal subs&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;timeit&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;trigsimp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;subs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sub_dict&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class=&quot;output_wrapper&quot;&gt;
&lt;div class=&quot;output&quot;&gt;


&lt;div class=&quot;output_area&quot;&gt;&lt;div class=&quot;prompt&quot;&gt;&lt;/div&gt;
&lt;div class=&quot;output_subarea output_stream output_stdout output_text&quot;&gt;
&lt;pre&gt;new_subs
1000 loops, best of 3: 222 µs per loop
smart_subs
1000 loops, best of 3: 2.34 ms per loop
Using simplification, then normal subs
1 loops, best of 3: 1.11 s per loop
Using trigsimp, then normal subs
1 loops, best of 3: 815 ms per loop

&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;
&lt;div class=&quot;prompt input_prompt&quot;&gt;
&lt;/div&gt;
&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;p&gt;So there's considerable overhead, which was expected. Still, it's much faster than using simplify first, and then running &lt;code&gt;subs&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;The best use method would be to first try it with &lt;code&gt;new_subs&lt;/code&gt;, and if you get a &lt;code&gt;nan&lt;/code&gt; or &lt;code&gt;oo&lt;/code&gt;, then try using &lt;code&gt;smart_subs&lt;/code&gt;. To aid in this, we can write a nice wrapper function &lt;code&gt;msubs&lt;/code&gt; that contains both methods:&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing code_cell rendered&quot;&gt;
&lt;div class=&quot;input&quot;&gt;
&lt;div class=&quot;prompt input_prompt&quot;&gt;
In [24]:
&lt;/div&gt;
&lt;div class=&quot;inner_cell&quot;&gt;
    &lt;div class=&quot;input_area&quot;&gt;
&lt;div class=&quot;highlight-ipynb&quot;&gt;&lt;pre class=&quot;ipynb&quot;&gt;&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;msubs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;expr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sub_dict&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;smart&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;False&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
    &lt;span class=&quot;sd&quot;&gt;&quot;&quot;&quot;A custom subs for use on expressions derived in physics.mechanics.&lt;/span&gt;

&lt;span class=&quot;sd&quot;&gt;    Traverses the expression tree once, performing the subs found in sub_dict.&lt;/span&gt;
&lt;span class=&quot;sd&quot;&gt;    Terms inside `Derivative` expressions are ignored:&lt;/span&gt;

&lt;span class=&quot;sd&quot;&gt;    &amp;gt;&amp;gt;&amp;gt; x = dynamicsymbols('x')&lt;/span&gt;
&lt;span class=&quot;sd&quot;&gt;    &amp;gt;&amp;gt;&amp;gt; msubs(x.diff() + x, {x: 1})&lt;/span&gt;
&lt;span class=&quot;sd&quot;&gt;    Derivative(x, t) + 1&lt;/span&gt;

&lt;span class=&quot;sd&quot;&gt;    If smart=True, also checks for conditions that may result in `nan`, but&lt;/span&gt;
&lt;span class=&quot;sd&quot;&gt;    if simplified would yield a valid expression. For example:&lt;/span&gt;

&lt;span class=&quot;sd&quot;&gt;    &amp;gt;&amp;gt;&amp;gt; (sin(a)/tan(a)).subs(a, 0)&lt;/span&gt;
&lt;span class=&quot;sd&quot;&gt;    nan&lt;/span&gt;
&lt;span class=&quot;sd&quot;&gt;    &amp;gt;&amp;gt;&amp;gt; msubs(sin(a)/tan(a), {a: 0}, smart=True)&lt;/span&gt;
&lt;span class=&quot;sd&quot;&gt;    1&lt;/span&gt;

&lt;span class=&quot;sd&quot;&gt;    It does this by first replacing all `tan` with `sin/cos`. Then each node&lt;/span&gt;
&lt;span class=&quot;sd&quot;&gt;    is traversed. If the node is a fraction, subs is first evaluated on the&lt;/span&gt;
&lt;span class=&quot;sd&quot;&gt;    denominator. If this results in 0, simplification of the entire fraction&lt;/span&gt;
&lt;span class=&quot;sd&quot;&gt;    is attempted. Using this selective simplification, only subexpressions&lt;/span&gt;
&lt;span class=&quot;sd&quot;&gt;    that result in 1/0 are targeted, resulting in faster performance.&quot;&quot;&quot;&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;smart&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;smart_subs&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;new_subs&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;isinstance&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;expr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Matrix&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
        &lt;span class=&quot;c&quot;&gt;# For matrices, func is applied to each element using `applyfunc`&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;expr&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;applyfunc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;lambda&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;func&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sub_dict&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;func&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;expr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sub_dict&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing code_cell rendered&quot;&gt;
&lt;div class=&quot;input&quot;&gt;
&lt;div class=&quot;prompt input_prompt&quot;&gt;
In [25]:
&lt;/div&gt;
&lt;div class=&quot;inner_cell&quot;&gt;
    &lt;div class=&quot;input_area&quot;&gt;
&lt;div class=&quot;highlight-ipynb&quot;&gt;&lt;pre class=&quot;ipynb&quot;&gt;&lt;span class=&quot;c&quot;&gt;#Check that the results are the same:&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;msubs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sub_dict&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;new_subs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sub_dict&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;msubs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sub_dict&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;smart&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;True&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;smart_subs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sub_dict&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class=&quot;output_wrapper&quot;&gt;
&lt;div class=&quot;output&quot;&gt;


&lt;div class=&quot;output_area&quot;&gt;&lt;div class=&quot;prompt output_prompt&quot;&gt;
    Out[25]:&lt;/div&gt;


&lt;div class=&quot;output_text output_subarea output_pyout&quot;&gt;
&lt;pre&gt;True
&lt;/pre&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;
&lt;div class=&quot;prompt input_prompt&quot;&gt;
&lt;/div&gt;
&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;p&gt;This code has been included in my optimization branch, and is performing admirably against all the included tests (so much speed up!!!). The big test though is the bicycle example.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;
&lt;div class=&quot;prompt input_prompt&quot;&gt;
&lt;/div&gt;
&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;h2 id=&quot;the-big-test&quot;&gt;The Big Test&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;
&lt;div class=&quot;prompt input_prompt&quot;&gt;
&lt;/div&gt;
&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;p&gt;To really put this new code to the test I applied it to the &lt;a href=&quot;http://docs.sympy.org/dev/modules/physics/mechanics/bicycle_example.html&quot;&gt;bicycle example&lt;/a&gt;, which has operation counts ranging from 400,000 to several million depending on which expression you're working with. How did it fair? Mixed results...&lt;/p&gt;
&lt;p&gt;Using &lt;code&gt;msubs&lt;/code&gt; with &lt;code&gt;smart=False&lt;/code&gt; in the formation of the linearizer object resulted in a huge speed increase. Previously using &lt;code&gt;_subs_keep_derivs&lt;/code&gt; there resulted in a run time of several hours. Now it runs in 14 seconds!&lt;/p&gt;
&lt;p&gt;The second test is in the application of the operating point to the M, A, and B matrices. Previously evaluating these had resulted in &lt;code&gt;nan&lt;/code&gt; and &lt;code&gt;oo&lt;/code&gt;, and with operation counts exceeding 400,000 for M pre-simplification is out of the question. I tried using &lt;code&gt;msubs&lt;/code&gt; with &lt;code&gt;smart=True&lt;/code&gt; on this M, and let it run for 6 hours. It ended up consuming 98% of my RAM (4 GB worth), and it still wasn't done :( So for reasonable sized expressions the smart_subs we've implemented is acceptable, but it still doesn't work for the huge expressions. I'll have to keep working on optimizations to make this faster/reduce the initial expression size.&lt;/p&gt;
&lt;p&gt;Still, all is not lost. Going from formulation to M, A, and B without the operating point substitution now only takes 20 minutes - down from the several hours before. This is actually faster than the previous linearize method, but unforunately results in expressions that evaluate to &lt;code&gt;nan&lt;/code&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;
&lt;div class=&quot;prompt input_prompt&quot;&gt;
&lt;/div&gt;
&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;h2 id=&quot;future-work&quot;&gt;Future Work&lt;/h2&gt;
&lt;p&gt;Per my &lt;a href=&quot;https://github.com/pydy/pydy/wiki/GSoC-2014-Application:-Jim-Crist-%28Linearization-Routines-for-Equations-of-Motion%29#timeline&quot;&gt;original timeline&lt;/a&gt; I was supposed to be working on &quot;pre-linearization&quot; routines for generating the equations of motion directly in linearized form. I think this will be dropped in favor of cleaning up and speeding up the existing codebase. There's some dead code that needs removing, and I have some other ideas for speed-ups that I'd like to try.&lt;/p&gt;
&lt;p&gt;After that, I hope to get to the original part 3 of the project, which is adding support for matrices to the code-generation code. Not sure if this would live in sympy or pydy, but it would be extremely useful to myself and others. For now I plan on taking it week-by-week.&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;&lt;em&gt;If you have thoughts on how to deal with the &lt;code&gt;nan&lt;/code&gt; and &lt;code&gt;oo&lt;/code&gt; issue, please let me know in the comments. Thanks!&lt;/em&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;&lt;/p&gt;</description>
	<pubDate>Sun, 06 Jul 2014 22:25:00 +0000</pubDate>
</item>
<item>
	<title>Sushant Hiray: This Week in CSymPy: #6-#7</title>
	<guid isPermaLink="true">http://sushant-hiray.in/posts/gsoc/csympy-week6-7/</guid>
	<link>http://sushant-hiray.in/posts/gsoc/csympy-week6-7/</link>
	<description>&lt;p&gt;Week 7 for GSoC just ended. I successfully cleared the mid-term review, thanks &lt;a href=&quot;https://github.com/certik&quot;&gt;@certik&lt;/a&gt;&lt;/p&gt;

&lt;h1 id=&quot;progress&quot;&gt;Progress&lt;/h1&gt;

&lt;p&gt;I started the week 6 by implementing refactoring the various instances of &lt;code&gt;subs&lt;/code&gt; by adding a method &lt;code&gt;create&lt;/code&gt; to construct classes with canonicalization. &lt;a href=&quot;https://github.com/sympy/csympy/issues/210&quot;&gt;#210&lt;/a&gt; was the relevant issue which was raised. I opened &lt;a href=&quot;https://github.com/sympy/csympy/pull/213&quot;&gt;pull 213&lt;/a&gt; to address this issue. This was a good addition as it reduced the line of codes by 117.&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;br /&gt;
After successfully resolving #210 I started working on the Complex Module. By the end of the sixth week, I had discussed with Ondrej regarding the basic structure for the Complex Class. We had decided to use the &lt;code&gt;mpq_class&lt;/code&gt; itself for the real and the imaginary part, as opposed to creating an alternate real or complex part.
&lt;br /&gt;&lt;br /&gt;
&lt;a href=&quot;https://github.com/sympy/csympy/pull/223&quot;&gt;Pull 223&lt;/a&gt; implements the complex module. The class design structure could be found in the PR. 
&lt;br /&gt;&lt;br /&gt;
In Week 7 I was travelling back from University to home, so I couldn’t contribute much code for a couple of days.
By the end of Week 7, I had managed to implement some part of the basic API.
All the virtual functions are yet to be implemented, so right now I’m not returning an object in &lt;code&gt;from_mpq&lt;/code&gt;
&lt;br /&gt;&lt;br /&gt;
I will speed up during the next week and hope to merge the Complex Module.&lt;/p&gt;

&lt;h1 id=&quot;week-highlights&quot;&gt;Week Highlights!&lt;/h1&gt;

&lt;p&gt;Somewhere around this period, I crossed 100 commits into CSymPy master. Its been a long journey since I first started contributing to CSymPy.&lt;/p&gt;

&lt;h1 id=&quot;the-week-ahead&quot;&gt;The Week Ahead&lt;/h1&gt;
&lt;p&gt;Complete the basic API for &lt;code&gt;Complex&lt;/code&gt; Module and merge it into master.&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;
Thats all for now :) Will get back next week!&lt;/p&gt;</description>
	<pubDate>Sat, 05 Jul 2014 13:45:00 +0000</pubDate>
</item>
<item>
	<title>Avichal Dayal</title>
	<guid isPermaLink="false">tag:blogger.com,1999:blog-283806077182880539.post-7888716637890298695</guid>
	<link>http://gsocblog.blogspot.com/2014/07/this-week-was-unproductive-coding-wise.html</link>
	<description>&lt;div style=&quot;text-align: left;&quot; dir=&quot;ltr&quot;&gt;This week was unproductive coding-wise. I spent most of the time designing and writing pseudo-code.&lt;br /&gt;&lt;br /&gt;For the Formal Power Series part of my project, last week I implemented the algorithm to find general term for series expansion of a function. Also various operations on series like addition, multiplication, composition were implemented.&lt;br /&gt;I store the coefficients of series in a Stream class which works on lazy evaluation scheme.&lt;br /&gt;&lt;br /&gt;However the Stream class currently is not a very generic one. It can only be used to represent series expansion of a function with parameters like &quot;x&quot;, &quot;general_term&quot; and methods for series arithmetics.&lt;br /&gt;&lt;br /&gt;To make it more generic, I'll make the Stream class act only as a container to store elements (infinitely many in lazy scheme).&lt;br /&gt;To represent infinite series, there will be another class - Lazyseries. It will store its coefficients using the Stream class and will contain the methods for series arithmetics.&lt;br /&gt;This way, the stream class can also be used to store other infinite structures. E.g.:- Fibonacci series can be represented in the following way using &quot;Stream&quot;&lt;br /&gt;&lt;br /&gt;&lt;pre style=&quot;&quot;&gt;&lt;code style=&quot;color: black;&quot;&gt; def fib(x, y):  &lt;br /&gt;   head = (x, y)  &lt;br /&gt;   tail = lambda: fib(y, x+y)  &lt;br /&gt;   return Stream(head, tail)  &lt;br /&gt;&lt;/code&gt;&lt;/pre&gt;&lt;br /&gt;&lt;br /&gt;But I'm a bit unsure if this is the best way for lazy evaluation. Currently I store the first element and the rest of the elements as a lambda function. Lambda function delays the evaluation of the tail. I don't know if this is the most efficient method in terms of memory and speed.&lt;br /&gt;&lt;br /&gt;As an example:- Multiplication of two series is defined as:-&lt;br /&gt;head = head1 * head2&lt;br /&gt;tail = head1 * tail2 + head2 * tail1 + tail1 * tail2&lt;br /&gt;Now when tail is evaluated continuously, many stream objects are created in the memory resulting in memory overflow. I'm working on this.&lt;/div&gt;</description>
	<pubDate>Sat, 05 Jul 2014 08:53:52 +0000</pubDate>
	<author>noreply@blogger.com (Avichal Dayal)</author>
</item>
<item>
	<title>Tarun Gaba: GSoC 14: Midterm Evaluations have ended!</title>
	<guid isPermaLink="true">http://tarzzz.github.io/gsoc14/post-mid-terms.html</guid>
	<link>http://tarzzz.github.io/gsoc14/post-mid-terms.html</link>
	<description>{% include JB/setup %}


[ &amp;lt;-Back to posts ](/gsoc14)

It has been a week after the midterm evaluations are over, and I am back to work
after a small break(with permission from my mentor, off course!).
I have been working on writing a test suite for the Dynamics Visualizer. This
is the wrapping up part of the visualizer for this gsoc.

[Here](/blog/visualization/index.html?load=samples/scene_desc.json) is a visualization 
of a rolling disc(it is slightly buggy though), that i prepared.

To view the animation, allow the visualization to load in the webpage(it shall load
automatically), and then hit the `Play Animation` button.


After writing some tests for visualizer, I am going to start fleshing out API
for the module, to provide IPython support to the visualizer. The main aim of
writing this module is to make visualizer interactive, in the sense, that a user 
should be able to change all the variables from the GUI(which is rendered
inside notebook's output cell) and then rerun the simulations without having to 
write any code, or execute any of the code manually. The data of the new simulations
will be automatically fed into visualizer, and then it can be viewed as an animation.

This whole workflow will be very convenient for the existing PyDy users, as well as
the new ones. It will be particularly convenient for those who want to just play around
with the existing systems, by changing the system variables, and view how it affects
the resulting animations.

With the development of this module, as well as ongoing improvements in the other PyDy
modules(by my fellow GSoC'ers from PyDy), we should be able to perform lightening fast
simulations for a system, as well as view them on a canvas. 

I will keep posting the new work I will be doing, with better details(once I actually start
implementing new stuff!).

[ &amp;lt;-Back to posts ](/gsoc14)</description>
	<pubDate>Fri, 04 Jul 2014 17:40:37 +0000</pubDate>
</item>
<item>
	<title>Soumya Dipta Biswas: GSoC 2014: Week 6</title>
	<guid isPermaLink="false">http://blog.s-d-b.com/?p=91</guid>
	<link>http://blog.s-d-b.com/gsoc-2014-week-6/</link>
	<description>&lt;p&gt;Welcome back everyone,&lt;/p&gt;
&lt;p&gt;This week I set about to fix one of my long pending PR associated with Propositional Logic. Following that I worked on conversion to Prenex Normal Form and Skolem Normal Form. Firstly, let me talk about the PR associated with Propositional Logic. It basically involved adding small functions like validity, entailment and some small modifications to the Propositional Knowledge Base. I assume most of the readers would be familiar with the concept of &lt;a href=&quot;http://en.wikipedia.org/wiki/Validity&quot; target=&quot;_blank&quot; title=&quot;Validity&quot;&gt;validity&lt;/a&gt; and &lt;a href=&quot;http://en.wikipedia.org/wiki/Logical_consequence&quot; target=&quot;_blank&quot; title=&quot;Entailment&quot;&gt;entailment&lt;/a&gt; but I will briefly mention the algorithm to compute this and the intuition behind the same. Validity is given by &lt;code&gt;not satisfiable(Not(expr))&amp;lt;/expr&amp;gt;&lt;/code&gt;. Why does this work? If an expr is valid then it is True under all interpretations. Therefore &lt;code&gt;Not(expr)&lt;/code&gt; is always False i.e. it cannot be satisfied by any model. Hence if the negation of the expr is unsatisfiable then the original formula is valid. Moving on to entailment, the conventional definition stands that a set of formulas formula_set entails a formula expr iff expr is True whenever formula_set is True. That basically boils down to &lt;code&gt;And(*formula_set) &amp;gt;&amp;gt; expr&lt;/code&gt;. However there is another method, to accomplish the same, namely &lt;code&gt;not satisfiable(And(~expr, *formula_set))&lt;/code&gt;. Ok, firstly why does this non-intuitive expression even work? Well whenever formula set is True, expr must be True (for the entailment to hold) hence ~expr must be False thereby making the entire conjunction False. If the formula_set is False then the conjunction is clearly False. So if the entailment is to hold then the conjunction must be unsatisfiable, which is exactly what was implied earlier. Let us look at one special case before moving on. What if the formula_set is empty. While the solution is a matter of convention to a good extent, SymPy uses ideas from the second formula to resolve the ambiguity which yields &lt;code&gt;not satisfiable(And(~expr))&lt;/code&gt; which is exactly the same as validity of expr. Theoretically entailment means “Given &lt;em&gt;this&lt;/em&gt; what can we infer”. So, given nothing we can only infer that, which is always the truth. Except for these changes I also made changes to PropKB which is probably best not discussed at the moment.&lt;/p&gt;
&lt;p&gt;Coming now to the major interest of the post. The major time was spent in the functionality for conversion to &lt;a href=&quot;http://en.wikipedia.org/wiki/Prenex_normal_form&quot; target=&quot;_blank&quot; title=&quot;PNF&quot;&gt;Prenex Normal Form&lt;/a&gt; and &lt;a href=&quot;http://en.wikipedia.org/wiki/Skolem_normal_form&quot; target=&quot;_blank&quot; title=&quot;SNF&quot;&gt;Skolem Normal Form&lt;/a&gt;. Without going into a lot of details let me introduce these to you. A formula in PNF consists of a sequence of Quantifiers (containing both Universal and Existential quantifiers) followed by a Quatifier-less expression. The series of Quantifiers is called a &lt;em&gt;prefix&lt;/em&gt; while the expression is called the matrix. Now, every formula in FOL can be converted to an &lt;em&gt;equivalent&lt;/em&gt; formula in PNF. The matrix can be compared to a formula in propositional logic (if we think of the predicates as literals of PL) and most of the operations of PL become relevant. However we cannot completely ignore the prefix and hence we try to perform some operations such that we can look at the matrix without any regard to the prefix. This brings us to the Skolem Normal Form. A formula is converted to SNF by first converting it to PNF then dropping the Existential quantifiers (according to some rule). Now the prefix contains only Universal quantifiers, which are assumed to be implicitly implied and hence simply ignored while looking at the matrix. I will be updating the various rules for conversion and examples soon. Till then stay tuned.&lt;/p&gt;
&lt;p&gt;Arrivederci&lt;/p&gt;</description>
	<pubDate>Thu, 03 Jul 2014 18:13:06 +0000</pubDate>
</item>
<item>
	<title>Harsh Gupta: week 6</title>
	<guid isPermaLink="true">https://hargup.github.io/posts/week-6.html</guid>
	<link>https://hargup.github.io/posts/week-6.html</link>
	<description>&lt;h3&gt;Solving Trigonometric Function (part II)&lt;/h3&gt;
&lt;p&gt;There is another technique to solve trigonometric function. Just as every
trigonometric function can be written in term of \( \tan \) it can also be written
in terms of \( \exp \).&lt;/p&gt;
&lt;p&gt;$$ sin(x) = - \frac{i}{2} \left(e^{i x} - e^{- i x}\right) $$
$$ cos(x) = \frac{e^{i x}}{2} + \frac{1}{2} e^{- i x} $$
$$ tan(x) = \frac{i \left(- e^{i x} + e^{- i x}\right)}{e^{i x} + e^{- i x}} $$
$$ cot(x) = \frac{i \left(e^{i x} + e^{- i x}\right)}{e^{i x} - e^{- i x}} $$&lt;/p&gt;
&lt;p&gt;So, solving a trigonometric equation is equivalent to solving a rational
function in \( \exp \). Note: here the \( \exp \) is in complex domain and
equation \( exp(x) = y \) has solution
\( \left\{i \left(2 \pi n + \arg{\left (y \right )}\right) + \log{\left (\left\lvert{y}\right\rvert \right )}\; |\; n \in \mathbb{Z}\right\} \)
when solved for \( x \).&lt;/p&gt;</description>
	<pubDate>Wed, 02 Jul 2014 08:43:01 +0000</pubDate>
</item>
<item>
	<title>Sudhanshu Mishra: GSoC'14 progress: Week 6</title>
	<guid isPermaLink="false">tag:blogger.com,1999:blog-8847459392628952171.post-3401083357494053543</guid>
	<link>http://blog.sudhanshumishra.in/2014/07/gsoc14-progress-week-6.html</link>
	<description>&lt;div style=&quot;text-align: left;&quot; dir=&quot;ltr&quot;&gt;&lt;div style=&quot;color: #444444; font-family: Arvo, 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 13px; line-height: 18px; margin-bottom: 9px;&quot;&gt;It was a busy week though I managed to do some work.&lt;/div&gt;&lt;div style=&quot;color: #444444; font-family: Arvo, 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 13px; line-height: 18px; margin-bottom: 9px;&quot;&gt;I've been working on following things:&lt;/div&gt;&lt;ul style=&quot;color: #444444; font-family: Arvo, 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 13px; line-height: 18px; margin: 0px 0px 9px 25px; padding: 0px;&quot;&gt;&lt;li style=&quot;&quot;&gt;Integrating &lt;code style=&quot;background-color: #f7f7f9; border-bottom-left-radius: 3px; border-bottom-right-radius: 3px; border-top-left-radius: 3px; border-top-right-radius: 3px; border: 1px solid rgb(225, 225, 232); color: #dd1144; font-family: Consolas, 'Liberation Mono', Courier, monospace !important; font-size: 12px; padding: 3px 4px;&quot;&gt;TWave&lt;/code&gt; with &lt;code style=&quot;background-color: #f7f7f9; border-bottom-left-radius: 3px; border-bottom-right-radius: 3px; border-top-left-radius: 3px; border-top-right-radius: 3px; border: 1px solid rgb(225, 225, 232); color: #dd1144; font-family: Consolas, 'Liberation Mono', Courier, monospace !important; font-size: 12px; padding: 3px 4px;&quot;&gt;refraction_angle&lt;/code&gt;(&lt;a style=&quot;color: blue;&quot; href=&quot;https://github.com/sympy/sympy/pull/7626&quot;&gt;7626&lt;/a&gt;)&lt;/li&gt;&lt;li style=&quot;&quot;&gt;Interference class&lt;/li&gt;&lt;/ul&gt;&lt;div style=&quot;color: #444444; font-family: Arvo, 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 13px; line-height: 18px; margin-bottom: 9px;&quot;&gt;Some blocking 3D geometry code got merged yesterday which gives me a lot of new things to work on. :-)&lt;/div&gt;&lt;div style=&quot;color: #444444; font-family: Arvo, 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 13px; line-height: 18px; margin-bottom: 9px;&quot;&gt;I also tried to take a look on very old &lt;a style=&quot;color: blue;&quot; href=&quot;https://github.com/sympy/sympy/pull/1226&quot;&gt;patch&lt;/a&gt; for &lt;code style=&quot;background-color: #f7f7f9; border-bottom-left-radius: 3px; border-bottom-right-radius: 3px; border-top-left-radius: 3px; border-top-right-radius: 3px; border: 1px solid rgb(225, 225, 232); color: #dd1144; font-family: Consolas, 'Liberation Mono', Courier, monospace !important; font-size: 12px; padding: 3px 4px;&quot;&gt;gaussopt&lt;/code&gt;.&lt;/div&gt;&lt;div style=&quot;color: #444444; font-family: Arvo, 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 13px; line-height: 18px; margin-bottom: 9px;&quot;&gt;This week I wrote a script to update the development documentation when a PR gets merged into the master. This is up and running.&lt;/div&gt;&lt;div style=&quot;color: #444444; font-family: Arvo, 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 13px; line-height: 18px; margin-bottom: 9px;&quot;&gt;I passed mid term evaluation that took place last week and I would like to thank &lt;a style=&quot;color: blue;&quot; href=&quot;https://github.com/flacjacket&quot;&gt;Sean&lt;/a&gt;, &lt;a style=&quot;color: blue;&quot; href=&quot;https://github.com/certik&quot;&gt;Ondrej&lt;/a&gt;,&lt;a style=&quot;color: blue;&quot; href=&quot;https://github.com/asmeurer&quot;&gt;Aaron&lt;/a&gt; and &lt;a style=&quot;color: blue;&quot; href=&quot;https://github.com/smichr&quot;&gt;Chris&lt;/a&gt; for their constant support.&lt;/div&gt;&lt;div style=&quot;color: #444444; font-family: Arvo, 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 13px; line-height: 18px; margin-bottom: 9px;&quot;&gt;That's all for now. &lt;em style=&quot;&quot;&gt;Cheers!&lt;/em&gt;&lt;/div&gt;&lt;/div&gt;</description>
	<pubDate>Wed, 02 Jul 2014 03:27:16 +0000</pubDate>
	<author>noreply@blogger.com (Sudhanshu Mishra)</author>
</item>
<item>
	<title>Akshay Narasimha: Gsoc Week-6</title>
	<guid isPermaLink="false">tag:blogger.com,1999:blog-54146973659574488.post-9069493126125199249</guid>
	<link>http://geekpy.blogspot.com/2014/06/gsoc-week-6.html</link>
	<description>&lt;div style=&quot;text-align: left;&quot; dir=&quot;ltr&quot;&gt;Sorry for the late post ,had an issue with my data card . First of all I couldn't get my PR's (Line3D, Plane) merged as Stefan was busy, though I addressed all of his issues and hopefully it is time before they get merged.&lt;br /&gt;&lt;br /&gt;I started working on the Hyperbola class, you can find the code &lt;a href=&quot;https://github.com/akshayah3/sympy/blob/hyperbola/sympy/geometry/hyperbola.py&quot;&gt;here&lt;/a&gt;.&lt;br /&gt;This week I plan to continue the work on the Hyperbola class and hopefully will get my previous PR's merged.&lt;br /&gt;&lt;br /&gt;Until then cheers! &lt;/div&gt;</description>
	<pubDate>Tue, 01 Jul 2014 04:22:20 +0000</pubDate>
	<author>noreply@blogger.com (Akshay Narasimha)</author>
</item>
<item>
	<title>Kundan Kumar: GSoC Week 6: Docs of system of ODEs</title>
	<guid isPermaLink="false">http://kundankumar185.wordpress.com/?p=102</guid>
	<link>http://kundankumar185.wordpress.com/2014/06/29/102/</link>
	<description>&lt;p&gt;This week has been hell of a week of work and enjoyment with marriage preparation of my cousin. This lead to very less progress in my project work. I was unable to do much with just completion of docs of all implemented methods of system of ODEs. The non-linear system of ODEs which was left on last week has not been much progressed since then.&lt;/p&gt;
&lt;p&gt;I have confusion too on representation of few things which I posted on &lt;a href=&quot;https://groups.google.com/forum/#!topic/sympy/LjAIJVt_FyA&quot;&gt;mailing list&lt;/a&gt;. I need community opinion on these things before I proceed on these facts. This will be all for this week. Rest I intend to implement non-linear system of first order for 3 equations during next week.&lt;/p&gt;&lt;br /&gt;  &lt;a href=&quot;http://feeds.wordpress.com/1.0/gocomments/kundankumar185.wordpress.com/102/&quot; rel=&quot;nofollow&quot;&gt;&lt;img src=&quot;http://feeds.wordpress.com/1.0/comments/kundankumar185.wordpress.com/102/&quot; alt=&quot;&quot; border=&quot;0&quot; /&gt;&lt;/a&gt; &lt;img src=&quot;http://pixel.wp.com/b.gif?host=kundankumar185.wordpress.com&amp;amp;blog=68025302&amp;amp;post=102&amp;amp;subd=kundankumar185&amp;amp;ref=&amp;amp;feed=1&quot; alt=&quot;&quot; border=&quot;0&quot; width=&quot;1&quot; height=&quot;1&quot; /&gt;</description>
	<pubDate>Sun, 29 Jun 2014 16:52:34 +0000</pubDate>
</item>
<item>
	<title>Sachin Joglekar: GSoC Week 6: Completing coordinate systems</title>
	<guid isPermaLink="false">http://codesachin.wordpress.com/?p=19</guid>
	<link>http://codesachin.wordpress.com/2014/06/29/gsoc-week-6-completing-coordinate-systems/</link>
	<description>&lt;p&gt;Phew. This was a busy week. Initially, the plan was to push a WIP PR (without tests maybe) with the code for coordinate systems and point classes. Midway through the week, Jason and I decided to push this new code to the first PR itself, and merge the entire fundamental framework together – in a single PR. Initially I did get a little worked up looking at the amount of work that needed to be done.&lt;/p&gt;
&lt;p&gt;However, things moved much faster than expected – though with a lot of issues along the way. There were problems with the args for CoordSysRect, then some issues with the Tree-algorithm for inter-point distance calculation, and then some more with the code that implements orientation of systems wrt each other…you get the drift. But the code is finally done and polished, along with the unit tests and doctests. Thats why the late post this week – I ‘bravely’ decided to get the code fully working, without glitches, and then only do the blogpost for the week. Thankfully, the plan was a success &lt;span class=&quot;wp-smiley emoji emoji-bigsmile&quot; title=&quot;:-D&quot;&gt;:-D&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;Some minor things still remain, like renaming of some attributes to follow conventions  – mostly cosmetic changes, nothing that will affect how the code works.&lt;/p&gt;
&lt;p&gt;The next immediate steps now would be -&lt;/p&gt;
&lt;p&gt;1. Finish off the PR and get it merged.&lt;/p&gt;
&lt;p&gt;2. Study caching mechanisms and implement them in a new ‘patch’ PR.&lt;/p&gt;
&lt;p&gt;The first PR is &lt;a href=&quot;https://github.com/sympy/sympy/pull/7566&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;See you later then, next week &lt;span class=&quot;wp-smiley emoji emoji-smile&quot; title=&quot;:-)&quot;&gt;:-)&lt;/span&gt;.&lt;/p&gt;&lt;br /&gt;  &lt;a href=&quot;http://feeds.wordpress.com/1.0/gocomments/codesachin.wordpress.com/19/&quot; rel=&quot;nofollow&quot;&gt;&lt;img src=&quot;http://feeds.wordpress.com/1.0/comments/codesachin.wordpress.com/19/&quot; alt=&quot;&quot; border=&quot;0&quot; /&gt;&lt;/a&gt; &lt;img src=&quot;http://pixel.wp.com/b.gif?host=codesachin.wordpress.com&amp;amp;blog=67602166&amp;amp;post=19&amp;amp;subd=codesachin&amp;amp;ref=&amp;amp;feed=1&quot; alt=&quot;&quot; border=&quot;0&quot; width=&quot;1&quot; height=&quot;1&quot; /&gt;</description>
	<pubDate>Sun, 29 Jun 2014 11:28:14 +0000</pubDate>
</item>
<item>
	<title>Avichal Dayal</title>
	<guid isPermaLink="false">tag:blogger.com,1999:blog-283806077182880539.post-1947632693391126346</guid>
	<link>http://gsocblog.blogspot.com/2014/06/a-bit-late-for-this-weeks-blog.html</link>
	<description>&lt;div style=&quot;text-align: left;&quot; dir=&quot;ltr&quot;&gt;&amp;lt;script src=&quot;http://latex.codecogs.com/latexit.php?p&amp;amp;amp;li&amp;amp;amp;div&quot; type=&quot;text/javascript&quot;&amp;gt;&amp;lt;/script&amp;gt;  &lt;br /&gt;&lt;div style=&quot;text-align: left;&quot; dir=&quot;ltr&quot;&gt;A bit late for this week's blog.&lt;br /&gt;&lt;br /&gt;Implementing the solveRE() method took longer than I expected. I spent most of this week doing that. This method solves recurrence equation to get the general term for series expansion of a function.&lt;br /&gt;rsolve() can solve some equations but not recurrences of hypergeometric type.&lt;br /&gt;&lt;br /&gt;Hypergeometric recurrence equation is of type:-&lt;br /&gt;Q(k) * r(k + m) = P(k) * r(k)&lt;br /&gt;where P(k) and Q(k) are rational functions in k.&lt;br /&gt;&lt;br /&gt;For the case when m = 1, there exists a simple formula to get r(k).&lt;br /&gt;When m &amp;gt; 1, we can represent it as sum of m-shifted m-fold symmetric functions.&lt;br /&gt;For e.g.:- Let the RE be,&lt;br /&gt;r(k + m) = R(k) . r(k)&lt;br /&gt;We replace k with mk and r(mk) with c(k) we get,&lt;br /&gt;r(m(k+1)) = R(mk) . r(mk) which is equivalent to&lt;br /&gt;c(k+1) = R(mk) . c(k)&lt;br /&gt;Now we can use the same formula for the case when m = 1.&lt;br /&gt;&lt;br /&gt;Similarly by replacing m with km + 1, km + 2 ...., we can solve for r(k) as sum of m-shifted m-fold symmetric functions.&lt;br /&gt;&lt;br /&gt;Here are some results:-&lt;br /&gt;&lt;div style=&quot;clear: both; text-align: center;&quot; class=&quot;separator&quot;&gt;&lt;a style=&quot;margin-left: 1em; margin-right: 1em;&quot; href=&quot;http://2.bp.blogspot.com/-_dcemQVhEMw/U65p6UK-xvI/AAAAAAAAAc8/ustuXJs0CKs/s1600/FPS-1.png&quot;&gt;&lt;img width=&quot;400&quot; src=&quot;http://2.bp.blogspot.com/-_dcemQVhEMw/U65p6UK-xvI/AAAAAAAAAc8/ustuXJs0CKs/s1600/FPS-1.png&quot; border=&quot;0&quot; height=&quot;223&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;&lt;div style=&quot;clear: both; text-align: center;&quot; class=&quot;separator&quot;&gt;&lt;a style=&quot;margin-left: 1em; margin-right: 1em;&quot; href=&quot;http://2.bp.blogspot.com/-QNwhi4R9cx8/U65p6KCONkI/AAAAAAAAAdA/Dfnsnqp7hek/s1600/FPS-2.png&quot;&gt;&lt;img width=&quot;400&quot; src=&quot;http://2.bp.blogspot.com/-QNwhi4R9cx8/U65p6KCONkI/AAAAAAAAAdA/Dfnsnqp7hek/s1600/FPS-2.png&quot; border=&quot;0&quot; height=&quot;223&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;The general terms are not in their simplest form. RisingFactorial must be re-written in terms of factorial to bring it to the usual form.&lt;br /&gt;&lt;br /&gt;Now, I'm able to find FPS or infinite series for a wide range of functions. Next week, I'll take care of efficiency and making the code more in line with SymPy's style.&lt;br /&gt;&lt;br /&gt;&lt;/div&gt;&lt;/div&gt;</description>
	<pubDate>Sat, 28 Jun 2014 07:21:50 +0000</pubDate>
	<author>noreply@blogger.com (Avichal Dayal)</author>
</item>
<item>
	<title>Jim Crist: GSoC Week 6: Just the little things</title>
	<guid isPermaLink="false">tag:,2014-06-27:gsoc-week-6.html</guid>
	<link>http://jcrist.github.io/gsoc-week-6.html</link>
	<description>&lt;p&gt;I was rather busy with my research this week, so no time for a long-winded
post like &lt;a href=&quot;http://jcrist.github.io/gsoc-week-1.html&quot;&gt;some of my&lt;/a&gt; 
&lt;a href=&quot;http://jcrist.github.io/gsoc-week-4.html&quot;&gt;previous&lt;/a&gt; 
&lt;a href=&quot;http://jcrist.github.io/gsoc-week-5.html&quot;&gt;updates&lt;/a&gt;. There's not
much interesting to say anyway. This week was mostly spent on little fixes to
get my current &lt;a href=&quot;https://github.com/sympy/sympy/pull/7581&quot;&gt;pull request&lt;/a&gt; merged.&lt;/p&gt;
&lt;p&gt;Topping the list of things that are better than they were last week is speed.
The profiling I did &lt;a href=&quot;http://jcrist.github.io/gsoc-week-5.html&quot;&gt;last week&lt;/a&gt;
showed that the current function &lt;code&gt;sympy.physics.mechanics&lt;/code&gt; uses to solve a
system of linear equations (&lt;code&gt;_mat_inv_mul&lt;/code&gt;) is &lt;em&gt;sloooooooooow&lt;/em&gt;. The underlying 
reason is because &lt;code&gt;subs&lt;/code&gt; is slow - more on that later. I spent some time
swapping out all forms of solving ($A x = B$) for &lt;code&gt;LUsolve&lt;/code&gt;, the clear winner
of last weeks benchmarks. This resulted in a 10x speedup of the formulation of
equations for the &lt;a href=&quot;http://docs.sympy.org/dev/modules/ physics/mechanics/bicycle_example.html&quot;&gt;bicycle model example&lt;/a&gt;. &lt;/p&gt;
&lt;p&gt;This bicycle example has become the bane of my existence for the last couple
weeks. It's a super slow test that I'd never actual gotten to run before. But
with the speed improvements made, it actual finishes in a reasonable time.
Except it still doesn't work. I'm able to run all the way up to&lt;/p&gt;
&lt;div style=&quot;background: #272822;&quot; class=&quot;codehilite&quot;&gt;&lt;pre style=&quot;line-height: 125%;&quot;&gt;&lt;span style=&quot;color: #f8f8f2;&quot;&gt;M,&lt;/span&gt; &lt;span style=&quot;color: #f8f8f2;&quot;&gt;A,&lt;/span&gt; &lt;span style=&quot;color: #f8f8f2;&quot;&gt;B&lt;/span&gt; &lt;span style=&quot;color: #f92672;&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: #f8f8f2;&quot;&gt;KM&lt;/span&gt;&lt;span style=&quot;color: #f92672;&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: #f8f8f2;&quot;&gt;linearize()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;But when I go to sub in values for symbols in these matrices, things get hairy.
There are two issues:&lt;/p&gt;
&lt;h3&gt;Issue 1: Get &lt;code&gt;nan&lt;/code&gt; when not simplified&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;M.subs(val_dict)&lt;/code&gt; results in &lt;code&gt;nan&lt;/code&gt; and &lt;code&gt;oo&lt;/code&gt; upon after &lt;code&gt;subs&lt;/code&gt;. But doesn't
if it's simplified before the subs. An example of this behavior would be:&lt;/p&gt;
&lt;div style=&quot;background: #272822;&quot; class=&quot;codehilite&quot;&gt;&lt;pre style=&quot;line-height: 125%;&quot;&gt;&lt;span style=&quot;color: #f92672;&quot;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span style=&quot;color: #f8f8f2;&quot;&gt;M&lt;/span&gt; &lt;span style=&quot;color: #f92672;&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: #f8f8f2;&quot;&gt;sin(q1)&lt;/span&gt;&lt;span style=&quot;color: #f92672;&quot;&gt;/&lt;/span&gt;&lt;span style=&quot;color: #f8f8f2;&quot;&gt;tan(q1)&lt;/span&gt;
&lt;span style=&quot;color: #f92672;&quot;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span style=&quot;color: #f8f8f2;&quot;&gt;M&lt;/span&gt;&lt;span style=&quot;color: #f92672;&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: #f8f8f2;&quot;&gt;subs({q1:&lt;/span&gt; &lt;span style=&quot;color: #ae81ff;&quot;&gt;0&lt;/span&gt;&lt;span style=&quot;color: #f8f8f2;&quot;&gt;}&lt;/span&gt;
&lt;span style=&quot;color: #f8f8f2;&quot;&gt;nan&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Note that if this is simplified, this results in something completely different:&lt;/p&gt;
&lt;div style=&quot;background: #272822;&quot; class=&quot;codehilite&quot;&gt;&lt;pre style=&quot;line-height: 125%;&quot;&gt;&lt;span style=&quot;color: #f92672;&quot;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span style=&quot;color: #f8f8f2;&quot;&gt;M&lt;/span&gt; &lt;span style=&quot;color: #f92672;&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: #f8f8f2;&quot;&gt;sin(q1)&lt;/span&gt;&lt;span style=&quot;color: #f92672;&quot;&gt;/&lt;/span&gt;&lt;span style=&quot;color: #f8f8f2;&quot;&gt;tan(q1)&lt;/span&gt;
&lt;span style=&quot;color: #f92672;&quot;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span style=&quot;color: #f8f8f2;&quot;&gt;M&lt;/span&gt; &lt;span style=&quot;color: #f92672;&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: #f8f8f2;&quot;&gt;M&lt;/span&gt;&lt;span style=&quot;color: #f92672;&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: #f8f8f2;&quot;&gt;trigsimp()&lt;/span&gt;
&lt;span style=&quot;color: #f92672;&quot;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span style=&quot;color: #f8f8f2;&quot;&gt;M&lt;/span&gt;
&lt;span style=&quot;color: #f8f8f2;&quot;&gt;cos(q1)&lt;/span&gt;
&lt;span style=&quot;color: #f92672;&quot;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span style=&quot;color: #f8f8f2;&quot;&gt;M&lt;/span&gt;&lt;span style=&quot;color: #f92672;&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: #f8f8f2;&quot;&gt;subs({q1:&lt;/span&gt; &lt;span style=&quot;color: #ae81ff;&quot;&gt;0&lt;/span&gt;&lt;span style=&quot;color: #f8f8f2;&quot;&gt;})&lt;/span&gt;
&lt;span style=&quot;color: #ae81ff;&quot;&gt;1&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;However, for the bicycle case M has &lt;em&gt;over 19 thousand operations&lt;/em&gt;. This doesn't
simplify quickly. Also, by default we don't simplify before &lt;code&gt;subs&lt;/code&gt; in
&lt;code&gt;Linearizer&lt;/code&gt; (you can opt in to simplify, but it's done right before the return,
so it won't affect the subbed result at all). Right now I'm looking through
ways to make the resulting expressions smaller after the formulation, as this 
will result in speedups for &lt;em&gt;all&lt;/em&gt; operations. This could be extremely helpful
for issue 2...&lt;/p&gt;
&lt;h3&gt;Issue 2: &lt;code&gt;subs&lt;/code&gt; is slow&lt;/h3&gt;
&lt;p&gt;because &lt;code&gt;A&lt;/code&gt; has &lt;em&gt;over 38 million operations&lt;/em&gt;!!! In this case &lt;code&gt;subs&lt;/code&gt; doesn't even
return. Ever. I left it running on my computer for 4 hours and came back and it
was still whirring along, fans on high, eating up all my ram. No idea how to
solve this. One possible solution is &lt;a href=&quot;https://github.com/sympy/csympy&quot;&gt;csympy&lt;/a&gt;,
a fast core written in C++. Once this matures, &lt;code&gt;subs&lt;/code&gt;, &lt;code&gt;trigsimp&lt;/code&gt;, and other
time consuming operations used heavily in &lt;code&gt;sympy.physics.mechanics&lt;/code&gt; could rely
on the equivalent, faster, C++ versions. I filed an issue with an example
expression generated from the bicycle example (this one only had 147,841
operations, not nearly as bad). Hopefully Ondrej and the team can use this
as a benchmark problem to help improve &lt;code&gt;subs&lt;/code&gt; in csympy.&lt;/p&gt;
&lt;p&gt;If you have thoughts on how to overcome these issues, &lt;strong&gt;please let me know&lt;/strong&gt;.
I'm kind of stumped right now.&lt;/p&gt;
&lt;h2&gt;The Good News&lt;/h2&gt;
&lt;p&gt;I didn't want to end this post on a bad note, so I'll close with the remainder
of the things I did last week that actually worked:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Improved documentation! Docstrings that are worth reading, and a start on the
sphinx documentation.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Added a deprecation warning for &lt;code&gt;KanesMethod.linearize&lt;/code&gt; to warn people about
the method change.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Major interface changes. Now all operating points are specified as a single
dictionary, or an iterable of dictionaries. This is to aid in consistency across
different system implementations. Referring to a dictionary as &lt;code&gt;u_op&lt;/code&gt; in 
&lt;code&gt;LagrangesMethod&lt;/code&gt; doesn't really make any sense, as Lagrange's method only uses
$q$, $\dot{q}$, and $\ddot{q}$. Also added a kwarg to make simplification of the
results optional.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Added a method to the &lt;code&gt;LagrangesMethod&lt;/code&gt; class to calculate the value of the
multipliers at different points. This is useful for multiple reasons. The
multipliers have meaning, so knowing what the solution is symbolically is nice
for calculating the constraint forces. Also, when linearizing with Lagrange's
method, the multipliers have operating points as well, and these need to be
calculated based on the operating point for the other states ($q$, $\dot{q}$,
etc...). Now a user can go:&lt;/p&gt;
&lt;div style=&quot;background: #272822;&quot; class=&quot;codehilite&quot;&gt;&lt;pre style=&quot;line-height: 125%;&quot;&gt;&lt;span style=&quot;color: #f8f8f2;&quot;&gt;op_point&lt;/span&gt; &lt;span style=&quot;color: #f92672;&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: #f8f8f2;&quot;&gt;dict_or_iterable_of_dicts&lt;/span&gt;
&lt;span style=&quot;color: #f8f8f2;&quot;&gt;lam_op&lt;/span&gt; &lt;span style=&quot;color: #f92672;&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: #f8f8f2;&quot;&gt;LM&lt;/span&gt;&lt;span style=&quot;color: #f92672;&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: #f8f8f2;&quot;&gt;solve_multipliers(op_point)&lt;/span&gt;
&lt;span style=&quot;color: #f8f8f2;&quot;&gt;op_point&lt;/span&gt;&lt;span style=&quot;color: #f92672;&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: #f8f8f2;&quot;&gt;append(lam_op)&lt;/span&gt;     &lt;span style=&quot;color: #75715e;&quot;&gt;# Or op_point.update if op_point is a dict, not a list of dicts&lt;/span&gt;
&lt;span style=&quot;color: #f8f8f2;&quot;&gt;M,&lt;/span&gt; &lt;span style=&quot;color: #f8f8f2;&quot;&gt;A,&lt;/span&gt; &lt;span style=&quot;color: #f8f8f2;&quot;&gt;B&lt;/span&gt; &lt;span style=&quot;color: #f92672;&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: #f8f8f2;&quot;&gt;LM&lt;/span&gt;&lt;span style=&quot;color: #f92672;&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: #f8f8f2;&quot;&gt;linearize(q_ind&lt;/span&gt;&lt;span style=&quot;color: #f92672;&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;color: #f8f8f2;&quot;&gt;q_ind,&lt;/span&gt; &lt;span style=&quot;color: #f8f8f2;&quot;&gt;qd_ind&lt;/span&gt;&lt;span style=&quot;color: #f92672;&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;color: #f8f8f2;&quot;&gt;qd_ind,&lt;/span&gt; &lt;span style=&quot;color: #f8f8f2;&quot;&gt;op_point&lt;/span&gt;&lt;span style=&quot;color: #f92672;&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;color: #f8f8f2;&quot;&gt;op_point)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Hopefully in the next week I can get my PR merged, so the Lagrange stuff can
finally be submitted.&lt;/p&gt;&amp;lt;script type=&quot;text/javascript&quot;&amp;gt;
    if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {
        var mathjaxscript = document.createElement('script');
        mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';
        mathjaxscript.type = 'text/javascript';
        mathjaxscript.src = 'https:' == document.location.protocol
                ? 'https://c328740.ssl.cf1.rackcdn.com/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'
                : 'http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML';
        mathjaxscript[(window.opera ? &quot;innerHTML&quot; : &quot;text&quot;)] =
            &quot;MathJax.Hub.Config({&quot; +
            &quot;    config: ['MMLorHTML.js'],&quot; +
            &quot;    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } },&quot; +
            &quot;    jax: ['input/TeX','input/MathML','output/HTML-CSS'],&quot; +
            &quot;    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js'],&quot; +
            &quot;    displayAlign: 'center',&quot; +
            &quot;    displayIndent: '0em',&quot; +
            &quot;    showMathMenu: true,&quot; +
            &quot;    tex2jax: { &quot; +
            &quot;        inlineMath: [ ['$','$'] ], &quot; +
            &quot;        displayMath: [ ['$$','$$'] ],&quot; +
            &quot;        processEscapes: true,&quot; +
            &quot;        preview: 'TeX',&quot; +
            &quot;    }, &quot; +
            &quot;    'HTML-CSS': { &quot; +
            &quot;        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'black ! important'} }&quot; +
            &quot;    } &quot; +
            &quot;}); &quot;;
        (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);
    }
&amp;lt;/script&amp;gt;</description>
	<pubDate>Sat, 28 Jun 2014 02:21:00 +0000</pubDate>
</item>
<item>
	<title>Thilina Rathnayake: [GSoC] Week 6: Cholesky and LDL Algorithms</title>
	<guid isPermaLink="false">http://thilinaatsympy.wordpress.com/?p=360</guid>
	<link>http://thilinaatsympy.wordpress.com/2014/06/27/gsoc-week-6-cholesky-and-ldl-algorithms/</link>
	<description>&lt;p&gt;This week I implemented Cholesky decomposition and LDL decomposition. In addition to that I fixed two errors In CSymPy. I was also bale to finish work with LU decomposition and merge it to master. Also, I could solve the system &lt;img src=&quot;http://s0.wp.com/latex.php?latex=Ax+%3D+b&amp;amp;bg=eff1f5&amp;amp;fg=444444&amp;amp;s=0&quot; alt=&quot;Ax = b&quot; class=&quot;latex&quot; title=&quot;Ax = b&quot; /&gt; using fraction free &lt;strong&gt;LU&lt;/strong&gt; factorization.&lt;/p&gt;
&lt;h2&gt;Cholesky Decomposition&lt;/h2&gt;
&lt;p&gt;Cholesky decomposition can be applied to a &lt;strong&gt;Hermitian positive definite matrix&lt;/strong&gt;. &lt;strong&gt;Hermitian&lt;/strong&gt; matrix is a matrix with complex entries that is equal to it’s conjugate transpose &lt;strong&gt;[1]&lt;/strong&gt;. Hence a symmetric matrix with real entries can be considered as a &lt;strong&gt;Hermitian&lt;/strong&gt; matrix and can be decomposed using &lt;strong&gt;Cholesky&lt;/strong&gt; decomposition if it’s positive definite. A Symmetric matrix &lt;img src=&quot;http://s0.wp.com/latex.php?latex=A&amp;amp;bg=eff1f5&amp;amp;fg=444444&amp;amp;s=0&quot; alt=&quot;A&quot; class=&quot;latex&quot; title=&quot;A&quot; /&gt; is positive definite if &lt;img src=&quot;http://s0.wp.com/latex.php?latex=z%5ETAz&amp;amp;bg=eff1f5&amp;amp;fg=444444&amp;amp;s=0&quot; alt=&quot;z^TAz&quot; class=&quot;latex&quot; title=&quot;z^TAz&quot; /&gt; is greater than zero for every non zero column matrix &lt;img src=&quot;http://s0.wp.com/latex.php?latex=z&amp;amp;bg=eff1f5&amp;amp;fg=444444&amp;amp;s=0&quot; alt=&quot;z&quot; class=&quot;latex&quot; title=&quot;z&quot; /&gt;&lt;strong&gt; [2]&lt;/strong&gt;. If the above conditions are satisfied, Cholesky decomposition for a matrix &lt;img src=&quot;http://s0.wp.com/latex.php?latex=A&amp;amp;bg=eff1f5&amp;amp;fg=444444&amp;amp;s=0&quot; alt=&quot;A&quot; class=&quot;latex&quot; title=&quot;A&quot; /&gt; can be written as &lt;img src=&quot;http://s0.wp.com/latex.php?latex=A+%3D+LL%5E%2A&amp;amp;bg=eff1f5&amp;amp;fg=444444&amp;amp;s=0&quot; alt=&quot;A = LL^*&quot; class=&quot;latex&quot; title=&quot;A = LL^*&quot; /&gt; where &lt;img src=&quot;http://s0.wp.com/latex.php?latex=L&amp;amp;bg=eff1f5&amp;amp;fg=444444&amp;amp;s=0&quot; alt=&quot;L&quot; class=&quot;latex&quot; title=&quot;L&quot; /&gt; is an lower triangular Matrix. This is equal to &lt;img src=&quot;http://s0.wp.com/latex.php?latex=A+%3D+LL%5ET&amp;amp;bg=eff1f5&amp;amp;fg=444444&amp;amp;s=0&quot; alt=&quot;A = LL^T&quot; class=&quot;latex&quot; title=&quot;A = LL^T&quot; /&gt; when &lt;img src=&quot;http://s0.wp.com/latex.php?latex=L&amp;amp;bg=eff1f5&amp;amp;fg=444444&amp;amp;s=0&quot; alt=&quot;L&quot; class=&quot;latex&quot; title=&quot;L&quot; /&gt; is a real matrix. This factorization can be used for fast solution of the system &lt;img src=&quot;http://s0.wp.com/latex.php?latex=Ax+%3D+b&amp;amp;bg=eff1f5&amp;amp;fg=444444&amp;amp;s=0&quot; alt=&quot;Ax = b&quot; class=&quot;latex&quot; title=&quot;Ax = b&quot; /&gt;. I am yet to use this decomposition in solving above mentioned system.&lt;/p&gt;
&lt;h2&gt;LDL Factorization&lt;/h2&gt;
&lt;p&gt;LDL decomposition is closely related to Cholesky decomposition. As the name implies, in LDL decomposition of a matrix &lt;img src=&quot;http://s0.wp.com/latex.php?latex=A&amp;amp;bg=eff1f5&amp;amp;fg=444444&amp;amp;s=0&quot; alt=&quot;A&quot; class=&quot;latex&quot; title=&quot;A&quot; /&gt; can be written as &lt;img src=&quot;http://s0.wp.com/latex.php?latex=A+%3D+LDL%5E%2A&amp;amp;bg=eff1f5&amp;amp;fg=444444&amp;amp;s=0&quot; alt=&quot;A = LDL^*&quot; class=&quot;latex&quot; title=&quot;A = LDL^*&quot; /&gt; where &lt;img src=&quot;http://s0.wp.com/latex.php?latex=L&amp;amp;bg=eff1f5&amp;amp;fg=444444&amp;amp;s=0&quot; alt=&quot;L&quot; class=&quot;latex&quot; title=&quot;L&quot; /&gt; is a lower triangular matrix and &lt;img src=&quot;http://s0.wp.com/latex.php?latex=D&amp;amp;bg=eff1f5&amp;amp;fg=444444&amp;amp;s=0&quot; alt=&quot;D&quot; class=&quot;latex&quot; title=&quot;D&quot; /&gt; is a diagonal matrix &lt;strong&gt;[3]&lt;/strong&gt;. This decomposition can be used for some matrices which don’t have a Cholesky decomposition.&lt;/p&gt;
&lt;h2&gt;CSymPy printing error and simplification errror&lt;/h2&gt;
&lt;p&gt;I also worked on a printing error of CSymPy and a simplification error in &lt;strong&gt;Mul&lt;/strong&gt; class which is used to represent multiplication types in CSymPy. There is still some work to be done to fix simplification error completely. The most important thing was that we were able to introduce a fix which doesn’t create a considerable slow down in speed after being applied.&lt;/p&gt;
&lt;h2&gt;References&lt;/h2&gt;
&lt;p&gt;[1] Hermitian Matrix, Wikipedia Article: &lt;a href=&quot;http://en.wikipedia.org/wiki/Hermitian_matrix&quot; rel=&quot;nofollow&quot;&gt;http://en.wikipedia.org/wiki/Hermitian_matrix&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;[2] Positive definite Matrix, Wikipedia Article: &lt;a href=&quot;http://en.wikipedia.org/wiki/Positive-definite_matrix&quot; rel=&quot;nofollow&quot;&gt;http://en.wikipedia.org/wiki/Positive-definite_matrix&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;[3] LDL Decomposition, Wikipedia Article: &lt;a href=&quot;http://en.wikipedia.org/wiki/Cholesky_decomposition#LDL_decomposition&quot; rel=&quot;nofollow&quot;&gt;http://en.wikipedia.org/wiki/Cholesky_decomposition#LDL_decomposition&lt;/a&gt;&lt;/p&gt;&lt;br /&gt;  &lt;a href=&quot;http://feeds.wordpress.com/1.0/gocomments/thilinaatsympy.wordpress.com/360/&quot; rel=&quot;nofollow&quot;&gt;&lt;img src=&quot;http://feeds.wordpress.com/1.0/comments/thilinaatsympy.wordpress.com/360/&quot; alt=&quot;&quot; border=&quot;0&quot; /&gt;&lt;/a&gt; &lt;img src=&quot;http://pixel.wp.com/b.gif?host=thilinaatsympy.wordpress.com&amp;amp;blog=52956410&amp;amp;post=360&amp;amp;subd=thilinaatsympy&amp;amp;ref=&amp;amp;feed=1&quot; alt=&quot;&quot; border=&quot;0&quot; width=&quot;1&quot; height=&quot;1&quot; /&gt;</description>
	<pubDate>Fri, 27 Jun 2014 15:58:54 +0000</pubDate>
</item>
<item>
	<title>Harsh Gupta: week 5</title>
	<guid isPermaLink="true">https://hargup.github.io/posts/week-5.html</guid>
	<link>https://hargup.github.io/posts/week-5.html</link>
	<description>&lt;h3&gt;Solving Trigonometric Function (part I)&lt;/h3&gt;
&lt;p&gt;This week I spend time on making trigonometric solvers work.
Every trigonometric function can be written in terms of tan.&lt;/p&gt;
&lt;p&gt;$$ sin(x) = \frac{2*tan(x/2)}{tan^{2}(x/2)} $$&lt;/p&gt;
&lt;p&gt;$$ cos(x) = \frac{-tan^{2}(x/2) + 1}{tan^{2}(x/2) + 1} $$&lt;/p&gt;
&lt;p&gt;$$ cot(x) = \frac{1}{tan(x)} $$&lt;/p&gt;
&lt;p&gt;A basic technique to solve trigonometric equations can be rewriting the equation in terms of tan.
And if the equation is made by addition, multiplication or quotient of
trigonometric functions then the transformed equation is a equivalent to a rational
function in tan. That equation can be solved by the usual polynomial
solving techniques.&lt;/p&gt;
&lt;p&gt;Taking the example from the &lt;a href=&quot;https://github.com/sympy/sympy/wiki/solvers&quot;&gt;doc&lt;/a&gt;
\( cos(x) + sin(x) \) gets converted to
\( \frac{-tan^{2}(x/2) + 2*tan(x/2) + 1}{tan^{2}(x/2) + 1} \)&lt;/p&gt;
&lt;p&gt;The solution of this equations is \( tan(x/2) = 1 +- sqrt(2) \).
Since the inverse of tan is
\( \left\{2 \pi n + \operatorname{atan}{\left (y \right )}\; |\; n \in \mathbb{Z}\right\} \)
the solution of the given equation is
$$ \left\{2 \pi n - \frac{\pi}{8}\; |\; n \in \mathbb{Z}\right\} \cup \left\{2 \pi n + \frac{3 \pi}{8}\; |\; n \in \mathbb{Z}\right\} $$&lt;/p&gt;
&lt;p&gt;Though it appears this technique should work universally for trigonometric
equation it fails for even \( sin(x) = 0 \). From the table above
\( sin(x) = \frac{2*tan(x/2)}{tan^{2}(x/2)} \)
So, the \( sin(x) = 0 \) occurs at \( tan(x/2) = 0 \) which has solution
\( \left\{2 \pi n\; |\; n \in \mathbb{Z}\right\} \)
But the solution is \( \left\{ \pi n\; |\; n \in \mathbb{Z}\right\} \)
. Why are we missing some solutions? The
reason is \( sin(x) = 0 \) also occurs when denominator tends to \( \infty \),
i.e.,
the values where \( tan^{2}(x/2) + 1 \) tends to \( \infty \).
We had encountered a similar problem for the solution of
$$ \frac{1}{\left(\frac{x}{x + 1} + 3\right)^{2}} $$&lt;/p&gt;
&lt;p&gt;here \( x = -1 \) is not a point in the domain of the of the equation. The solver
simplifies the equation to&lt;/p&gt;
&lt;p&gt;$$ \frac{\left(x + 1\right)^{2}}{\left(4 x + 3\right)^{2}} $$&lt;/p&gt;
&lt;p&gt;which extends the domain to include the point \( x = -1 \) which is also the
solution to the transformed equation. There we wrote a sub procedure
&lt;code&gt;domain_check&lt;/code&gt; to verify if the returned solution is part of the domain of the
original equation. The problem here is slightly different in the sense that
transforming the equation decreases the domain of the solutions and not increase
it.&lt;/p&gt;
&lt;p&gt;To find such solution we have allow \( \infty \) to be solution to equations, we
will be working on extended reals instead of just reals.  I think this change
will simplify a lot of things.&lt;/p&gt;
&lt;p&gt;Another thing which should be taken care off is that we cannot naively search
for the values for which the denominator tends to infinity as for the same
value numerator might also attain infinitely large value, we will have to
conceder the limiting value of the equation.&lt;/p&gt;</description>
	<pubDate>Thu, 26 Jun 2014 11:43:01 +0000</pubDate>
</item>
<item>
	<title>Soumya Dipta Biswas: GSoC 2014: Week 5</title>
	<guid isPermaLink="false">http://blog.s-d-b.com/?p=86</guid>
	<link>http://blog.s-d-b.com/gsoc-2014-week-5/</link>
	<description>&lt;p&gt;Hello Folks,&lt;/p&gt;
&lt;p&gt;This week was probably not as productive as I would have liked it to be. Firstly, it seems like the algorithm for faster conversion to CNF/DNF I talked about &lt;a href=&quot;http://blog.s-d-b.com/gsoc-2014-week-1-and-2/&quot; target=&quot;_blank&quot; title=&quot;Faster_NF&quot;&gt;before&lt;/a&gt; works fast conditionally. If a particular formula is already quite near to a particular normal form, then the conversion takes a longer time than the recursive algorithm. The overhead incurred for the conversion in this case starts to dominate the actual conversion. So, I am now parallelly working on fixing this problem and the FOL module (as scheduled). Hence, I majorly managed to do only 2 things this week namely Interpretation and conversion to Prenex Normal Form.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Interpretation&lt;/strong&gt;&lt;br /&gt;
Akin to &lt;code&gt;pl_true(expr, model)&lt;/code&gt; present in the propositional logic module, I have implemented a &lt;code&gt;fol_true(expr, model)&lt;/code&gt; for the FOL module. Before jumping into the concept of interpretation for First Order Logic, let us see what it means for Propositional Logic. If you are already familiar with the same, feel free to jump to the next paragraph. Now, the interpretation of an expression is the value of expression under an assignment. So given the formula &lt;code&gt;A | B&lt;/code&gt; such that &lt;code&gt;{A: True, B: False}&lt;/code&gt; the formula is True. So, this is essentially the evaluated &lt;em&gt;result&lt;/em&gt; of a formula given an assignment. This is quite similar to &lt;code&gt;a + b &amp;gt; 0&lt;/code&gt; which has no value inherently, but if a = 1 and b = 0, then the expression has a value (True). In some cases only a partial assignment is sufficient to determine the value of the expr. For e.g. &lt;code&gt;A &amp;amp; B&lt;/code&gt; with &lt;code&gt;A = False&lt;/code&gt; is clearly False without any regard for the value of B.&lt;/p&gt;
&lt;p&gt;In Propositional Logic, the most basic elements are symbols which can have one of True or False as its value. FOL on the other hand has many elements which can take on any value in the domain. While the concept of interpretation remains the same there, the number of things to be evaluated change. Interpretation in FOL is a rather complex job which will become quite apparent very soon. Let us set about to find the value of each of the basic elements.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Constants are the easiest to evaluate, well because they stand for themselves.&lt;/li&gt;
&lt;li&gt;Variables are similar to variables in any mathematical expression and it is sufficient to simply give them a value. However, one may also give a variable a domain. This domain is the set of all values that the corresponding variable may assume.&lt;/li&gt;
&lt;li&gt;Next come the functions. For functions, one needs to provide a mapping of every possible set of arguments to its corresponding value. For e.g. for &lt;code&gt;f(X, Y)&lt;/code&gt; such that &lt;code&gt;X = {1, 2, 3}&lt;/code&gt; and &lt;code&gt;Y = {10, 20, 30}&lt;/code&gt;, one needs to provide a value for every feasible possible combination of X and Y.&lt;/li&gt;
&lt;li&gt;Predicates are almost the same as functions with the exception that the values they yield must be boolean. The examples below will probably make things much clearer.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Let’s look at an example that will give better perspective to the idea of Interpretation.&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;&lt;pre class=&quot;crayon-plain-tag&quot;&gt;&amp;gt;&amp;gt;&amp;gt; from sympy.abc import X, T
&amp;gt;&amp;gt;&amp;gt; from sympy.logic.FOL import Predicate, ForAll, Exists, fol_true
&amp;gt;&amp;gt;&amp;gt; Person = Predicate('Person')
&amp;gt;&amp;gt;&amp;gt; Time = Predicate('Time')
&amp;gt;&amp;gt;&amp;gt; CanFool = Predicate('CanFool')
&amp;gt;&amp;gt;&amp;gt; X_domain = ['John', 'Jack']
&amp;gt;&amp;gt;&amp;gt; T_domain = [1, 2, 3]
&amp;gt;&amp;gt;&amp;gt; def person(X): return X in X_domain
&amp;gt;&amp;gt;&amp;gt; def time(T): return T in T_domain
&amp;gt;&amp;gt;&amp;gt; CanFoolMap = {('John',2):False, ('John',3):False, 'default':True}
&amp;gt;&amp;gt;&amp;gt; model = {X:X_domain, T:T_domain, Person:person, Time:time, CanFool:CanFoolMap}

# You can fool some of the people all of the time
&amp;gt;&amp;gt;&amp;gt; expr = Exists(X, ForAll(T, (Person(X) &amp;amp; Time(T)) &amp;gt;&amp;gt; CanFool(X, T)))
&amp;gt;&amp;gt;&amp;gt; fol_true(expr, model)
True

# You can fool all of the people some of the time
&amp;gt;&amp;gt;&amp;gt; expr = ForAll(X, Exists(T, (Person(X) &amp;amp; Time(T)) &amp;gt;&amp;gt; CanFool(X, T)))
&amp;gt;&amp;gt;&amp;gt; fol_true(expr, model)
True

# You can fool all of the people all of the time
&amp;gt;&amp;gt;&amp;gt; expr = ForAll(X, ForAll(T, (Person(X) &amp;amp; Time(T)) &amp;gt;&amp;gt; CanFool(X, T)))
&amp;gt;&amp;gt;&amp;gt; fol_true(expr, model)
False&lt;/pre&gt;&lt;p&gt; &lt;/p&gt;
&lt;p&gt;I hope that makes the idea of interpreation in general and how to use them in SymPy a little clearer. I will update the post giving more examples soon.&lt;/p&gt;
&lt;p&gt;Adios!!!&lt;/p&gt;</description>
	<pubDate>Wed, 25 Jun 2014 20:44:05 +0000</pubDate>
</item>
<item>
	<title>Sushant Hiray: This Week in CSymPy: #5</title>
	<guid isPermaLink="true">http://sushant-hiray.in/posts/gsoc/csympy-week5/</guid>
	<link>http://sushant-hiray.in/posts/gsoc/csympy-week5/</link>
	<description>&lt;p&gt;Week 5 for GSoC just ended and this week I completed implementing the Exponential Module.&lt;/p&gt;

&lt;h1 id=&quot;progress&quot;&gt;Progress&lt;/h1&gt;

&lt;p&gt;I started the week by implementing &lt;code&gt;LambertW&lt;/code&gt; function. It wasn’t a part of the original proposal but it is a nice addition to have so I implemented it.
&lt;br /&gt;&lt;br /&gt;
If you’re unaware, LambertW function is defined as the inverse function of x*exp(x). This function represents the principal branch  of this inverse function, which is multivalued. For more information, see:
&lt;a href=&quot;http://en.wikipedia.org/wiki/Lambert_W_function&quot;&gt;wiki&lt;/a&gt;. &lt;a href=&quot;https://github.com/sympy/csympy/pull/200&quot;&gt;Pull 200&lt;/a&gt; implemented the LambertW class!
&lt;br /&gt;&lt;br /&gt;
After this, I worked on Hyperbolic module, which was the main target for this week. &lt;a href=&quot;https://github.com/sympy/csympy/pull/203&quot;&gt;Pull 203&lt;/a&gt; implemented the hyperbolic module. 
In addition to the normal functions which were implemented as a part of the TrigFunction API, we implemented &lt;code&gt;expand_as_exp&lt;/code&gt; in the Hyperbolic Module.
&lt;br /&gt;&lt;br /&gt;
With this in place, we can now do things like &lt;code&gt;sinh(x)-&amp;gt;expand_as_exp()&lt;/code&gt; and it will return the exponential form: &lt;code&gt;(e^x - e^{-x})/2&lt;/code&gt; using a combination of exp, adds and divs!
&lt;br /&gt;&lt;br /&gt;
Follow up to this PR we have openened a couple of issues:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://github.com/sympy/csympy/issues/207&quot;&gt;#207&lt;/a&gt; is a bug which I encountered while writing test cases. Essentially same symbolic expressions written in form of add and mul are not equated as equal.
This is a crucial issue and we are yet to see how to proceed further on this. SymPy also faced the same issue &lt;a href=&quot;https://github.com/sympy/sympy/issues/4596&quot;&gt;sympy/sympy#4596&lt;/a&gt; where it was decided to remove
such automatic redistribution. As &lt;a href=&quot;https://github.com/certik&quot;&gt;@certik&lt;/a&gt; suggested, it is perhaps the best to compare underneath via expand.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://github.com/sympy/csympy/issues/210&quot;&gt;#210&lt;/a&gt; is basically a more generic way to cleanup the existing Trignometric and Hyperbolic Module. This for instance can be used to define the &lt;code&gt;subs&lt;/code&gt; method in the base class rather than writing almost the same code in each subsequent inherited class.
The only reason why this was being defined in all the classes was that we needed to access the method to create the class via canonicalization. I’ve proposed a couple of methods in which we can approach the problem.
Once decided we can fix this issue.&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;discussions&quot;&gt;Discussions&lt;/h1&gt;

&lt;p&gt;As usual most of the actual discussions happened on PR, we were supposed to have a meetup on gitter but it was postponed.&lt;/p&gt;

&lt;h1 id=&quot;week-highlights&quot;&gt;Week Highlights!&lt;/h1&gt;

&lt;ul&gt;
  &lt;li&gt;CSymPy just crossed the 1000 commits mark! Yay! It is &lt;a href=&quot;https://github.com/sympy/csympy&quot;&gt;1036&lt;/a&gt; at the time of writing.&lt;/li&gt;
  &lt;li&gt;The issue serial number has crossed the 200 mark!&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Quite an interesting week this has been as far as milestones are concerned!&lt;/p&gt;

&lt;h1 id=&quot;the-week-ahead&quot;&gt;The Week Ahead&lt;/h1&gt;
&lt;ul&gt;
  &lt;li&gt;Implement the long awaited &lt;code&gt;Complex&lt;/code&gt; Module.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;br /&gt;
Thats all for now :) Will get back next week!&lt;/p&gt;</description>
	<pubDate>Tue, 24 Jun 2014 13:45:00 +0000</pubDate>
</item>
<item>
	<title>Akshay Narasimha: Gsoc14 Week-5</title>
	<guid isPermaLink="false">tag:blogger.com,1999:blog-54146973659574488.post-384394288691782141</guid>
	<link>http://geekpy.blogspot.com/2014/06/gsoc14-week-5.html</link>
	<description>&lt;div style=&quot;text-align: left;&quot; dir=&quot;ltr&quot;&gt;I did some good amount of work this week. I finished the implementation of the Plane class. &lt;a href=&quot;https://www.google.com/url?q=https%3A%2F%2Fgithub.com%2Fakshayah3%2Fsympy%2Fcommit%2F41f85a70d70d3654786f68257116fa14df3b2825&amp;amp;sa=D&amp;amp;sntz=1&amp;amp;usg=AFQjCNFKv7zI5GEVuPOZoRrZLVvy_uckVQ&quot;&gt;Here&lt;/a&gt; is the link to the code. I haven't sent a PR though as I am waiting for the merging of the Line3D class, which will happen soon enough as it had a few styling issues which I happen to fix in the latest commit.&lt;br /&gt;&lt;br /&gt;Here is the implementation of the interaction between 2D and 3D entities with the use of Planes.&lt;br /&gt;&lt;br /&gt;&amp;gt;&amp;gt;&amp;gt; a = Point(1, 2)&lt;br /&gt;&amp;gt;&amp;gt;&amp;gt; b = Point3D(1, 3, 5)&lt;br /&gt;&amp;gt;&amp;gt;&amp;gt; c = Plane(Point3D(x, y, z), normal_vector=[0, 0 ,1]) # Parallel to xy plane&lt;br /&gt;&amp;gt;&amp;gt;&amp;gt; d = c.projection(c) # A 3D point&lt;br /&gt;&amp;gt;&amp;gt;&amp;gt; d&lt;br /&gt;Point3D(1, 2, 0)&lt;br /&gt;&amp;gt;&amp;gt;&amp;gt; d.distance(b)&lt;br /&gt;sqrt(26)&lt;br /&gt;&lt;br /&gt;Here are the things that I have implemented till now&lt;br /&gt;&lt;ul style=&quot;text-align: left;&quot;&gt;&lt;li&gt;Point3D&lt;/li&gt;&lt;li&gt;Line3D&lt;/li&gt;&lt;li&gt;Ray3D&lt;/li&gt;&lt;li&gt;Segment3D&lt;/li&gt;&lt;li&gt;Plane&lt;/li&gt;&lt;/ul&gt;Among these only Point3D class has been merged but I will get most of the other classes merged this week, so that would complete the implementation of 3D Geometry as a whole.So I will spend most of this week trying to get these PR's merged.&lt;br /&gt;&lt;br /&gt;Until then cheers! &lt;/div&gt;</description>
	<pubDate>Tue, 24 Jun 2014 04:16:26 +0000</pubDate>
	<author>noreply@blogger.com (Akshay Narasimha)</author>
</item>
<item>
	<title>Sudhanshu Mishra: GSoC'14 progress, Week 5</title>
	<guid isPermaLink="false">tag:blogger.com,1999:blog-8847459392628952171.post-8191047412644166823</guid>
	<link>http://blog.sudhanshumishra.in/2014/06/gsoc14-progress-week-5.html</link>
	<description>&lt;div style=&quot;text-align: left;&quot; dir=&quot;ltr&quot;&gt;&lt;div style=&quot;font-family: Arvo, 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 13px; line-height: 18px; margin-bottom: 9px;&quot;&gt;I did good amount of work this week. I sent a small part of it related to ray tracing for review.&lt;/div&gt;&lt;ul style=&quot;color: #444444; font-family: Arvo, 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 13px; line-height: 18px; margin: 0px 0px 9px 25px; padding: 0px;&quot;&gt;&lt;li style=&quot;&quot;&gt;&lt;a style=&quot;color: blue;&quot; href=&quot;https://github.com/sympy/sympy/pull/7626&quot;&gt;https://github.com/sympy/sympy/pull/7626&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&lt;div style=&quot;font-family: Arvo, 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 13px; line-height: 18px; margin-bottom: 9px;&quot;&gt;I got some great suggestions from Sean to make it compatible directly with&lt;span style=&quot;color: #444444;&quot;&gt; &lt;/span&gt;&lt;code style=&quot;background-color: #f7f7f9; border-bottom-left-radius: 3px; border-bottom-right-radius: 3px; border-top-left-radius: 3px; border-top-right-radius: 3px; border: 1px solid rgb(225, 225, 232); color: #dd1144; font-family: Consolas, 'Liberation Mono', Courier, monospace !important; font-size: 12px; padding: 3px 4px;&quot;&gt;TWave&lt;/code&gt;&lt;span style=&quot;color: #444444;&quot;&gt; &lt;/span&gt;class. It is a WIP as I'm waiting for few 3D geometry classes. I'm also working on inteference of light waves and I hope that I'll send it for review in next couple of days. My last PR on medium is still unmerged and I really need it to be in master to work on more implementations.&lt;/div&gt;&lt;div style=&quot;font-family: Arvo, 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 13px; line-height: 18px; margin-bottom: 9px;&quot;&gt;I'm also trying to move&lt;span style=&quot;color: #444444;&quot;&gt; &lt;/span&gt;&lt;code style=&quot;background-color: #f7f7f9; border-bottom-left-radius: 3px; border-bottom-right-radius: 3px; border-top-left-radius: 3px; border-top-right-radius: 3px; border: 1px solid rgb(225, 225, 232); color: #dd1144; font-family: Consolas, 'Liberation Mono', Courier, monospace !important; font-size: 12px; padding: 3px 4px;&quot;&gt;physics/gaussopt&lt;/code&gt;&lt;span style=&quot;color: #444444;&quot;&gt; &lt;/span&gt;to&lt;span style=&quot;color: #444444;&quot;&gt; &lt;/span&gt;&lt;code style=&quot;background-color: #f7f7f9; border-bottom-left-radius: 3px; border-bottom-right-radius: 3px; border-top-left-radius: 3px; border-top-right-radius: 3px; border: 1px solid rgb(225, 225, 232); color: #dd1144; font-family: Consolas, 'Liberation Mono', Courier, monospace !important; font-size: 12px; padding: 3px 4px;&quot;&gt;physics/optics/gaussopt&lt;/code&gt;&lt;span style=&quot;color: #444444;&quot;&gt; &lt;/span&gt;as it'll be good to keep things related to optics at the same place. I'm waiting for opinion of the community about it. Here's the link to that PR:&lt;/div&gt;&lt;ul style=&quot;color: #444444; font-family: Arvo, 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 13px; line-height: 18px; margin: 0px 0px 9px 25px; padding: 0px;&quot;&gt;&lt;li style=&quot;&quot;&gt;&lt;a style=&quot;color: blue;&quot; href=&quot;https://github.com/sympy/sympy/pull/7607&quot;&gt;https://github.com/sympy/sympy/pull/7607&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&lt;div style=&quot;font-family: Arvo, 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 13px; line-height: 18px; margin-bottom: 9px;&quot;&gt;Here is some other minor work that I've done this week outside of optics:&lt;/div&gt;&lt;ul style=&quot;font-family: Arvo, 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 13px; line-height: 18px; margin: 0px 0px 9px 25px; padding: 0px;&quot;&gt;&lt;li style=&quot;&quot;&gt;&lt;a style=&quot;color: blue;&quot; href=&quot;https://github.com/sympy/sympy/pull/7609&quot;&gt;https://github.com/sympy/sympy/pull/7609&lt;/a&gt;&lt;/li&gt;&lt;li style=&quot;color: #444444;&quot;&gt;&lt;a style=&quot;color: blue;&quot; href=&quot;https://github.com/sympy/sympy/pull/7610&quot;&gt;https://github.com/sympy/sympy/pull/7610&lt;/a&gt;&lt;/li&gt;&lt;li style=&quot;color: #444444;&quot;&gt;&lt;a style=&quot;color: blue;&quot; href=&quot;https://github.com/sympy/sympy/pull/7612&quot;&gt;https://github.com/sympy/sympy/pull/7612&lt;/a&gt;&lt;/li&gt;&lt;li style=&quot;color: #444444;&quot;&gt;&lt;a style=&quot;color: blue;&quot; href=&quot;https://github.com/sympy/sympy/pull/7614&quot;&gt;https://github.com/sympy/sympy/pull/7614&lt;/a&gt;&lt;/li&gt;&lt;li style=&quot;color: #444444;&quot;&gt;&lt;a style=&quot;color: blue;&quot; href=&quot;https://github.com/sympy/sympy/pull/7627&quot;&gt;https://github.com/sympy/sympy/pull/7627&lt;/a&gt;&lt;/li&gt;&lt;li style=&quot;color: #444444;&quot;&gt;&lt;a style=&quot;color: blue;&quot; href=&quot;https://github.com/sympy/sympy/pull/7628&quot;&gt;https://github.com/sympy/sympy/pull/7628&lt;/a&gt;&lt;/li&gt;&lt;li style=&quot;color: #444444;&quot;&gt;&lt;a style=&quot;color: blue;&quot; href=&quot;https://github.com/sympy/sympy/pull/7629&quot;&gt;https://github.com/sympy/sympy/pull/7629&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&lt;div style=&quot;font-family: Arvo, 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 13px; line-height: 18px; margin-bottom: 9px;&quot;&gt;That's all for now. &lt;em style=&quot;&quot;&gt;Cheers!&lt;/em&gt;&lt;/div&gt;&lt;/div&gt;</description>
	<pubDate>Mon, 23 Jun 2014 17:59:19 +0000</pubDate>
	<author>noreply@blogger.com (Sudhanshu Mishra)</author>
</item>
<item>
	<title>Tarun Gaba: GSoC 14: Second Week!</title>
	<guid isPermaLink="true">http://tarzzz.github.io/gsoc14/second-week.html</guid>
	<link>http://tarzzz.github.io/gsoc14/second-week.html</link>
	<description>{% include JB/setup %}


[ &amp;lt;-Back to posts ](/gsoc14)

Second week of GSoC '14 has ended. It has been a very hectic week. A good part of my time was spent in studying 
and tweaking the MGView code(whose fork we had decided to work on). The new _generic-visualizer_ has to be compatible 
with both PyDy as well as MG(MotionGenesis), so great care is being taken to maintain the backwards compatibility
of the package, as well to add the support for PyDy visualization data. I have also worked on Python side, to 
modify the JSON data generated for the visualizations(from PyDy side).


###Accomplishments:

There have been three major accomplishments this week:

  - **Studying MGView code:** This has to be the most time consuming part! I had to go over a module spanning
    multiple files to study the workflow, and how each methods are linked together. Some conversations with
    Adam Leeper(who wrote the original package) have been very useful in this regard.

  - **Modifying JSON generated from PyDy:** Certain modifications have been done on the JSON generated from the
    PyDy backend, so that they are compatible with MotionView. A major change is that the generated JSON data
    is split over two files, one `scene_desc.json` shall contain all the parameters required to create a static
    scene, and another file `simulation_data.json` which shall contain all the simulation data(in the form of 
    4x4 matrices). It would be very helpful in un-cluttering the data. The API changes in Python side are totally
    backward compatible, which means no previous code shall break once these changes are merged.

  - **Tweaking MGView code:** I have started working on MGView code, to provide the support for PyDy generated
    JSON data. This part will span the coming weeks too.


###Objectives:

The objectives of the upcoming week are to be able to produce some visualizations on the frontend side. 
For that I will need to tweak into the MGView code to allow support for PyDy JSONs.


###Issues:

The main issues I am facing is the inhomogenities in the output produced by PyDy and MG. Since the visualizer
(MOtionView) must be able to visualize data generated from both of these packages, without any bias it has to be 
designed like so. Since It is already built to specifically visualize data generated from MotionGenesis software,
There are certain parts of code which need to be totally rewritten, and it has to be done without breaking the
workflow of the visualizer. So it can get somewhat messy to do so. I am working on to find a clean way to do so.

The upcoming two weeks are somewhat crucial to the project timeline. I have to work really hard in the coming weeks to
keep up with my deliverables before the midterm evaluations. I think I shall get back to coding now! :)




[ &amp;lt;-Back to posts ](/gsoc14)</description>
	<pubDate>Sun, 22 Jun 2014 19:00:40 +0000</pubDate>
</item>
<item>
	<title>Kundan Kumar: GSoC Week 5: Non-linear system of ODEs</title>
	<guid isPermaLink="false">http://kundankumar185.wordpress.com/?p=100</guid>
	<link>http://kundankumar185.wordpress.com/2014/06/22/gsoc-week-5-non-linear-system-of-odes/</link>
	<description>&lt;p&gt;Considering the 5th week has passed, &lt;a href=&quot;https://github.com/sympy/sympy/pull/7611&quot;&gt;PR&lt;/a&gt; for linear system of 3 equations of first order still remains to be merged. Also, &lt;a href=&quot;https://github.com/sympy/sympy/pull/7616&quot;&gt;PR&lt;/a&gt; for non-linear system of ODEs for 2 equations of first order is on the way. The non-linear system of ODEs which I have included are these -&lt;/p&gt;
&lt;p&gt;&amp;gt;&lt;span style=&quot;color: #000000; font-size: small;&quot;&gt;&lt;span style=&quot;font-family: Arial, sans-serif;&quot;&gt;x’ = x**n*F(x, y)&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;color: #000000; font-size: small;&quot;&gt;&lt;span style=&quot;font-family: Arial, sans-serif;&quot;&gt;   y’ = g(y)*F(x, y)&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&amp;gt;&lt;span style=&quot;color: #000000; font-size: small;&quot;&gt;&lt;span style=&quot;font-family: Arial, sans-serif;&quot;&gt;x’ = exp(λx)*F(x, y)&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;color: #000000; font-size: small;&quot;&gt;&lt;span style=&quot;font-family: Arial, sans-serif;&quot;&gt;   y’ = g(y)*F(x, y)&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&amp;gt;&lt;span style=&quot;color: #000000; font-size: small;&quot;&gt;&lt;span style=&quot;font-family: Arial, sans-serif;&quot;&gt;x’ = F(x, y)&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;color: #000000; font-size: small;&quot;&gt;&lt;span style=&quot;font-family: Arial, sans-serif;&quot;&gt;   y’ = G(x, y)&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&amp;gt;&lt;span style=&quot;color: #000000; font-size: small;&quot;&gt;&lt;span style=&quot;font-family: Arial, sans-serif;&quot;&gt;x’ = f1(x)*g1(y)*Φ(x, y, t)&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;color: #000000; font-size: small;&quot;&gt;&lt;span style=&quot;font-family: Arial, sans-serif;&quot;&gt;   y’ = f2(x)*g2(y)*Φ(x, y, t)&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&amp;gt;&lt;span style=&quot;color: #000000; font-size: small;&quot;&gt;&lt;span style=&quot;font-family: Arial, sans-serif;&quot;&gt;x = t*x’ + F(x’, y’)&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;color: #000000; font-size: small;&quot;&gt;&lt;span style=&quot;font-family: Arial, sans-serif;&quot;&gt;   y = t*y’ + G(x’, y’)&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Though the representation of output of these equation are due, because of `Eq` representation not working with a list. So the representation of test cases is not complete.&lt;/p&gt;
&lt;p&gt;There are some equations which may be of above format but is not solvable due to problem of dsolve with certain single equation ODEs, whose solutions, being entwined in terms of function and variable, are inseparable. This is also due to inefficiency of `solve` function that `solve` is not able seperate function and variable in a solution returned by dsolve.&lt;/p&gt;
&lt;p&gt;This week’s I spent a lot of time correcting conflicts in git rebase which created a lot of mess. I tried to solve those but wasn’t very succesful so I deleted the previous branches and created new one.&lt;/p&gt;
&lt;p&gt;This week I intend to complete the documentation part which I have left for implemented differential equations and complete the system of non-linear ODEs for 1st order.&lt;/p&gt;&lt;br /&gt;  &lt;a href=&quot;http://feeds.wordpress.com/1.0/gocomments/kundankumar185.wordpress.com/100/&quot; rel=&quot;nofollow&quot;&gt;&lt;img src=&quot;http://feeds.wordpress.com/1.0/comments/kundankumar185.wordpress.com/100/&quot; alt=&quot;&quot; border=&quot;0&quot; /&gt;&lt;/a&gt; &lt;img src=&quot;http://pixel.wp.com/b.gif?host=kundankumar185.wordpress.com&amp;amp;blog=68025302&amp;amp;post=100&amp;amp;subd=kundankumar185&amp;amp;ref=&amp;amp;feed=1&quot; alt=&quot;&quot; border=&quot;0&quot; width=&quot;1&quot; height=&quot;1&quot; /&gt;</description>
	<pubDate>Sun, 22 Jun 2014 10:28:36 +0000</pubDate>
</item>
<item>
	<title>Sachin Joglekar: GSoC Week 5: PR reviews and starting CoordSysRect</title>
	<guid isPermaLink="false">http://codesachin.wordpress.com/?p=17</guid>
	<link>http://codesachin.wordpress.com/2014/06/21/gsoc-week-5-pr-reviews-and-starting-coordsysrect/</link>
	<description>&lt;p&gt;This week had the dual focus of -&lt;/p&gt;
&lt;p&gt;1. Polishing off the Vector framework based on PR reviews&lt;/p&gt;
&lt;p&gt;2. Starting the implementation of CoordSysRect+Point&lt;/p&gt;
&lt;p&gt;I had thought last week, that the vector classes I implemented in the first PR &lt;em&gt;were&lt;/em&gt; the polished version. However, with the reviews given, I have come to realise that a lot of improvements had/have to be made. Francesco Bonazzi, one of the SymPy contributors, was a huge help in improving the code and making it more efficient than what it initially was.&lt;/p&gt;
&lt;p&gt;The biggest suggestion for improvement that was provided was to not implement custom hashing and equality checking methods for the Vector classes. Initially, I had overridden the inherited versions of these methods in the new classes, based on tuples generated with respect to the vectorial components of any Vector instance. However, SymPy already has a strong framework for these functionalities, based on the &lt;em&gt;args&lt;/em&gt; of a Basic object. Moreover, the SymPy core is apparently being re-written in C++. This would make the SymPy-core versions of the aforementioned methods much, much more efficient than my Python versions.&lt;/p&gt;
&lt;p&gt;Luckily, I had implemented the ‘__new__’ methods of the Vector classes in such a way that ‘equivalent’ Vector instances had exactly the same args. This made the usage of the inherited methods much, much easier – the only thing that remained to do was to pass the appropriate args to the superclass __new__ methods. Hence, all Vector classes rely on the SymPy core now, for as much as they can. Phew. Still a problem is the BaseScalar class, whose superclass is Dummy. The __new__ method for Dummy makes it not-possible to pass coordinate-system and index-related information to it – making the appropriate hashing impossible. If I instead inherit from AtomicExpr, I will have to rewrite many methods – not sure if its a good idea. Lets see what the community has to say about this.&lt;/p&gt;
&lt;p&gt;About the implementation of the new stuff, I have already finished implementing the Point class. Now I am currently working on implementing CoordSysRect – I am still writing the HUGE __new__ method for this class. For now, I am referring to the tests of sympy.physics.vector while doing the coding. Hope I am successful in writing the classes soon, and integrating it with a polishing and ‘perfected’ version of the vector core.&lt;/p&gt;
&lt;p&gt;Thats all for this week. Have a great week!&lt;/p&gt;&lt;br /&gt;  &lt;a href=&quot;http://feeds.wordpress.com/1.0/gocomments/codesachin.wordpress.com/17/&quot; rel=&quot;nofollow&quot;&gt;&lt;img src=&quot;http://feeds.wordpress.com/1.0/comments/codesachin.wordpress.com/17/&quot; alt=&quot;&quot; border=&quot;0&quot; /&gt;&lt;/a&gt; &lt;img src=&quot;http://pixel.wp.com/b.gif?host=codesachin.wordpress.com&amp;amp;blog=67602166&amp;amp;post=17&amp;amp;subd=codesachin&amp;amp;ref=&amp;amp;feed=1&quot; alt=&quot;&quot; border=&quot;0&quot; width=&quot;1&quot; height=&quot;1&quot; /&gt;</description>
	<pubDate>Sat, 21 Jun 2014 11:45:48 +0000</pubDate>
</item>
<item>
	<title>Thilina Rathnayake: [GSoC] Week 5: Matrix Decompositions</title>
	<guid isPermaLink="false">http://thilinaatsympy.wordpress.com/?p=348</guid>
	<link>http://thilinaatsympy.wordpress.com/2014/06/21/gsoc-week-5-matrix-decompositions/</link>
	<description>&lt;p&gt;Hi All,&lt;/p&gt;
&lt;p&gt;Week 5 of the GSoC is over and I have made some progress in Matrix factorizations. I implemented LU factorization and QR factorization. Still I have to implement Cholesky factorization. I hope to do it during the Weekend.&lt;/p&gt;
&lt;h2&gt;LU factorization&lt;/h2&gt;
&lt;p&gt;LU factorization was invented by Alan Turing and this is very important when solving a system of equations. In &lt;strong&gt;LU&lt;/strong&gt; decomposition we try to factorize a given square matrix into a product of two matrices, &lt;strong&gt;L&lt;/strong&gt; and &lt;strong&gt;U&lt;/strong&gt; where &lt;strong&gt;L&lt;/strong&gt; is a lower triangular matrix and &lt;strong&gt;U&lt;/strong&gt; is a upper triangular matrix. The factorization can be a true factorization i.e. &lt;strong&gt;A = LU&lt;/strong&gt; or it may be the process of finding two matrices &lt;strong&gt;L&lt;/strong&gt;, &lt;strong&gt;U&lt;/strong&gt; which can be used in solving the system &lt;strong&gt;Ax = B&lt;/strong&gt;. In the latter case we don’t have &lt;strong&gt;A = LU.&lt;/strong&gt; I implemented three different algorithms for &lt;strong&gt;LU&lt;/strong&gt; decomposition.&lt;/p&gt;
&lt;h4&gt;Fraction Free LU decomposition in [1]&lt;/h4&gt;
&lt;p&gt;Fraction free version described in [1] results in two matrices, a lower triangular matrix &lt;strong&gt;L &lt;/strong&gt;and a upper triangular matrix &lt;strong&gt;U&lt;/strong&gt;. But this is not a true factorization i.e. &lt;strong&gt;A != LU&lt;/strong&gt; in this case. The algorithm is more focused in a factorization that helps to solve a system &lt;strong&gt;Ax = B&lt;/strong&gt;. So we are only interested in finding two matrices which can be used in backward / forward substitution to solve the system.&lt;/p&gt;
&lt;h4&gt;Normal and Fraction Free version in SymPy&lt;/h4&gt;
&lt;p&gt;I also implemented the normal and fraction free version of the algorithm in SymPy which gives an exact factorization &lt;strong&gt;A = LU&lt;/strong&gt;. Normal algorithm results in fractions and not good for numerical calculations if you are not using arbitrary precision arithmetic. In contrast fraction free versions do not generate these kinds of fraction as a result of the decomposition. These algorithms can be found in [2] and [3] respectively.&lt;/p&gt;
&lt;h2&gt;QR decomposition&lt;/h2&gt;
&lt;p&gt;In &lt;strong&gt;QR &lt;/strong&gt;decomposition we find two matrices, an [orthogonal matrix](&lt;a href=&quot;http://en.wikipedia.org/wiki/Orthogonal_matrix&quot; rel=&quot;nofollow&quot;&gt;http://en.wikipedia.org/wiki/Orthogonal_matrix&lt;/a&gt;)  &lt;strong&gt;Q &lt;/strong&gt;and  a upper triangular matrix &lt;strong&gt;R&lt;/strong&gt; such that &lt;strong&gt;A = QR&lt;/strong&gt;. Here &lt;strong&gt;A &lt;/strong&gt;doesn’t have to be a square matrix.There are several method to calculate &lt;strong&gt;QR&lt;/strong&gt; factorization but &lt;strong&gt;SymPy&lt;/strong&gt; uses &lt;strong&gt;&lt;span class=&quot;mw-headline&quot; id=&quot;Using_the_Gram.E2.80.93Schmidt_process&quot;&gt;Gram–Schmidt &lt;/span&gt;&lt;/strong&gt;&lt;span class=&quot;mw-headline&quot; id=&quot;Using_the_Gram.E2.80.93Schmidt_process&quot;&gt;process. The Algorithm can be found in [4].&lt;br /&gt;
&lt;/span&gt;&lt;/p&gt;
&lt;h2&gt;Issues&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;QR&lt;/strong&gt; decomposition is not a `symbolic friendly` algorithm as it involves finding square root. I searched thoroughly for an algorithm that is suited for symbolic entries but couldn’t find one.&lt;/p&gt;
&lt;h2&gt;References&lt;/h2&gt;
&lt;div class=&quot;line&quot; id=&quot;LC175&quot;&gt;&lt;span class=&quot;c1&quot;&gt;[1] Algorithm 3, page 14, Nakos, G. C., Turner, P. R., Williams, R. M. (1997). Fraction-free algorithms for linear and polynomial equations. ACM SIGSAM Bulletin, 31(3), 11–19. doi:10.1145/271130.271133.&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;
&lt;div class=&quot;line&quot;&gt;[2] &lt;a href=&quot;http://docs.sympy.org/latest/modules/matrices/matrices.html#sympy.matrices.matrices.MatrixBase.LUdecomposition&quot; rel=&quot;nofollow&quot;&gt;http://docs.sympy.org/latest/modules/matrices/matrices.html#sympy.matrices.matrices.MatrixBase.LUdecomposition&lt;/a&gt;&lt;/div&gt;
&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;
&lt;div class=&quot;line&quot;&gt;[3] &lt;a href=&quot;http://docs.sympy.org/latest/modules/matrices/matrices.html#sympy.matrices.matrices.MatrixBase.LUdecompositionFF&quot; rel=&quot;nofollow&quot;&gt;http://docs.sympy.org/latest/modules/matrices/matrices.html#sympy.matrices.matrices.MatrixBase.LUdecompositionFF&lt;/a&gt;&lt;/div&gt;
&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;
&lt;div class=&quot;line&quot;&gt;[4] &lt;a href=&quot;http://docs.sympy.org/latest/modules/matrices/matrices.html#sympy.matrices.matrices.MatrixBase.QRdecomposition&quot; rel=&quot;nofollow&quot;&gt;http://docs.sympy.org/latest/modules/matrices/matrices.html#sympy.matrices.matrices.MatrixBase.QRdecomposition&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;  &lt;a href=&quot;http://feeds.wordpress.com/1.0/gocomments/thilinaatsympy.wordpress.com/348/&quot; rel=&quot;nofollow&quot;&gt;&lt;img src=&quot;http://feeds.wordpress.com/1.0/comments/thilinaatsympy.wordpress.com/348/&quot; alt=&quot;&quot; border=&quot;0&quot; /&gt;&lt;/a&gt; &lt;img src=&quot;http://pixel.wp.com/b.gif?host=thilinaatsympy.wordpress.com&amp;amp;blog=52956410&amp;amp;post=348&amp;amp;subd=thilinaatsympy&amp;amp;ref=&amp;amp;feed=1&quot; alt=&quot;&quot; border=&quot;0&quot; width=&quot;1&quot; height=&quot;1&quot; /&gt;</description>
	<pubDate>Sat, 21 Jun 2014 06:20:41 +0000</pubDate>
</item>
<item>
	<title>Jim Crist: GSoC Week 5: Adventures in Profiling</title>
	<guid isPermaLink="false">tag:,2014-06-20:gsoc-week-5.html</guid>
	<link>http://jcrist.github.io/gsoc-week-5.html</link>
	<description>&lt;p&gt;
&lt;/p&gt;&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;
&lt;div class=&quot;prompt input_prompt&quot;&gt;
&lt;/div&gt;
&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;p&gt;This week I've been working on little fixes. Improving the docstrings, a couple interface improvements, finalizing some design decisions. The plan is to finish up this work next week, and then move on to the code generation portion of the project. In it's current state, the linearizer can handle &lt;code&gt;KanesMethod&lt;/code&gt; and &lt;code&gt;LagrangesMethod&lt;/code&gt; with ease. I'll probably spend some time hacking away at the &lt;code&gt;matrix_to_linearizer&lt;/code&gt; function as well, but that's not priority.&lt;/p&gt;
&lt;p&gt;The rest of the week was spent profiling and doing some basic optimizations. Being a mechanical engineer, I haven't spent much time learning about numerical methods (although, I am taking this &lt;a href=&quot;http://ocw.mit.edu/courses/mathematics/18-085-computational-science-and-engineering-i-fall-2008/index.htm&quot;&gt;MIT OCW course this summer&lt;/a&gt;). As such, my natural way of solving the system&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;\[
A x = B
\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;where &lt;span class=&quot;math&quot;&gt;\(A\)&lt;/span&gt;, &lt;span class=&quot;math&quot;&gt;\(B\)&lt;/span&gt;, and &lt;span class=&quot;math&quot;&gt;\(x\)&lt;/span&gt; are matrices, is to take the inverse of &lt;span class=&quot;math&quot;&gt;\(A\)&lt;/span&gt;, and multiply it by &lt;span class=&quot;math&quot;&gt;\(B\)&lt;/span&gt;:&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;\[ x = A^{-1} B \]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Turns out, this is horribly inefficient. But what is the best way? I had to do some profiling.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;
&lt;div class=&quot;prompt input_prompt&quot;&gt;
&lt;/div&gt;
&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;h1 id=&quot;creating-benchmark-matrices&quot;&gt;Creating Benchmark Matrices&lt;/h1&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;
&lt;div class=&quot;prompt input_prompt&quot;&gt;
&lt;/div&gt;
&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;p&gt;For most systems of the form &lt;span class=&quot;math&quot;&gt;\(A x = B\)&lt;/span&gt; in &lt;code&gt;sympy.physics.mechanics&lt;/code&gt;, &lt;span class=&quot;math&quot;&gt;\(A\)&lt;/span&gt; is a symmetric matrix, and &lt;span class=&quot;math&quot;&gt;\(B\)&lt;/span&gt; is a column vector. To do proper benchmarks, I'd need to create random matrices of this form. Looking at some example equations of motion, it can be seen that these mostly consisted of products and sums of terms composed of symbols, trigonometric functions, power functions, &lt;code&gt;sqrt&lt;/code&gt;, and &lt;code&gt;inv&lt;/code&gt;. After some time, I was able to create a couple functions to create these matrices in a composable way:&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing code_cell rendered&quot;&gt;
&lt;div class=&quot;input&quot;&gt;
&lt;div class=&quot;prompt input_prompt&quot;&gt;
In [1]:
&lt;/div&gt;
&lt;div class=&quot;inner_cell&quot;&gt;
    &lt;div class=&quot;input_area&quot;&gt;
&lt;div class=&quot;highlight-ipynb&quot;&gt;&lt;pre class=&quot;ipynb&quot;&gt;&lt;span class=&quot;c&quot;&gt;# Below are some functions to create random matrices of varying sizes.&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# These will be used in the benchmarks.&lt;/span&gt;

&lt;span class=&quot;kn&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;random&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sample&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;randint&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;sympy&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Matrix&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;symbols&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sin&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;cos&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tan&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sqrt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;zeros&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; \
    &lt;span class=&quot;n&quot;&gt;Symbol&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;diag&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;prod&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;# Define some operations&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;pow2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;lambda&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;pow&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;pow3&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;lambda&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;pow&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;pow4&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;lambda&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;pow&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;inv&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;lambda&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;# Defaults&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# OPS is a list of common operations in sympy.physics.mechanics&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;OPS&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sin&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;cos&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tan&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pow2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pow3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pow4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sqrt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;inv&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# SYMS is a list of symbols that could be found in a matrix&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;SYMS&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;symbols&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'a, b, c, d, e, f, g, h, i, j'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;sum_or_prod&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;vec&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
    &lt;span class=&quot;sd&quot;&gt;&quot;&quot;&quot; Return either the sum or product of a vector &quot;&quot;&quot;&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sample&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;([&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;prod&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;func&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;vec&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;randterms&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;max_terms&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ops&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;OPS&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;syms&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;SYMS&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
    &lt;span class=&quot;sd&quot;&gt;&quot;&quot;&quot; Creates a list of random terms of size n. Each cell is composed of&lt;/span&gt;
&lt;span class=&quot;sd&quot;&gt;    0 to max_terms, composed of randomly sampled functions from ops, and&lt;/span&gt;
&lt;span class=&quot;sd&quot;&gt;    symbols from syms &quot;&quot;&quot;&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;ntermlist&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;randint&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;max_terms&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;range&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)]&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;pick&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;lambda&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;vec&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;nlist&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;vec&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; 
            &lt;span class=&quot;n&quot;&gt;sample&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;range&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;len&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;vec&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)]&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;n&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;nlist&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;rops&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pick&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ops&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ntermlist&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;rsyms&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pick&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;syms&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ntermlist&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;terms&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;zip&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;opsym&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;opsym&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;zip&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rops&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;rsyms&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)]&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sum_or_prod&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;op&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;op&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;term&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;term&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;terms&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;randmat&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;m&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;max_terms&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ops&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;OPS&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;syms&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;SYMS&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
    &lt;span class=&quot;sd&quot;&gt;&quot;&quot;&quot; Creates a random matrix of size (m,n). Each cell is composed of&lt;/span&gt;
&lt;span class=&quot;sd&quot;&gt;    1 to max_terms, composed of randomly sampled functions from ops, and&lt;/span&gt;
&lt;span class=&quot;sd&quot;&gt;    symbols from syms &quot;&quot;&quot;&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Matrix&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;randterms&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;m&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;max_terms&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ops&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;syms&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;reshape&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;m&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;randuppertriag&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;max_terms&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ops&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;OPS&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;syms&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;SYMS&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
    &lt;span class=&quot;sd&quot;&gt;&quot;&quot;&quot; Creates a random upper triangular matrix of size (n, n). Each cell is&lt;/span&gt;
&lt;span class=&quot;sd&quot;&gt;    composed of 1 to max_terms, composed of randomly sampled functions from&lt;/span&gt;
&lt;span class=&quot;sd&quot;&gt;    ops, and symbols from syms &quot;&quot;&quot;&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;nupper&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;range&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;terms&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;randterms&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;nupper&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;max_terms&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ops&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;syms&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;t&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;rows&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;range&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;rows&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;append&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;zeros&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;row_join&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Matrix&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;terms&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;t&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;t&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;t&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;rows&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;append&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;zeros&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Matrix&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rows&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;symrandmat&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;max_terms&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ops&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;OPS&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;syms&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;SYMS&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
    &lt;span class=&quot;sd&quot;&gt;&quot;&quot;&quot; Creates a random symmetric matrix of size (n, n). Each cell is&lt;/span&gt;
&lt;span class=&quot;sd&quot;&gt;    composed of 1 to max_terms, composed of randomly sampled functions from&lt;/span&gt;
&lt;span class=&quot;sd&quot;&gt;    ops, and symbols from syms &quot;&quot;&quot;&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;upper&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;randuppertriag&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;max_terms&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ops&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;syms&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;lower&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;upper&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;T&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;D&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;diag&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;randterms&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;max_terms&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ops&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;syms&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;upper&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;D&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;lower&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing code_cell rendered&quot;&gt;
&lt;div class=&quot;input&quot;&gt;
&lt;div class=&quot;prompt input_prompt&quot;&gt;
In [2]:
&lt;/div&gt;
&lt;div class=&quot;inner_cell&quot;&gt;
    &lt;div class=&quot;input_area&quot;&gt;
&lt;div class=&quot;highlight-ipynb&quot;&gt;&lt;pre class=&quot;ipynb&quot;&gt;&lt;span class=&quot;c&quot;&gt;# 3x3 Random Upper Triangular Matrix with max number of terms 2&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;randuppertriag&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class=&quot;output_wrapper&quot;&gt;
&lt;div class=&quot;output&quot;&gt;


&lt;div class=&quot;output_area&quot;&gt;&lt;div class=&quot;prompt output_prompt&quot;&gt;
    Out[2]:&lt;/div&gt;


&lt;div class=&quot;output_text output_subarea output_pyout&quot;&gt;
&lt;pre&gt;Matrix([
[0, cos(e),      tan(g)],
[0,      0, f**4*cos(j)],
[0,      0,           0]])
&lt;/pre&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing code_cell rendered&quot;&gt;
&lt;div class=&quot;input&quot;&gt;
&lt;div class=&quot;prompt input_prompt&quot;&gt;
In [3]:
&lt;/div&gt;
&lt;div class=&quot;inner_cell&quot;&gt;
    &lt;div class=&quot;input_area&quot;&gt;
&lt;div class=&quot;highlight-ipynb&quot;&gt;&lt;pre class=&quot;ipynb&quot;&gt;&lt;span class=&quot;c&quot;&gt;# 3x3 Random Matrix with max number of terms 2&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;randmat&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class=&quot;output_wrapper&quot;&gt;
&lt;div class=&quot;output&quot;&gt;


&lt;div class=&quot;output_area&quot;&gt;&lt;div class=&quot;prompt output_prompt&quot;&gt;
    Out[3]:&lt;/div&gt;


&lt;div class=&quot;output_text output_subarea output_pyout&quot;&gt;
&lt;pre&gt;Matrix([
[   b**4, j**2 + tan(c),           d**4],
[    1/d,        cos(f), c**2 + sqrt(d)],
[sqrt(a),        cos(g),           j**4]])
&lt;/pre&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing code_cell rendered&quot;&gt;
&lt;div class=&quot;input&quot;&gt;
&lt;div class=&quot;prompt input_prompt&quot;&gt;
In [4]:
&lt;/div&gt;
&lt;div class=&quot;inner_cell&quot;&gt;
    &lt;div class=&quot;input_area&quot;&gt;
&lt;div class=&quot;highlight-ipynb&quot;&gt;&lt;pre class=&quot;ipynb&quot;&gt;&lt;span class=&quot;c&quot;&gt;# 3x3 Symmetric matrix with max number of terms 2&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;symrandmat&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class=&quot;output_wrapper&quot;&gt;
&lt;div class=&quot;output&quot;&gt;


&lt;div class=&quot;output_area&quot;&gt;&lt;div class=&quot;prompt output_prompt&quot;&gt;
    Out[4]:&lt;/div&gt;


&lt;div class=&quot;output_text output_subarea output_pyout&quot;&gt;
&lt;pre&gt;Matrix([
[          cos(a), sqrt(g) + sin(b),        tan(f)],
[sqrt(g) + sin(b),   sqrt(i)*cos(j),           1/b],
[          tan(f),              1/b, cos(f)*tan(c)]])
&lt;/pre&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;
&lt;div class=&quot;prompt input_prompt&quot;&gt;
&lt;/div&gt;
&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;h1 id=&quot;solution-methods&quot;&gt;Solution Methods&lt;/h1&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;
&lt;div class=&quot;prompt input_prompt&quot;&gt;
&lt;/div&gt;
&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;p&gt;There are 4 different methods we'll be testing:&lt;/p&gt;
&lt;ol style=&quot;&quot;&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;LUsolve&lt;/code&gt;:&lt;/strong&gt; Solve the problem with LU decomposition&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;LDLsolve&lt;/code&gt;:&lt;/strong&gt; For symmetric matrices, solve with LDL decomposition&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;cholesky_solve&lt;/code&gt;:&lt;/strong&gt; For symmetric matrices, solve with cholesky decomposition&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;_mat_inv_mul&lt;/code&gt;:&lt;/strong&gt; Solve using LDL decomposition, and an intermediate substitution dictionary. This is what &lt;code&gt;mechanics&lt;/code&gt; is currently using.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;After doing some reading up on these, &lt;code&gt;LDLsolve&lt;/code&gt; and &lt;code&gt;cholesky_solve&lt;/code&gt; &lt;a href=&quot;http://en.wikipedia.org/wiki/Cholesky_decomposition#Computation&quot;&gt;should be the fastest&lt;/a&gt;, as the &lt;span class=&quot;math&quot;&gt;\(A\)&lt;/span&gt; matrix is symmetric. &lt;code&gt;_mat_inv_mul&lt;/code&gt; also uses LDL decomposition, but it has the overhead of substitution. However, for larger matrices this may yield benefits, as the LDL decomposition is performed only on a matrix of single symbols.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing code_cell rendered&quot;&gt;
&lt;div class=&quot;input&quot;&gt;
&lt;div class=&quot;prompt input_prompt&quot;&gt;
In [5]:
&lt;/div&gt;
&lt;div class=&quot;inner_cell&quot;&gt;
    &lt;div class=&quot;input_area&quot;&gt;
&lt;div class=&quot;highlight-ipynb&quot;&gt;&lt;pre class=&quot;ipynb&quot;&gt;&lt;span class=&quot;c&quot;&gt;# This is what sympy.physics.mechanics is currently using.&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# Copied into this file, to show what it's doing.&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;_mat_inv_mul&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;A&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;B&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
    &lt;span class=&quot;sd&quot;&gt;&quot;&quot;&quot;&lt;/span&gt;
&lt;span class=&quot;sd&quot;&gt;    Computes A^-1 * B symbolically w/ substitution, where B is not&lt;/span&gt;
&lt;span class=&quot;sd&quot;&gt;    necessarily a vector, but can be a matrix.&lt;/span&gt;

&lt;span class=&quot;sd&quot;&gt;    &quot;&quot;&quot;&lt;/span&gt;

    &lt;span class=&quot;n&quot;&gt;r1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;A&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;shape&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;r2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;B&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;shape&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;temp1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Matrix&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;r1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;lambda&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Symbol&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'x'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;str&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;str&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;r1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)))&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;temp2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Matrix&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;r2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;lambda&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Symbol&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'y'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;str&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;str&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;r2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)))&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;range&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;len&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;temp1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)):&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;A&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;temp1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;range&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;len&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;temp2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)):&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;B&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;temp2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;temp3&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;range&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;temp3&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;append&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;temp1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;LDLsolve&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;temp2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[:,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]))&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;temp3&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Matrix&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;([&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;T&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;temp3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;T&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;temp3&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;subs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;dict&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;zip&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;temp1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;A&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))))&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;subs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;dict&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;zip&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;temp2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;B&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;
&lt;div class=&quot;prompt input_prompt&quot;&gt;
&lt;/div&gt;
&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;h1 id=&quot;benchmark-constant-matrix-complexity-varying-n&quot;&gt;Benchmark: Constant Matrix Complexity, Varying &lt;em&gt;n&lt;/em&gt;&lt;/h1&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;
&lt;div class=&quot;prompt input_prompt&quot;&gt;
&lt;/div&gt;
&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;p&gt;Here we check increasing matrix dimensions, with a constant complexity of each cell (&lt;code&gt;max_terms = 3&lt;/code&gt;). Only running up to n=6, as computation got excessive after that.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing code_cell rendered&quot;&gt;
&lt;div class=&quot;input&quot;&gt;
&lt;div class=&quot;prompt input_prompt&quot;&gt;
In [6]:
&lt;/div&gt;
&lt;div class=&quot;inner_cell&quot;&gt;
    &lt;div class=&quot;input_area&quot;&gt;
&lt;div class=&quot;highlight-ipynb&quot;&gt;&lt;pre class=&quot;ipynb&quot;&gt;&lt;span class=&quot;kn&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;timeit&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;repeat&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;# Run the benchmark for varying values of n, with max_terms = 3&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;timestmt&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;lambda&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;stmt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;setup&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;min&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;repeat&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;stmt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;setup&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;setup&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;repeat&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;ns&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;range&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;lu_t&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;ldl_t&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;chol_t&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;matinv_t&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;n&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ns&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;A&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;symrandmat&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;B&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;randmat&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;lu_t&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;append&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;timestmt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'A.LUsolve(B)'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;'from __main__ import A, B'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;ldl_t&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;append&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;timestmt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'A.LDLsolve(B)'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;'from __main__ import A, B'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;chol_t&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;append&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;timestmt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'A.cholesky_solve(B)'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;'from __main__ import A, B'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;matinv_t&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;append&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;timestmt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'_mat_inv_mul(A, B)'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;s&quot;&gt;'from __main__ import A, B, _mat_inv_mul'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing code_cell rendered&quot;&gt;
&lt;div class=&quot;input&quot;&gt;
&lt;div class=&quot;prompt input_prompt&quot;&gt;
In [7]:
&lt;/div&gt;
&lt;div class=&quot;inner_cell&quot;&gt;
    &lt;div class=&quot;input_area&quot;&gt;
&lt;div class=&quot;highlight-ipynb&quot;&gt;&lt;pre class=&quot;ipynb&quot;&gt;&lt;span class=&quot;c&quot;&gt;# Plot the results&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;matplotlib.pyplot&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;plt&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;matplotlib&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;inline&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;plt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;figure&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;plt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;plot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ns&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;lu_t&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;label&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'A.LUsolve(B)'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;plt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;plot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ns&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ldl_t&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;label&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'A.LDLsolve(B)'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;plt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;plot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ns&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;chol_t&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;label&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'A.cholesky_solve(B)'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;plt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;plot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ns&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;matinv_t&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;label&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'mat_inv_mul(A, B)'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;plt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;xlabel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'Matrix Dimension'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;plt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ylabel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'Time (s)'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;plt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;title&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'Timings for Solution to A*x = b, Varying Dimensions'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;plt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;legend&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;loc&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;plt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;figure&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;plt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;plot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ns&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;lu_t&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;label&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'A.LUsolve(B)'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;plt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;plot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ns&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ldl_t&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;label&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'A.LDLsolve(B)'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;plt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;plot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ns&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;chol_t&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;label&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'A.cholesky_solve(B)'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;plt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;xlabel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'Matrix Dimension'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;plt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ylabel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'Time (s)'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;plt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;title&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'Timings for Solution to A*x = b,  Varying Dimensions'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;plt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;legend&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;loc&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;plt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;show&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class=&quot;output_wrapper&quot;&gt;
&lt;div class=&quot;output&quot;&gt;


&lt;div class=&quot;output_area&quot;&gt;&lt;div class=&quot;prompt&quot;&gt;&lt;/div&gt;


&lt;div class=&quot;output_png output_subarea &quot;&gt;
&lt;img /&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;div class=&quot;output_area&quot;&gt;&lt;div class=&quot;prompt&quot;&gt;&lt;/div&gt;


&lt;div class=&quot;output_png output_subarea &quot;&gt;
&lt;img /&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;
&lt;div class=&quot;prompt input_prompt&quot;&gt;
&lt;/div&gt;
&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;p&gt;Observing the above plots it can be seen that &lt;code&gt;_mat_inv_mul&lt;/code&gt; is several orders of magnitude slower than the other three methods, and increases in time at a faster rate. As the underlying algorithm is the same as &lt;code&gt;LDLsolve&lt;/code&gt;, this indicates that the &lt;code&gt;subs&lt;/code&gt; operations are slow, and of larger complexity than &lt;code&gt;LDLsolve&lt;/code&gt;. While the other three methods are all close, &lt;code&gt;LUsolve&lt;/code&gt; is the fastest. This is interesting, because for purely numeric computation (i.e. floating point only), &lt;code&gt;LDLsolve&lt;/code&gt; and &lt;code&gt;cholesky_solve&lt;/code&gt; should be faster for symmetric matrices.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;
&lt;div class=&quot;prompt input_prompt&quot;&gt;
&lt;/div&gt;
&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;h1 id=&quot;benchmark-varying-matrix-complexity-constant-n&quot;&gt;Benchmark: Varying Matrix Complexity, Constant &lt;em&gt;n&lt;/em&gt;&lt;/h1&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;
&lt;div class=&quot;prompt input_prompt&quot;&gt;
&lt;/div&gt;
&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;p&gt;Here we vary the complexity of the matrix (how many terms in each cell), but keep the matrix size constant. I picked &lt;em&gt;n&lt;/em&gt; = 4, because it was big enough to take some time, but not too big to take forever. I'd expect to see the computation time increase with complexity, but not as rapidly as it did with matrix dimension.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing code_cell rendered&quot;&gt;
&lt;div class=&quot;input&quot;&gt;
&lt;div class=&quot;prompt input_prompt&quot;&gt;
In [8]:
&lt;/div&gt;
&lt;div class=&quot;inner_cell&quot;&gt;
    &lt;div class=&quot;input_area&quot;&gt;
&lt;div class=&quot;highlight-ipynb&quot;&gt;&lt;pre class=&quot;ipynb&quot;&gt;&lt;span class=&quot;c&quot;&gt;# Run the benchmark for varying values of max_terms, with n = 4&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;ms&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;range&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;9&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;lu_t&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;ldl_t&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;chol_t&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;matinv_t&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;m&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ms&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;A&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;symrandmat&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;m&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;B&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;randmat&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;m&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;lu_t&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;append&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;timestmt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'A.LUsolve(B)'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;'from __main__ import A, B'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;ldl_t&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;append&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;timestmt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'A.LDLsolve(B)'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;'from __main__ import A, B'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;chol_t&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;append&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;timestmt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'A.cholesky_solve(B)'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;'from __main__ import A, B'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;matinv_t&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;append&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;timestmt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'_mat_inv_mul(A, B)'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;s&quot;&gt;'from __main__ import A, B, _mat_inv_mul'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing code_cell rendered&quot;&gt;
&lt;div class=&quot;input&quot;&gt;
&lt;div class=&quot;prompt input_prompt&quot;&gt;
In [9]:
&lt;/div&gt;
&lt;div class=&quot;inner_cell&quot;&gt;
    &lt;div class=&quot;input_area&quot;&gt;
&lt;div class=&quot;highlight-ipynb&quot;&gt;&lt;pre class=&quot;ipynb&quot;&gt;&lt;span class=&quot;c&quot;&gt;# Plot the results&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;plt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;figure&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;plt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;plot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ms&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;lu_t&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;label&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'A.LUsolve(B)'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;plt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;plot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ms&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ldl_t&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;label&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'A.LDLsolve(B)'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;plt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;plot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ms&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;chol_t&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;label&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'A.cholesky_solve(B)'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;plt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;plot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ms&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;matinv_t&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;label&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'mat_inv_mul(A, B)'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;plt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;xlabel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'Matrix Complexity'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;plt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ylabel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'Time (s)'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;plt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;title&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'Timings for Solution to A*x = b, Varying Complexity'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;plt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;legend&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;loc&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;plt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;figure&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;plt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;plot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ms&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;lu_t&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;label&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'A.LUsolve(B)'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;plt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;plot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ms&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ldl_t&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;label&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'A.LDLsolve(B)'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;plt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;plot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ms&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;chol_t&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;label&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'A.cholesky_solve(B)'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;plt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;xlabel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'Matrix Complexity'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;plt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ylabel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'Time (s)'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;plt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;title&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'Timings for Solution to A*x = b, Varying Complexity'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;plt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;legend&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;loc&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;plt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;show&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class=&quot;output_wrapper&quot;&gt;
&lt;div class=&quot;output&quot;&gt;


&lt;div class=&quot;output_area&quot;&gt;&lt;div class=&quot;prompt&quot;&gt;&lt;/div&gt;


&lt;div class=&quot;output_png output_subarea &quot;&gt;
&lt;img /&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;div class=&quot;output_area&quot;&gt;&lt;div class=&quot;prompt&quot;&gt;&lt;/div&gt;


&lt;div class=&quot;output_png output_subarea &quot;&gt;
&lt;img /&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;
&lt;div class=&quot;prompt input_prompt&quot;&gt;
&lt;/div&gt;
&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;p&gt;Interestingly, it seems that &lt;code&gt;LUsolve&lt;/code&gt;, &lt;code&gt;LDLsolve&lt;/code&gt;, and &lt;code&gt;cholesky_solve&lt;/code&gt; don't increase in time with complexity, while &lt;code&gt;_mat_inv_mul&lt;/code&gt; does. This must be due to the intermediate substitution step.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;
&lt;div class=&quot;prompt input_prompt&quot;&gt;
&lt;/div&gt;
&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;h1 id=&quot;benchmark-turning-matrix-term-complexity-up-to-11&quot;&gt;Benchmark: Turning Matrix Term Complexity up to 11&lt;/h1&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;
&lt;div class=&quot;prompt input_prompt&quot;&gt;
&lt;/div&gt;
&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;p&gt;Using the matrices composed by the above methods, all cells are either a sum of terms, or a product. This is close to how the matrices we need to solve look, but it's not a perfect representation. Let's try with a really ugly matrix. We can use the fact that for any matrix &lt;span class=&quot;math&quot;&gt;\(A\)&lt;/span&gt;, &lt;span class=&quot;math&quot;&gt;\(A A^T\)&lt;/span&gt; is a symmetric matrix.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing code_cell rendered&quot;&gt;
&lt;div class=&quot;input&quot;&gt;
&lt;div class=&quot;prompt input_prompt&quot;&gt;
In [10]:
&lt;/div&gt;
&lt;div class=&quot;inner_cell&quot;&gt;
    &lt;div class=&quot;input_area&quot;&gt;
&lt;div class=&quot;highlight-ipynb&quot;&gt;&lt;pre class=&quot;ipynb&quot;&gt;&lt;span class=&quot;n&quot;&gt;temp&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;prod&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;([&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;randmat&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;range&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)])&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;A&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;temp&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;temp&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;T&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;B&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;randmat&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing code_cell rendered&quot;&gt;
&lt;div class=&quot;input&quot;&gt;
&lt;div class=&quot;prompt input_prompt&quot;&gt;
In [11]:
&lt;/div&gt;
&lt;div class=&quot;inner_cell&quot;&gt;
    &lt;div class=&quot;input_area&quot;&gt;
&lt;div class=&quot;highlight-ipynb&quot;&gt;&lt;pre class=&quot;ipynb&quot;&gt;&lt;span class=&quot;n&quot;&gt;A&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class=&quot;output_wrapper&quot;&gt;
&lt;div class=&quot;output&quot;&gt;


&lt;div class=&quot;output_area&quot;&gt;&lt;div class=&quot;prompt output_prompt&quot;&gt;
    Out[11]:&lt;/div&gt;


&lt;div class=&quot;output_text output_subarea output_pyout&quot;&gt;
&lt;pre&gt;Matrix([
[                                                                                                                                                                                                                                                                                                   (h**(9/2) + (sqrt(a) + cos(i))*(c**4 + tan(f)) + sin(i)*cos(c) + sin(f)*sin(g)/c)**2 + (c*sin(g) + (sqrt(a) + cos(i))*tan(g) + sin(i)*cos(c) + sqrt(h)*tan(a)/e)**2 + (sqrt(h)*(b**4 + sqrt(h)) + sqrt(i)*(sqrt(a) + cos(i)) + sin(a)*cos(c) + i**2*sin(g)*sin(j)/c)**2 + (b**2*e**4*cos(c) + d**3*(sqrt(a) + cos(i)) + g**2*sqrt(h) + (g**4 + cos(f))*sin(g)/c)**2, (h**(9/2) + (sqrt(a) + cos(i))*(c**4 + tan(f)) + sin(i)*cos(c) + sin(f)*sin(g)/c)*(d**3*sin(i) + j**3*sin(f) + h**4/f + h**2*(c**4 + tan(f))/f) + (c*sin(g) + (sqrt(a) + cos(i))*tan(g) + sin(i)*cos(c) + sqrt(h)*tan(a)/e)*(c**2*j**3 + d**3*sin(i) + h**2*tan(g)/f + tan(a)/(e*f)) + (d**3*sin(a) + i**2*j**3*sin(j) + h**2*sqrt(i)/f + (b**4 + sqrt(h))/f)*(sqrt(h)*(b**4 + sqrt(h)) + sqrt(i)*(sqrt(a) + cos(i)) + sin(a)*cos(c) + i**2*sin(g)*sin(j)/c) + (b**2*d**3*e**4 + d**3*h**2/f + j**3*(g**4 + cos(f)) + g**2/f)*(b**2*e**4*cos(c) + d**3*(sqrt(a) + cos(i)) + g**2*sqrt(h) + (g**4 + cos(f))*sin(g)/c), (h**(9/2) + (sqrt(a) + cos(i))*(c**4 + tan(f)) + sin(i)*cos(c) + sin(f)*sin(g)/c)*(c**2*sin(f)/h + h**4*(sin(a) + cos(b)) + (c**4 + tan(f))/c + sin(i)/c) + (c*sin(g) + (sqrt(a) + cos(i))*tan(g) + sin(i)*cos(c) + sqrt(h)*tan(a)/e)*(c**4/h + (sin(a) + cos(b))*tan(a)/e + sin(i)/c + tan(g)/c) + (sqrt(h)*(b**4 + sqrt(h)) + sqrt(i)*(sqrt(a) + cos(i)) + sin(a)*cos(c) + i**2*sin(g)*sin(j)/c)*(c**2*i**2*sin(j)/h + (b**4 + sqrt(h))*(sin(a) + cos(b)) + sqrt(i)/c + sin(a)/c) + (b**2*e**4/c + c**2*(g**4 + cos(f))/h + g**2*(sin(a) + cos(b)) + d**3/c)*(b**2*e**4*cos(c) + d**3*(sqrt(a) + cos(i)) + g**2*sqrt(h) + (g**4 + cos(f))*sin(g)/c), (h**(9/2) + (sqrt(a) + cos(i))*(c**4 + tan(f)) + sin(i)*cos(c) + sin(f)*sin(g)/c)*(sqrt(b)*g**2*sin(f) + sqrt(e)*sin(i) + f**2*h**4 + (c**4 + tan(f))*tan(i)) + (c*sin(g) + (sqrt(a) + cos(i))*tan(g) + sin(i)*cos(c) + sqrt(h)*tan(a)/e)*(sqrt(b)*c**2*g**2 + sqrt(e)*sin(i) + tan(g)*tan(i) + f**2*tan(a)/e) + (sqrt(h)*(b**4 + sqrt(h)) + sqrt(i)*(sqrt(a) + cos(i)) + sin(a)*cos(c) + i**2*sin(g)*sin(j)/c)*(sqrt(b)*g**2*i**2*sin(j) + sqrt(e)*sin(a) + f**2*(b**4 + sqrt(h)) + sqrt(i)*tan(i)) + (sqrt(b)*g**2*(g**4 + cos(f)) + b**2*e**(9/2) + d**3*tan(i) + f**2*g**2)*(b**2*e**4*cos(c) + d**3*(sqrt(a) + cos(i)) + g**2*sqrt(h) + (g**4 + cos(f))*sin(g)/c)],
[                                                  (h**(9/2) + (sqrt(a) + cos(i))*(c**4 + tan(f)) + sin(i)*cos(c) + sin(f)*sin(g)/c)*(d**3*sin(i) + j**3*sin(f) + h**4/f + h**2*(c**4 + tan(f))/f) + (c*sin(g) + (sqrt(a) + cos(i))*tan(g) + sin(i)*cos(c) + sqrt(h)*tan(a)/e)*(c**2*j**3 + d**3*sin(i) + h**2*tan(g)/f + tan(a)/(e*f)) + (d**3*sin(a) + i**2*j**3*sin(j) + h**2*sqrt(i)/f + (b**4 + sqrt(h))/f)*(sqrt(h)*(b**4 + sqrt(h)) + sqrt(i)*(sqrt(a) + cos(i)) + sin(a)*cos(c) + i**2*sin(g)*sin(j)/c) + (b**2*d**3*e**4 + d**3*h**2/f + j**3*(g**4 + cos(f)) + g**2/f)*(b**2*e**4*cos(c) + d**3*(sqrt(a) + cos(i)) + g**2*sqrt(h) + (g**4 + cos(f))*sin(g)/c),                                                                                                                                                                                                                                                                                                                                       (c**2*j**3 + d**3*sin(i) + h**2*tan(g)/f + tan(a)/(e*f))**2 + (d**3*sin(a) + i**2*j**3*sin(j) + h**2*sqrt(i)/f + (b**4 + sqrt(h))/f)**2 + (d**3*sin(i) + j**3*sin(f) + h**4/f + h**2*(c**4 + tan(f))/f)**2 + (b**2*d**3*e**4 + d**3*h**2/f + j**3*(g**4 + cos(f)) + g**2/f)**2,                                                                                      (c**2*j**3 + d**3*sin(i) + h**2*tan(g)/f + tan(a)/(e*f))*(c**4/h + (sin(a) + cos(b))*tan(a)/e + sin(i)/c + tan(g)/c) + (d**3*sin(a) + i**2*j**3*sin(j) + h**2*sqrt(i)/f + (b**4 + sqrt(h))/f)*(c**2*i**2*sin(j)/h + (b**4 + sqrt(h))*(sin(a) + cos(b)) + sqrt(i)/c + sin(a)/c) + (d**3*sin(i) + j**3*sin(f) + h**4/f + h**2*(c**4 + tan(f))/f)*(c**2*sin(f)/h + h**4*(sin(a) + cos(b)) + (c**4 + tan(f))/c + sin(i)/c) + (b**2*e**4/c + c**2*(g**4 + cos(f))/h + g**2*(sin(a) + cos(b)) + d**3/c)*(b**2*d**3*e**4 + d**3*h**2/f + j**3*(g**4 + cos(f)) + g**2/f),                                                                                      (c**2*j**3 + d**3*sin(i) + h**2*tan(g)/f + tan(a)/(e*f))*(sqrt(b)*c**2*g**2 + sqrt(e)*sin(i) + tan(g)*tan(i) + f**2*tan(a)/e) + (d**3*sin(a) + i**2*j**3*sin(j) + h**2*sqrt(i)/f + (b**4 + sqrt(h))/f)*(sqrt(b)*g**2*i**2*sin(j) + sqrt(e)*sin(a) + f**2*(b**4 + sqrt(h)) + sqrt(i)*tan(i)) + (d**3*sin(i) + j**3*sin(f) + h**4/f + h**2*(c**4 + tan(f))/f)*(sqrt(b)*g**2*sin(f) + sqrt(e)*sin(i) + f**2*h**4 + (c**4 + tan(f))*tan(i)) + (sqrt(b)*g**2*(g**4 + cos(f)) + b**2*e**(9/2) + d**3*tan(i) + f**2*g**2)*(b**2*d**3*e**4 + d**3*h**2/f + j**3*(g**4 + cos(f)) + g**2/f)],
[                 (h**(9/2) + (sqrt(a) + cos(i))*(c**4 + tan(f)) + sin(i)*cos(c) + sin(f)*sin(g)/c)*(c**2*sin(f)/h + h**4*(sin(a) + cos(b)) + (c**4 + tan(f))/c + sin(i)/c) + (c*sin(g) + (sqrt(a) + cos(i))*tan(g) + sin(i)*cos(c) + sqrt(h)*tan(a)/e)*(c**4/h + (sin(a) + cos(b))*tan(a)/e + sin(i)/c + tan(g)/c) + (sqrt(h)*(b**4 + sqrt(h)) + sqrt(i)*(sqrt(a) + cos(i)) + sin(a)*cos(c) + i**2*sin(g)*sin(j)/c)*(c**2*i**2*sin(j)/h + (b**4 + sqrt(h))*(sin(a) + cos(b)) + sqrt(i)/c + sin(a)/c) + (b**2*e**4/c + c**2*(g**4 + cos(f))/h + g**2*(sin(a) + cos(b)) + d**3/c)*(b**2*e**4*cos(c) + d**3*(sqrt(a) + cos(i)) + g**2*sqrt(h) + (g**4 + cos(f))*sin(g)/c),                                                     (c**2*j**3 + d**3*sin(i) + h**2*tan(g)/f + tan(a)/(e*f))*(c**4/h + (sin(a) + cos(b))*tan(a)/e + sin(i)/c + tan(g)/c) + (d**3*sin(a) + i**2*j**3*sin(j) + h**2*sqrt(i)/f + (b**4 + sqrt(h))/f)*(c**2*i**2*sin(j)/h + (b**4 + sqrt(h))*(sin(a) + cos(b)) + sqrt(i)/c + sin(a)/c) + (d**3*sin(i) + j**3*sin(f) + h**4/f + h**2*(c**4 + tan(f))/f)*(c**2*sin(f)/h + h**4*(sin(a) + cos(b)) + (c**4 + tan(f))/c + sin(i)/c) + (b**2*e**4/c + c**2*(g**4 + cos(f))/h + g**2*(sin(a) + cos(b)) + d**3/c)*(b**2*d**3*e**4 + d**3*h**2/f + j**3*(g**4 + cos(f)) + g**2/f),                                                                                                                                                                                                                                                                                                                                       (c**4/h + (sin(a) + cos(b))*tan(a)/e + sin(i)/c + tan(g)/c)**2 + (b**2*e**4/c + c**2*(g**4 + cos(f))/h + g**2*(sin(a) + cos(b)) + d**3/c)**2 + (c**2*sin(f)/h + h**4*(sin(a) + cos(b)) + (c**4 + tan(f))/c + sin(i)/c)**2 + (c**2*i**2*sin(j)/h + (b**4 + sqrt(h))*(sin(a) + cos(b)) + sqrt(i)/c + sin(a)/c)**2,                                                     (c**4/h + (sin(a) + cos(b))*tan(a)/e + sin(i)/c + tan(g)/c)*(sqrt(b)*c**2*g**2 + sqrt(e)*sin(i) + tan(g)*tan(i) + f**2*tan(a)/e) + (sqrt(b)*g**2*(g**4 + cos(f)) + b**2*e**(9/2) + d**3*tan(i) + f**2*g**2)*(b**2*e**4/c + c**2*(g**4 + cos(f))/h + g**2*(sin(a) + cos(b)) + d**3/c) + (sqrt(b)*g**2*sin(f) + sqrt(e)*sin(i) + f**2*h**4 + (c**4 + tan(f))*tan(i))*(c**2*sin(f)/h + h**4*(sin(a) + cos(b)) + (c**4 + tan(f))/c + sin(i)/c) + (sqrt(b)*g**2*i**2*sin(j) + sqrt(e)*sin(a) + f**2*(b**4 + sqrt(h)) + sqrt(i)*tan(i))*(c**2*i**2*sin(j)/h + (b**4 + sqrt(h))*(sin(a) + cos(b)) + sqrt(i)/c + sin(a)/c)],
[(h**(9/2) + (sqrt(a) + cos(i))*(c**4 + tan(f)) + sin(i)*cos(c) + sin(f)*sin(g)/c)*(sqrt(b)*g**2*sin(f) + sqrt(e)*sin(i) + f**2*h**4 + (c**4 + tan(f))*tan(i)) + (c*sin(g) + (sqrt(a) + cos(i))*tan(g) + sin(i)*cos(c) + sqrt(h)*tan(a)/e)*(sqrt(b)*c**2*g**2 + sqrt(e)*sin(i) + tan(g)*tan(i) + f**2*tan(a)/e) + (sqrt(h)*(b**4 + sqrt(h)) + sqrt(i)*(sqrt(a) + cos(i)) + sin(a)*cos(c) + i**2*sin(g)*sin(j)/c)*(sqrt(b)*g**2*i**2*sin(j) + sqrt(e)*sin(a) + f**2*(b**4 + sqrt(h)) + sqrt(i)*tan(i)) + (sqrt(b)*g**2*(g**4 + cos(f)) + b**2*e**(9/2) + d**3*tan(i) + f**2*g**2)*(b**2*e**4*cos(c) + d**3*(sqrt(a) + cos(i)) + g**2*sqrt(h) + (g**4 + cos(f))*sin(g)/c),                                    (c**2*j**3 + d**3*sin(i) + h**2*tan(g)/f + tan(a)/(e*f))*(sqrt(b)*c**2*g**2 + sqrt(e)*sin(i) + tan(g)*tan(i) + f**2*tan(a)/e) + (d**3*sin(a) + i**2*j**3*sin(j) + h**2*sqrt(i)/f + (b**4 + sqrt(h))/f)*(sqrt(b)*g**2*i**2*sin(j) + sqrt(e)*sin(a) + f**2*(b**4 + sqrt(h)) + sqrt(i)*tan(i)) + (d**3*sin(i) + j**3*sin(f) + h**4/f + h**2*(c**4 + tan(f))/f)*(sqrt(b)*g**2*sin(f) + sqrt(e)*sin(i) + f**2*h**4 + (c**4 + tan(f))*tan(i)) + (sqrt(b)*g**2*(g**4 + cos(f)) + b**2*e**(9/2) + d**3*tan(i) + f**2*g**2)*(b**2*d**3*e**4 + d**3*h**2/f + j**3*(g**4 + cos(f)) + g**2/f),                                    (c**4/h + (sin(a) + cos(b))*tan(a)/e + sin(i)/c + tan(g)/c)*(sqrt(b)*c**2*g**2 + sqrt(e)*sin(i) + tan(g)*tan(i) + f**2*tan(a)/e) + (sqrt(b)*g**2*(g**4 + cos(f)) + b**2*e**(9/2) + d**3*tan(i) + f**2*g**2)*(b**2*e**4/c + c**2*(g**4 + cos(f))/h + g**2*(sin(a) + cos(b)) + d**3/c) + (sqrt(b)*g**2*sin(f) + sqrt(e)*sin(i) + f**2*h**4 + (c**4 + tan(f))*tan(i))*(c**2*sin(f)/h + h**4*(sin(a) + cos(b)) + (c**4 + tan(f))/c + sin(i)/c) + (sqrt(b)*g**2*i**2*sin(j) + sqrt(e)*sin(a) + f**2*(b**4 + sqrt(h)) + sqrt(i)*tan(i))*(c**2*i**2*sin(j)/h + (b**4 + sqrt(h))*(sin(a) + cos(b)) + sqrt(i)/c + sin(a)/c),                                                                                                                                                                                                                                                                                                                                       (sqrt(b)*c**2*g**2 + sqrt(e)*sin(i) + tan(g)*tan(i) + f**2*tan(a)/e)**2 + (sqrt(b)*g**2*(g**4 + cos(f)) + b**2*e**(9/2) + d**3*tan(i) + f**2*g**2)**2 + (sqrt(b)*g**2*sin(f) + sqrt(e)*sin(i) + f**2*h**4 + (c**4 + tan(f))*tan(i))**2 + (sqrt(b)*g**2*i**2*sin(j) + sqrt(e)*sin(a) + f**2*(b**4 + sqrt(h)) + sqrt(i)*tan(i))**2]])
&lt;/pre&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing code_cell rendered&quot;&gt;
&lt;div class=&quot;input&quot;&gt;
&lt;div class=&quot;prompt input_prompt&quot;&gt;
In [12]:
&lt;/div&gt;
&lt;div class=&quot;inner_cell&quot;&gt;
    &lt;div class=&quot;input_area&quot;&gt;
&lt;div class=&quot;highlight-ipynb&quot;&gt;&lt;pre class=&quot;ipynb&quot;&gt;&lt;span class=&quot;n&quot;&gt;B&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class=&quot;output_wrapper&quot;&gt;
&lt;div class=&quot;output&quot;&gt;


&lt;div class=&quot;output_area&quot;&gt;&lt;div class=&quot;prompt output_prompt&quot;&gt;
    Out[12]:&lt;/div&gt;


&lt;div class=&quot;output_text output_subarea output_pyout&quot;&gt;
&lt;pre&gt;Matrix([
[                 a**3 + d**4 + g**2],
[a**4 + f**2 + sin(g) + tan(e) + 1/d],
[                         f**2 + 1/g],
[                             sin(d)]])
&lt;/pre&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;
&lt;div class=&quot;prompt input_prompt&quot;&gt;
&lt;/div&gt;
&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;p&gt;Yikes, that's some ugly stuff. Let's see how the various methods fair against that:&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing code_cell rendered&quot;&gt;
&lt;div class=&quot;input&quot;&gt;
&lt;div class=&quot;prompt input_prompt&quot;&gt;
In [13]:
&lt;/div&gt;
&lt;div class=&quot;inner_cell&quot;&gt;
    &lt;div class=&quot;input_area&quot;&gt;
&lt;div class=&quot;highlight-ipynb&quot;&gt;&lt;pre class=&quot;ipynb&quot;&gt;&lt;span class=&quot;c&quot;&gt;# Run the benchmarks&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Time for LUsolve: &quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;timestmt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'A.LUsolve(B)'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;'from __main__ import A, B'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Time for LDLsolve: &quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;timestmt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'A.LDLsolve(B)'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;'from __main__ import A, B'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Time for cholesky_solve: &quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;timestmt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'A.cholesky_solve(B)'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;'from __main__ import A, B'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Time for _mat_inv_mul: &quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;timestmt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'_mat_inv_mul(A, B)'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;'from __main__ import A, B, _mat_inv_mul'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class=&quot;output_wrapper&quot;&gt;
&lt;div class=&quot;output&quot;&gt;


&lt;div class=&quot;output_area&quot;&gt;&lt;div class=&quot;prompt&quot;&gt;&lt;/div&gt;
&lt;div class=&quot;output_subarea output_stream output_stdout output_text&quot;&gt;
&lt;pre&gt;Time for LUsolve:  0.0034651060013857204
Time for LDLsolve:  0.009068403000128455
Time for cholesky_solve:  0.006806592999055283
Time for _mat_inv_mul:  144.967967898001

&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;
&lt;div class=&quot;prompt input_prompt&quot;&gt;
&lt;/div&gt;
&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;p&gt;From this it can be seen that &lt;code&gt;_mat_inv_mul&lt;/code&gt; is &lt;em&gt;far&lt;/em&gt; slower than the other three methods, even for extremely complex matrices. There doesn't seem to be any benefit to the intermediate &lt;code&gt;subs&lt;/code&gt; step.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;
&lt;div class=&quot;prompt input_prompt&quot;&gt;
&lt;/div&gt;
&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;h1 id=&quot;benchmark-expression-size&quot;&gt;Benchmark: Expression Size&lt;/h1&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;
&lt;div class=&quot;prompt input_prompt&quot;&gt;
&lt;/div&gt;
&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;p&gt;This isn't a time benchmark. Rather, it's a measurment of the resulting expression's readability. If &lt;code&gt;LUsolve&lt;/code&gt; is faster, but results in a less compact expression than &lt;code&gt;LDLsolve&lt;/code&gt;, then it may be more beneficial to go with the latter. To test this we'll measure the number of operations using the &lt;code&gt;count_ops&lt;/code&gt; method. This is a rough metric of the compactness of the solution.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing code_cell rendered&quot;&gt;
&lt;div class=&quot;input&quot;&gt;
&lt;div class=&quot;prompt input_prompt&quot;&gt;
In [14]:
&lt;/div&gt;
&lt;div class=&quot;inner_cell&quot;&gt;
    &lt;div class=&quot;input_area&quot;&gt;
&lt;div class=&quot;highlight-ipynb&quot;&gt;&lt;pre class=&quot;ipynb&quot;&gt;&lt;span class=&quot;kn&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;sympy&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;count_ops&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# Run the benchmark for varying values of n, with max_terms = 2&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;ns&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;range&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;lu_nops&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;ldl_nops&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;chol_nops&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;matinv_nops&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;n&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ns&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;A&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;symrandmat&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;B&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;randmat&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;c&quot;&gt;# Solve the system&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;sol_LU&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;A&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;LUsolve&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;B&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;sol_LDL&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;A&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;LDLsolve&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;B&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;sol_chol&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;A&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cholesky_solve&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;B&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;sol_matinv&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;_mat_inv_mul&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;A&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;B&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;c&quot;&gt;# Count the number of ops&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;lu_nops&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;append&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;count_ops&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sol_LU&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;ldl_nops&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;append&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;count_ops&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sol_LDL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;chol_nops&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;append&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;count_ops&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sol_chol&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;matinv_nops&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;append&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;count_ops&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sol_matinv&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing code_cell rendered&quot;&gt;
&lt;div class=&quot;input&quot;&gt;
&lt;div class=&quot;prompt input_prompt&quot;&gt;
In [15]:
&lt;/div&gt;
&lt;div class=&quot;inner_cell&quot;&gt;
    &lt;div class=&quot;input_area&quot;&gt;
&lt;div class=&quot;highlight-ipynb&quot;&gt;&lt;pre class=&quot;ipynb&quot;&gt;&lt;span class=&quot;c&quot;&gt;# Plot the results&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;plt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;figure&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;plt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;plot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ns&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;lu_nops&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;label&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'A.LUsolve(B)'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;plt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;plot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ns&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ldl_nops&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;label&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'A.LDLsolve(B)'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;plt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;plot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ns&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;chol_nops&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;label&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'A.cholesky_solve(B)'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;plt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;plot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ns&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;matinv_nops&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;label&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'mat_inv_mul(A, B)'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;plt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;xlabel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'Matrix Dimensions'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;plt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ylabel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'Number of Operations'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;plt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;title&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'Expression Size for Solution to A*x = b'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;plt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;legend&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;loc&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;plt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;figure&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;plt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;plot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ns&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;lu_nops&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;label&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'A.LUsolve(B)'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;plt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;plot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ns&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ldl_nops&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;label&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'A.LDLsolve(B)'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;plt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;plot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ns&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;chol_nops&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;label&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'A.cholesky_solve(B)'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;plt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;xlabel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'Matrix Dimensions'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;plt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ylabel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'Number of Operations'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;plt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;title&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'Expression Size for Solution to A*x = b'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;plt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;legend&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;loc&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;plt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;show&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class=&quot;output_wrapper&quot;&gt;
&lt;div class=&quot;output&quot;&gt;


&lt;div class=&quot;output_area&quot;&gt;&lt;div class=&quot;prompt&quot;&gt;&lt;/div&gt;


&lt;div class=&quot;output_png output_subarea &quot;&gt;
&lt;img /&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;div class=&quot;output_area&quot;&gt;&lt;div class=&quot;prompt&quot;&gt;&lt;/div&gt;


&lt;div class=&quot;output_png output_subarea &quot;&gt;
&lt;img /&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;
&lt;div class=&quot;prompt input_prompt&quot;&gt;
&lt;/div&gt;
&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;p&gt;Observing the above plots, once again &lt;code&gt;_mat_inv_mul&lt;/code&gt; comes out as the worst (by far). The remaining three barely differ, but &lt;code&gt;LUsolve&lt;/code&gt; results in the most compact expression.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;
&lt;div class=&quot;prompt input_prompt&quot;&gt;
&lt;/div&gt;
&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;h1 id=&quot;discussion-of-results&quot;&gt;Discussion of Results&lt;/h1&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;
&lt;div class=&quot;prompt input_prompt&quot;&gt;
&lt;/div&gt;
&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;p&gt;Overall, &lt;code&gt;_mat_inv_mul&lt;/code&gt; comes out the worst for every benchmark, and &lt;code&gt;LUsolve&lt;/code&gt; comes out the best. Unless I did something wrong with my benchmarks &lt;code&gt;LUsolve&lt;/code&gt; should replace every call to &lt;code&gt;_mat_inv_mul&lt;/code&gt; in &lt;code&gt;mechanics&lt;/code&gt;. It results in a more compact form, and has several order of magnitude faster running speed.&lt;/p&gt;
&lt;p&gt;This surprised me. I would have thought that a more complicated expression would take longer to solve, but as seen in the second benchmark matrix complexity had no effect on running speed for the three solution algorithms (although it did affect the substitution speed for &lt;code&gt;_mat_inv_mul&lt;/code&gt;). I suppose that's why you're always told to profile &lt;em&gt;before&lt;/em&gt; you optimize. Often your intuition is wrong.&lt;/p&gt;
&lt;p&gt;Something else that surprised me was that &lt;code&gt;LDLsolve&lt;/code&gt; and &lt;code&gt;cholesky_solve&lt;/code&gt; had a slower running time than &lt;code&gt;LUsolve&lt;/code&gt;. For numerical symmetric matrices, this shouldn't be the case. I wasn't able to find anything about symbolic calculation of these decompositions, but I assume it should be about the same. Either way, the more general LU decomposition seems to be the fastest.&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;&lt;em&gt;Did I do something wrong? Disagree with these benchmarks? Let me know in the comments below!&lt;/em&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;&lt;/p&gt;</description>
	<pubDate>Fri, 20 Jun 2014 19:00:00 +0000</pubDate>
</item>
<item>
	<title>Fabian Pedregosa: Surrogate Loss Functions in Machine Learning</title>
	<guid isPermaLink="false">tag:fa.bianp.net,2014-06-20:blog/2014/surrogate-loss-functions-in-machine-learning/</guid>
	<link>http://fa.bianp.net/blog/2014/surrogate-loss-functions-in-machine-learning/</link>
	<description>&lt;p&gt;&lt;span class=&quot;bold&quot;&gt;TL; DR&lt;/span&gt; These are some notes on calibration of surrogate loss functions in the context of machine learning. But mostly it is an excuse to post some images I made.&lt;/p&gt;
&lt;p&gt;In the binary-class classification setting we are given $n$ training samples $\{(X_1, Y_1), \ldots, (X_n, Y_n)\}$, where $X_i$ belongs to some sample space $\mathcal{X}$, usually $\mathbb{R}^p$ but for the purpose of this post we can keep i abstract, and $y_i \in \{-1, 1\}$ is an integer representing the class label. &lt;/p&gt;
&lt;p&gt;We are also given a loss function $\ell: \{-1, 1\} \times \{-1, 1\} \to \mathbb{R}$ that measures the error of a given prediction. The value of the loss function $\ell$ at an arbitrary point $(y, \hat{y})$ is interpreted as the cost incurred by predicting $\hat{y}$ when the true label is $y$. In classification this function is often the zero-one loss, that is, $\ell(y, \hat{y})$ is zero when $y = \hat{y}$  and one otherwise.&lt;/p&gt;
&lt;p&gt;The goal is to find a function $h: \mathcal{X} \to [k]$, the classifier, with the smallest expected loss on a new sample. In other words, we seek to find a function $h$ that minimizes the expected $\ell$-risk, given by 
$$
\mathcal{R}_{\ell}(h) = \mathbb{E}_{XY}[\ell(Y, h(X))]
$$&lt;/p&gt;
&lt;p&gt;In theory, we could directly minimize the $\ell$-risk and we would have the optimal classifier, also known as &lt;em&gt;Bayes predictor&lt;/em&gt;. However, there are several problems associated with this approach. One is that the probability distribution of $XY$ is unknown, thus computing the exact expected value is not feasible. It must be approximated by the empirical risk. Another issue is that this quantity is difficult to optimize because the function $\ell$ is discontinuous. Take for example a problem in which $\mathcal{X} = \mathbb{R}^2, k=2$, and we seek to find the linear function $f(X) = \text{sign}(X w), w \in \mathbb{R}^2$  and that minimizes the $\ell$-risk. As a function of the parameter $w$ this function looks something like&lt;/p&gt;
&lt;div style=&quot;text-align: center;&quot;&gt;
&lt;img width=&quot;350px&quot; alt=&quot;loss as function of w&quot; style=&quot;margin-top: 0px;&quot; src=&quot;http://fa.bianp.net/blog/images/2014/loss_01.png&quot; /&gt;
&lt;/div&gt;

&lt;p&gt;This function is discontinuous with large, flat regions and is thus extremely hard to optimize using gradient-based methods. For this reason it is usual to consider a proxy to the loss called a &lt;em&gt;surrogate loss function&lt;/em&gt;. For computational reasons this is usually convex function $\Psi: \mathbb{R}  \to \mathbb{R}_+$. An example of such surrogate loss functions is the &lt;em&gt;hinge loss&lt;/em&gt;, $\Psi(t) = \max(1-t, 0)$, which is the loss used by Support Vector Machines (SVMs). Another example is the logistic loss, $\Psi(t) = 1/(1 + \exp(-t))$, used by the logistic regression model. If we consider the logistic loss, minimizing the $\Psi$-risk, given by $\mathbb{E}_{XY}[\Psi(Y, f(X))]$, of the function $f(X) = X w$ becomes a much more more tractable optimization problem:&lt;/p&gt;
&lt;div style=&quot;text-align: center;&quot;&gt;
&lt;img src=&quot;http://fa.bianp.net/blog/images/2014/loss_log.png&quot; style=&quot;margin-top: 0px;&quot; width=&quot;350px&quot; /&gt;
&lt;/div&gt;

&lt;p&gt;In short, we have replaced the $\ell$-risk which is computationally difficult to optimize with the $\Psi$-risk which has more advantageous properties. A natural questions to ask is how much have we lost by this change. The property of whether minimizing the $\Psi$-risk leads to a function that also minimizes the $\ell$-risk is often referred to as &lt;em&gt;consistency&lt;/em&gt; or &lt;em&gt;calibration&lt;/em&gt;. For a more formal definition see [&lt;sup id=&quot;fnref:1&quot;&gt;&lt;a href=&quot;http://fa.bianp.net/blog/feed/#fn:1&quot; class=&quot;footnote-ref&quot; rel=&quot;footnote&quot;&gt;1&lt;/a&gt;&lt;/sup&gt;] and [&lt;sup id=&quot;fnref:2&quot;&gt;&lt;a href=&quot;http://fa.bianp.net/blog/feed/#fn:2&quot; class=&quot;footnote-ref&quot; rel=&quot;footnote&quot;&gt;2&lt;/a&gt;&lt;/sup&gt;]. This property will depend on the surrogate function $\Psi$: for some functions $\Psi$ it will be verified the consistency property and for some not. One of the most useful characterizations was given in [&lt;sup id=&quot;fnref:1&quot;&gt;&lt;a href=&quot;http://fa.bianp.net/blog/feed/#fn:1&quot; class=&quot;footnote-ref&quot; rel=&quot;footnote&quot;&gt;1&lt;/a&gt;&lt;/sup&gt;] and states that if $\Psi$ is convex then it is consistent if and only if it is differentiable at zero and $\Psi'(0) &amp;lt; 0$. This includes most of the commonly used surrogate loss functions, including hinge, logistic regression and Huber loss functions.&lt;/p&gt;
&lt;div style=&quot;text-align: center;&quot;&gt;
&lt;img src=&quot;http://fa.bianp.net/blog/images/2014/loss_functions.png&quot; style=&quot;margin-top: 0px;&quot; width=&quot;550px&quot; /&gt;
&lt;/div&gt;

&lt;div class=&quot;footnote&quot;&gt;
&lt;hr /&gt;
&lt;ol&gt;
&lt;li id=&quot;fn:1&quot;&gt;
&lt;p&gt;P. L. Bartlett, M. I. Jordan, and J. D. McAuliffe, “Convexity , Classification , and Risk Bounds,” J. Am. Stat. Assoc., pp. 1–36, 2003. &lt;a href=&quot;http://fa.bianp.net/blog/feed/#fnref:1&quot; rev=&quot;footnote&quot; class=&quot;footnote-backref&quot; title=&quot;Jump back to footnote 1 in the text&quot;&gt;↩&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&quot;fn:2&quot;&gt;
&lt;p&gt;A. Tewari and P. L. Bartlett, “On the Consistency of Multiclass Classification Methods,” J. Mach. Learn. Res., vol. 8, pp. 1007–1025, 2007. &lt;a href=&quot;http://fa.bianp.net/blog/feed/#fnref:2&quot; rev=&quot;footnote&quot; class=&quot;footnote-backref&quot; title=&quot;Jump back to footnote 2 in the text&quot;&gt;↩&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;</description>
	<pubDate>Thu, 19 Jun 2014 22:00:00 +0000</pubDate>
</item>
<item>
	<title>Avichal Dayal</title>
	<guid isPermaLink="false">tag:blogger.com,1999:blog-283806077182880539.post-821534238345280726</guid>
	<link>http://gsocblog.blogspot.com/2014/06/in-this-week-i-worked-on-formal-power.html</link>
	<description>&lt;div style=&quot;text-align: left;&quot; dir=&quot;ltr&quot;&gt;In this week I worked on Formal Power Series and getting my two PRs merged.&lt;br /&gt;&lt;br /&gt;While getting my PRs related to asymptotic expansion merged, I learned about how important documentation is and the little details that matter. I made some very silly mistakes causing delay in getting the PRs merged.&lt;br /&gt;&lt;br /&gt;Formal Power Series:&lt;br /&gt;I made some good progress regarding FPS this week. As I said in the earlier post, I decided to go with lazy recursion to implement infinite power series.&lt;br /&gt;In this a series is represented as a tuple of head and tail where head is the first term of the series while tail is rest of the infinite series.&lt;br /&gt;Algorithms to do addition, subtraction, multiplication are very simple if we use recursion.&lt;br /&gt;E.g.:-&lt;br /&gt;series1 = (head1, tail1)&lt;br /&gt;series2 = (head2, tail2)&lt;br /&gt;Then,&lt;br /&gt;- series1 + series2 = (head1+head2, tail1+tail2)&lt;br /&gt;- series1 * series2 = (head1*head2, head1*tail2 + head2*tail1 + tail1*tail2)&lt;br /&gt;&lt;br /&gt;Similarly other operations like division, inversion, composition can be written.&lt;br /&gt;&lt;br /&gt;Along with this, I also finished implementing simpleDE, DEtoRE and somewhat solveRE methods. These methods are used to find the generator for a given function in x.&lt;br /&gt;- simpleDE() converts function into a simple differential equation. This involved finding the number of rationally independent terms among a set of expressions. I coded a very inefficient solution with repeatedly dividing each term by other and checking if there quotient is a rational function. This is O(n**2) approach. There might be a better approach.&lt;br /&gt;- DEtoRE() converts differential equation to a recurrence equation. This is a straightforward algorithm with simple substitutions.&lt;br /&gt;&lt;br /&gt;Next week:&lt;br /&gt;Since the operations on infinite series are a recursive process, I guess there is a problem of memory management with my code. Operations like division, multiplication are highly recursive creating Stream class numerous times. Upon giving high value of &quot;n&quot; while printing terms, it gives a &quot;maximum recursion depth&quot; error.&lt;br /&gt;I will work on this and add more operations to Stream class.&lt;/div&gt;</description>
	<pubDate>Thu, 19 Jun 2014 16:40:24 +0000</pubDate>
	<author>noreply@blogger.com (Avichal Dayal)</author>
</item>
<item>
	<title>Harsh Gupta: week 4</title>
	<guid isPermaLink="true">https://hargup.github.io/posts/week-4.html</guid>
	<link>https://hargup.github.io/posts/week-4.html</link>
	<description>&lt;h3&gt;Intersections of Infinitely indexed sets&lt;/h3&gt;
&lt;p&gt;This week I implemented a method to do intersection of imagesets using the
solutions of Diophantine equations at &lt;a href=&quot;https://github.com/sympy/sympy/pull/7587&quot;&gt;PR&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Say you have
to find the intersection of sets &lt;code&gt;2*n| n in Integers&lt;/code&gt; and &lt;code&gt;3*m| m in Integers&lt;/code&gt;.
The intersection of these sets is the set of the common values in the two sets,
which in this case is equivalent to the values of &lt;code&gt;n&lt;/code&gt; for which the equation &lt;code&gt;2*n - 3*m&lt;/code&gt; has
some integral solution in &lt;code&gt;m&lt;/code&gt;. Or the values of &lt;code&gt;m&lt;/code&gt; for which the &lt;code&gt;2*n - 3*m&lt;/code&gt;
has some integral solution in &lt;code&gt;n&lt;/code&gt;. Diophantine equations are equations for
which only integral solutions are searched for.
The Diophantine module was written by
&lt;a href=&quot;https://github.com/thilinarmtb&quot;&gt;Thilina&lt;/a&gt; as his GSoC project last year.
It gives the parametric solution for such equation.&lt;/p&gt;
&lt;pre class=&quot;code literal-block&quot;&gt;&lt;span class=&quot;n&quot;&gt;In&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;17&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;diophantine&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;n&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;m&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;Out&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;17&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;t&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;t&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)}&lt;/span&gt;
&lt;/pre&gt;


&lt;p&gt;The Solution is sorted according to alphabetic order of the variables involved.
So the value of LHS (&lt;code&gt;2*n&lt;/code&gt;) for which the equation is &lt;code&gt;2*(-3*t)&lt;/code&gt; that is &lt;code&gt;-6*t&lt;/code&gt;
and it is the intersection of the sets described above &lt;code&gt;-6*t| t in Integers&lt;/code&gt;.
Since &lt;code&gt;-6*t| t in Integers&lt;/code&gt; is same as &lt;code&gt;6*t| t in Integers&lt;/code&gt; I also wrote some
simplification rules for the imagesets with Integers as baseset.&lt;/p&gt;
&lt;h3&gt;Sets for Invert Function&lt;/h3&gt;
&lt;p&gt;The sets module turned out to be better than I expected. I had a perception
that substitutions doesn't work properly with sets and I have even opened an
&lt;a href=&quot;https://github.com/sympy/sympy/issues/7483&quot;&gt;issue&lt;/a&gt; for that but it turned out
I hadn't looked closely enough. It worked well for the free variables and it
didn't worked for the things it shouldn't work i.e., the bound variables in the
imagesets.&lt;/p&gt;
&lt;p&gt;Using sets simplified the code. All the list comprehensions like this
&lt;code&gt;[i.subs(symbol, symbol/g) for i in _invert(h, symbol)]&lt;/code&gt; were converted to
simple substitutions for sets and other sets operations.  &lt;code&gt;_invert(h,
symbol).subs(symbol, symbol/g)&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Just by changing the output of invert to sets, then by adding the inverse of
trigonometric function and writing the code to rewrite then as tan I was able
to return all the solutions of the equations like &lt;code&gt;cos(x) + sin(x) == 0&lt;/code&gt; it
turned to out to easier than I thought. Using sets as output makes thinking
about the mathematics of the solvers much more easier and the code comes
out to be pretty natural. Now when we can see the results I can surely say
there can be no better output for solvers than sets.&lt;/p&gt;
&lt;p&gt;This week I'll study LambertW function and then code additional techniques to
solve real equations. I'll also try to figure out techniques to perform Union
on infinitely indexed sets.&lt;/p&gt;</description>
	<pubDate>Wed, 18 Jun 2014 05:59:01 +0000</pubDate>
</item>
<item>
	<title>Soumya Dipta Biswas: GSoC 2014: Week 4</title>
	<guid isPermaLink="false">http://blog.s-d-b.com/?p=67</guid>
	<link>http://blog.s-d-b.com/gsoc-2014-week-4/</link>
	<description>&lt;p&gt;Hello Everyone,&lt;/p&gt;
&lt;p&gt;The majority of work this week was finishing up my previous work and creating the architecture for the First Order Logic module. Consequently, this post is concerned with First Order Logic (FoL) and is intended mostly for those who are not familiar with the concepts. If you find yourself comfortable with writing formulas in FoL then you can safely skip this post.&lt;/p&gt;
&lt;p&gt;Before we go on to the discussion about First Order Logic, one very interesting topic that came up this week was the idea of an Atom. What is an atom for propositional logic? The classic answer amounts to anything that cannot be broken down further to yield simpler terms. Analogously, let us define a &lt;code&gt;literal&lt;/code&gt; to mean any atom or its negation. So, &lt;code&gt;A&lt;/code&gt; is a literal (and so is &lt;code&gt;~A&lt;/code&gt;). How about &lt;code&gt;A &amp;gt; B&lt;/code&gt;. Without bordering on any ideas of higher order logic, let us tweak the definition of atom to mean anything that cannot be broken down &lt;em&gt;using propositional logic&lt;/em&gt; to yield simpler terms. So, how does this definition change things? It means we can treat any expression that propositional logic can’t break down as a black box with the assumption that it will yield a boolean value once evaluated. Analogously, a literal is now any expression which cannot be simplified (in propositional logic) or its negation. This definition gives a lot more freedom and power to the idea of formulas. Ofcourse, one needs to keep in mind that it is compulsory for these &lt;em&gt;literals&lt;/em&gt; to yield a boolean once evaluated (typically before propositional formula evaluation methods are called on the formula).&lt;/p&gt;
&lt;p&gt;Ok, with that, we finish the first part our Propositional Logic post series. The future posts will be associated with First Order Logic before coming back to SAT (in propositional formula). For the remainder of the series the words First Order Logic and Predicate Logic will be used interchangeably (while there is some &lt;a href=&quot;http://http://en.wikipedia.org/wiki/Predicate_logic&quot; title=&quot;Predicate Logic&quot;&gt;difference&lt;/a&gt; between the two, we will ignore them. Finally beginning the actual discussion about FoL, let us start with some definitions.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Constant:&lt;/strong&gt; Any object of the universe whose value remains the same throughout the expression. e.g. john, 1, computer, socrates&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Variable:&lt;/strong&gt; An object which can take up any value from the domain. e.g. X, Y&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Function:&lt;/strong&gt; A mapping of n-ary terms (see below) to a term. e.g. F(X, G(a, Y)), teacher(teacher(aristotle))&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Term:&lt;/strong&gt; Any Constant, Variable or Function is called a Term.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Predicate:&lt;/strong&gt; A mapping of n-ary terms to a boolean value. e.g. IsTeacher(Socrates, plato)&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Quantifier:&lt;/strong&gt; Quantifiers assert a particular property with respect to a bound variable. Q(X, IsTeacher(X, alexander)) Here Q is some quantifier (see below) and X is the bound variable.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ForAll (∀)&lt;/strong&gt;: Also known as Universal Quantifier, this asserts that for each value of the bound variable the expression holds True&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Exists (∃)&lt;/strong&gt;: Also known as Existential Quantifier, this asserts that for atleast one of the values of the bound variable the expression holds True&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The above description is far from complete. Below are some more examples. For these examples assume that the program is intelligent enough to know the answer.&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;&lt;pre class=&quot;crayon-plain-tag&quot;&gt;# All constants are in lowercase
# All variables are in uppercase
# All functions starts with a lowercase but subsequent words start with an uppercase
# All predicates follow camel casing

# teacher(person) is a function which maps a person to his teacher
&amp;gt;&amp;gt;&amp;gt; teacher(alexander)
aristotle
&amp;gt;&amp;gt;&amp;gt; teacher(teacher(aristotle))
'Socrates'

# f(X) = 2X + 3y + 1
&amp;gt;&amp;gt;&amp;gt; f(X, Y)
Add(Mul(2, X), Mul(3, Y), 1)

# IsTeacher(a, b) is a predicate which returns if a is the teacher of b
&amp;gt;&amp;gt;&amp;gt; IsTeacher(alexander, plato)
False

# Assume that the following properties hold for the relationship teacher
# If A is the teacher of B, and B is the teacher of C, then A is the teacher of C (Transitivity)
# A is always the teacher of A (Identity)
&amp;gt;&amp;gt;&amp;gt; domain = [socrates, plato, aristotle, alexander]
&amp;gt;&amp;gt;&amp;gt; ForAll(X, IsTeacher(X, alexander))
True
&amp;gt;&amp;gt;&amp;gt; Exists(X, IsWarrior(X))
True
&amp;gt;&amp;gt;&amp;gt; ForAll(X, IsWarrior(X))
False
&amp;gt;&amp;gt;&amp;gt; Exists(X, InventedCalculus(X))
False

# f(x, y) = x + 2y
# g(x, y) = 2x + y
&amp;gt;&amp;gt;&amp;gt; ForAll(X, ForAll(Y, Greater(f(X, Y), g(X, Y)))
False
&amp;gt;&amp;gt;&amp;gt; Exists(X, Exists(Y, Greater(f(X, Y), g(X, Y)))
True&lt;/pre&gt;&lt;p&gt; &lt;/p&gt;
&lt;p&gt;I hope the above examples make the definitions clearer. However SymPy is a symbolic library (rather than a numeric one). The implication of the same is that we are much less concerned about the value of the expression than the expression itself. For example, we will be predominantly dealing with functions, variables and predicates without being bothered by their (real life) values. What follows next are examples of conversion of natural language sentences to First Order Logic and their representation in SymPy. One would notice that we have only dealt with the new FoL concepts in the examples above and completely ignored the traditional propositional operators. Using the idea of Atom described at the beginning of this post, if we think of every Predicate (and Quantifier) as an Atom, then we can use every idea of propositional logic here. The examples below describe the complete idea.&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;&lt;pre class=&quot;crayon-plain-tag&quot;&gt;# All dolphins all mammals
&amp;gt;&amp;gt;&amp;gt; X = symbols('X')
&amp;gt;&amp;gt;&amp;gt; Dolphin = Predicate('Dolphin')
&amp;gt;&amp;gt;&amp;gt; Mammal = Predicate('Mammal')
&amp;gt;&amp;gt;&amp;gt; ForAll(X, Dolphin(X) &amp;gt;&amp;gt; Mammal(X))
ForAll((X), Implies(Dolphin(X), Mammal(X)))


&amp;gt;&amp;gt;&amp;gt; X, T = symbols('X T')
&amp;gt;&amp;gt;&amp;gt; Person = Predicate('Person')
&amp;gt;&amp;gt;&amp;gt; Time = Predicate('Time')
&amp;gt;&amp;gt;&amp;gt; CanFool = Predicate('CanFool')

# You can fool some of the people all of the time
&amp;gt;&amp;gt;&amp;gt; Exists(X, ForAll(T, (Person(X) &amp;amp; Time(T)) &amp;gt;&amp;gt; CanFool(X, T)))
Exists((X), ForAll(T, Implies(And(Person(X), Time(T)), CanFool(X, T))))

# You can fool all of the people some of the time
&amp;gt;&amp;gt;&amp;gt; ForAll(X, Exists(T, (Person(X) &amp;amp; Time(T)) &amp;gt;&amp;gt; CanFool(X, T)))
ForAll((X), Exists(T, Implies(And(Person(X), Time(T)), CanFool(X, T))))

# You cannot fool all of the people all of the time
&amp;gt;&amp;gt;&amp;gt; ~ForAll(X, ForAll(T, (Person(X) &amp;amp; Time(T)) &amp;gt;&amp;gt; CanFool(X, T)))
Not(ForAll((X,T), Implies(And(Person(X), Time(T)), CanFool(X, T))))&lt;/pre&gt;&lt;p&gt; &lt;/p&gt;
&lt;p&gt;I hope this should provide you with some basic idea about First Order Logic. I will be updating this post with ideas related to Interpretation/Model. Stay tuned.&lt;/p&gt;
&lt;p&gt;Aloha!!!&lt;/p&gt;</description>
	<pubDate>Tue, 17 Jun 2014 20:54:50 +0000</pubDate>
</item>
<item>
	<title>Akshay Narasimha: Gsoc Week-4</title>
	<guid isPermaLink="false">tag:blogger.com,1999:blog-54146973659574488.post-857251037734880412</guid>
	<link>http://geekpy.blogspot.com/2014/06/gsoc-week-4.html</link>
	<description>&lt;div style=&quot;text-align: left;&quot; dir=&quot;ltr&quot;&gt;Week 4 of Gsoc has come to an end this week and I have decided the class structure of Plane which I am going to implement in the following week.&lt;br /&gt;&lt;a href=&quot;https://github.com/akshayah3/sympy/blob/Plane/sympy/geometry/plane.py&quot;&gt;Here&lt;/a&gt; is the link to the Plane class I have implemented so far.&lt;br /&gt;&lt;br /&gt;A plane can be represented with the help of 3 points or with a point and a normal vector to the desired plane. Regarding which implementation to follow , I had a long discussion with Stefan and decided to go with the latter as 3 points will be redundant in the algorithms I am planning to implement.&lt;br /&gt;&lt;br /&gt;Implementation:&lt;br /&gt;&lt;span class=&quot;sd&quot;&gt;&amp;gt;&amp;gt;&amp;gt; a = Plane(Point3D(1, 1, 1), Point3D(2, 3, 4), Point3D(2, 2, 2)&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;sd&quot;&gt;&amp;gt;&amp;gt;&amp;gt;a &lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;sd&quot;&gt;Plane(Point3D(1,  1, 1), [-1, 2, -1])&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;sd&quot;&gt;&amp;gt;&amp;gt;&amp;gt; b =Plane(Point3D(1, 1, 1), normal_vector=[1, 3, 5])&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;sd&quot;&gt;&amp;gt;&amp;gt;&amp;gt; b &lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;sd&quot;&gt;Plane(Point3D(1, 1, 1), [1, 3, 5])&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;sd&quot;&gt;&amp;gt;&amp;gt;&amp;gt; b.equation()&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;sd&quot;&gt; x + 3*y + 5*z - 9&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;sd&quot;&gt;&lt;br /&gt;&lt;/span&gt;I plan to continue the work on the Plane class this week an will add more methods to it. &lt;br /&gt;&lt;br /&gt;Until then cheers!&lt;/div&gt;</description>
	<pubDate>Tue, 17 Jun 2014 13:47:57 +0000</pubDate>
	<author>noreply@blogger.com (Akshay Narasimha)</author>
</item>
<item>
	<title>Tarun Gaba: GSoC 14: Fourth Week!</title>
	<guid isPermaLink="true">http://tarzzz.github.io/gsoc14/fourth-week.html</guid>
	<link>http://tarzzz.github.io/gsoc14/fourth-week.html</link>
	<description>{% include JB/setup %}


[ &amp;lt;-Back to posts ](/gsoc14)

Fourth week of GSoC'14 has ended. This week has been no less than an adventure for me. 
A lot of stuff happened in this week, which I will try to elaborate in this post.
Meanwhile, something to be proud about:

&lt;img src=&quot;http://tarzzz.github.io/fourth-week.png&quot; alt=&quot;Screenshot&quot; width=&quot;800&quot; height=&quot;500&quot; /&gt;



###Accomplishments:

  - **PyDy Visualizer UI**: I have been working on a refined UI for the visualizer. The critical components
    of the UI are nearly complete, and are working inside the IPython notebook. It is a great accomplishment, as
    I was initially skeptical about binding buttons and events _inside_ the notebook's output cell, all thanks to 
    the new features in IPython2.0. Also apart from the UI, the THREE animations are also working inside the 
    output cell. 

  
###Objectives:
  
For the upcoming week, I am supposed to make the UI elements as well as backend functionality
for changing the visualization objects via GUI itself. The objects changed should be passed
to python side using IPython notebook's Javascript API. 

This implementation will mean a fully functional visualizer in place, which can be plugged 
into the PyDy package for usage.


###Issues:

There are two main issues which need to be addressed right now:

  - The animations are buggy, and are not behaving the way they are expected to behave.
    Probably there is some problem with the object rendering code.

  - The Javascript Libraries(Prototype.js and jQuery) are conflicting with each other, 
    and with those included in native IPython notebook. This is a major issue which needs
    to be addressed, as it leads to unexpected behavior when the visualizations are run 
    inside the notebook, leading to notebook freeze.



Just a week left before the midterm evaluations start, and I have to get a lot before 
the deliverables are met. I really hope that the pending issues are addressed before 
the evaluations, so that I can merge a stable visualizer with the PyDy repository.






[ &amp;lt;-Back to posts ](/gsoc14)</description>
	<pubDate>Tue, 17 Jun 2014 10:00:42 +0000</pubDate>
</item>
<item>
	<title>Sudhanshu Mishra: GSoC'14 progress, week 4: finished medium, working on Fermat's principle and Snell's law</title>
	<guid isPermaLink="false">tag:blogger.com,1999:blog-8847459392628952171.post-2737301790391464158</guid>
	<link>http://blog.sudhanshumishra.in/2014/06/gsoc14-progress-week-4-finished-medium.html</link>
	<description>&lt;div style=&quot;text-align: left;&quot; dir=&quot;ltr&quot;&gt;&lt;div style=&quot;color: #444444; font-family: Arvo, 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 13px; line-height: 18px; margin-bottom: 9px;&quot;&gt;It was a great week! My last to last PR, on enhancing &lt;code style=&quot;background-color: #f7f7f9; border-bottom-left-radius: 3px; border-bottom-right-radius: 3px; border-top-left-radius: 3px; border-top-right-radius: 3px; border: 1px solid rgb(225, 225, 232); color: #dd1144; font-family: Consolas, 'Liberation Mono', Courier, monospace !important; font-size: 12px; padding: 3px 4px;&quot;&gt;TWave&lt;/code&gt;, got merged! I have also finished&lt;code style=&quot;background-color: #f7f7f9; border-bottom-left-radius: 3px; border-bottom-right-radius: 3px; border-top-left-radius: 3px; border-top-right-radius: 3px; border: 1px solid rgb(225, 225, 232); color: #dd1144; font-family: Consolas, 'Liberation Mono', Courier, monospace !important; font-size: 12px; padding: 3px 4px;&quot;&gt;Medium&lt;/code&gt; and waiting for Sean's comments on it. Here's the link to that PR:&lt;/div&gt;&lt;div style=&quot;color: #444444; font-family: Arvo, 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 13px; line-height: 18px; margin-bottom: 9px;&quot;&gt;&lt;a style=&quot;color: blue;&quot; href=&quot;https://github.com/sympy/sympy/pull/7580&quot;&gt;https://github.com/sympy/sympy/pull/7580&lt;/a&gt;&lt;/div&gt;&lt;div style=&quot;color: #444444; font-family: Arvo, 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 13px; line-height: 18px; margin-bottom: 9px;&quot;&gt;I still have a &lt;em style=&quot;&quot;&gt;todo&lt;/em&gt; in the tests:&lt;/div&gt;&lt;pre style=&quot;&quot;&gt;&lt;code style=&quot;background-color: transparent; border-bottom-left-radius: 3px; border-bottom-right-radius: 3px; border-top-left-radius: 3px; border-top-right-radius: 3px; border: 0px; color: inherit; font-family: Consolas, 'Liberation Mono', Courier, monospace !important; padding: 0px;&quot;&gt;m5 = Medium(&lt;span style=&quot;color: #dd1144;&quot; class=&quot;hljs-string&quot;&gt;'m5'&lt;/span&gt;, permittivity=&lt;span style=&quot;color: #009999;&quot; class=&quot;hljs-number&quot;&gt;710&lt;/span&gt;&lt;span style=&quot;color: teal;&quot; class=&quot;hljs-variable&quot;&gt;*10&lt;/span&gt;&lt;span style=&quot;color: teal;&quot; class=&quot;hljs-variable&quot;&gt;**&lt;/span&gt;(-&lt;span style=&quot;color: #009999;&quot; class=&quot;hljs-number&quot;&gt;12&lt;/span&gt;)&lt;span style=&quot;color: teal;&quot; class=&quot;hljs-variable&quot;&gt;*s&lt;/span&gt;&lt;span style=&quot;color: teal;&quot; class=&quot;hljs-variable&quot;&gt;**&lt;/span&gt;&lt;span style=&quot;color: #009999;&quot; class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;&lt;span style=&quot;color: teal;&quot; class=&quot;hljs-variable&quot;&gt;*A&lt;/span&gt;&lt;span style=&quot;color: teal;&quot; class=&quot;hljs-variable&quot;&gt;**&lt;/span&gt;&lt;span style=&quot;color: #009999;&quot; class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;/(&lt;span style=&quot;color: #333333; font-weight: bold;&quot; class=&quot;hljs-keyword&quot;&gt;m&lt;/span&gt;&lt;span style=&quot;color: teal;&quot; class=&quot;hljs-variable&quot;&gt;**&lt;/span&gt;&lt;span style=&quot;color: #009999;&quot; class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;&lt;span style=&quot;color: teal;&quot; class=&quot;hljs-variable&quot;&gt;*kg&lt;/span&gt;), n=&lt;span style=&quot;color: #009999;&quot; class=&quot;hljs-number&quot;&gt;1.33&lt;/span&gt;)&lt;br /&gt;assert simplify(m5.intrinsic_impedance - &lt;span style=&quot;color: #009999;&quot; class=&quot;hljs-number&quot;&gt;6.24845417765552&lt;/span&gt;&lt;span style=&quot;color: teal;&quot; class=&quot;hljs-variable&quot;&gt;*kg&lt;/span&gt;&lt;span style=&quot;color: teal;&quot; class=&quot;hljs-variable&quot;&gt;*m&lt;/span&gt;&lt;span style=&quot;color: teal;&quot; class=&quot;hljs-variable&quot;&gt;**&lt;/span&gt;&lt;span style=&quot;color: #009999;&quot; class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;/(A&lt;span style=&quot;color: teal;&quot; class=&quot;hljs-variable&quot;&gt;**&lt;/span&gt;&lt;span style=&quot;color: #009999;&quot; class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;&lt;span style=&quot;color: teal;&quot; class=&quot;hljs-variable&quot;&gt;*s&lt;/span&gt;&lt;span style=&quot;color: teal;&quot; class=&quot;hljs-variable&quot;&gt;**&lt;/span&gt;&lt;span style=&quot;color: #009999;&quot; class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;)) == &lt;span style=&quot;color: #009999;&quot; class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #999988; font-style: italic;&quot; class=&quot;hljs-comment&quot;&gt;# XXX: This is supposed to be zero but it turns out to be&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #999988; font-style: italic;&quot; class=&quot;hljs-comment&quot;&gt;# very close to zero and not zero.&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #999988; font-style: italic;&quot; class=&quot;hljs-comment&quot;&gt;# assert simplify(m5.speed - 225407863.157895*m/s) == 0&lt;/span&gt;&lt;br /&gt;&lt;/code&gt;&lt;/pre&gt;&lt;div style=&quot;color: #444444; font-family: Arvo, 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 13px; line-height: 18px; margin-bottom: 9px;&quot;&gt;This &lt;code style=&quot;background-color: #f7f7f9; border-bottom-left-radius: 3px; border-bottom-right-radius: 3px; border-top-left-radius: 3px; border-top-right-radius: 3px; border: 1px solid rgb(225, 225, 232); color: #dd1144; font-family: Consolas, 'Liberation Mono', Courier, monospace !important; font-size: 12px; padding: 3px 4px;&quot;&gt;m5.speed&lt;/code&gt; is equal to &lt;code style=&quot;background-color: #f7f7f9; border-bottom-left-radius: 3px; border-bottom-right-radius: 3px; border-top-left-radius: 3px; border-top-right-radius: 3px; border: 1px solid rgb(225, 225, 232); color: #dd1144; font-family: Consolas, 'Liberation Mono', Courier, monospace !important; font-size: 12px; padding: 3px 4px;&quot;&gt;225407863.157895*m/s&lt;/code&gt; (or maybe very close to it) but, assertion results in a failure.&lt;/div&gt;&lt;div style=&quot;color: #444444; font-family: Arvo, 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 13px; line-height: 18px; margin-bottom: 9px;&quot;&gt;Similarly in the constructor of the &lt;code style=&quot;background-color: #f7f7f9; border-bottom-left-radius: 3px; border-bottom-right-radius: 3px; border-top-left-radius: 3px; border-top-right-radius: 3px; border: 1px solid rgb(225, 225, 232); color: #dd1144; font-family: Consolas, 'Liberation Mono', Courier, monospace !important; font-size: 12px; padding: 3px 4px;&quot;&gt;Medium&lt;/code&gt; inconsistency comes due to slight difference in floating point parameters(permittivity and permeability). I've commented out this part of my code. Maybe Sean will suggest a better way to do it.&lt;/div&gt;&lt;pre style=&quot;&quot;&gt;&lt;code style=&quot;background-color: transparent; border-bottom-left-radius: 3px; border-bottom-right-radius: 3px; border-top-left-radius: 3px; border-top-right-radius: 3px; border: 0px; color: inherit; font-family: Consolas, 'Liberation Mono', Courier, monospace !important; padding: 0px;&quot;&gt;&lt;span style=&quot;color: #999988; font-style: italic;&quot; class=&quot;hljs-comment&quot;&gt;# XXX: There's issue with precision. Values may be&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #999988; font-style: italic;&quot; class=&quot;hljs-comment&quot;&gt;# different slightly.&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #333333; font-weight: bold;&quot; class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; permittivity != u&lt;span style=&quot;color: #009999;&quot; class=&quot;hljs-number&quot;&gt;0&lt;/span&gt; &lt;span style=&quot;color: #333333; font-weight: bold;&quot; class=&quot;hljs-keyword&quot;&gt;and&lt;/span&gt; permittivity != e&lt;span style=&quot;color: #009999;&quot; class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;:&lt;br /&gt;    &lt;span style=&quot;color: #333333; font-weight: bold;&quot; class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; n != c&lt;span style=&quot;color: teal;&quot; class=&quot;hljs-variable&quot;&gt;*sqrt&lt;/span&gt;(permittivity&lt;span style=&quot;color: teal;&quot; class=&quot;hljs-variable&quot;&gt;*permeability&lt;/span&gt;):&lt;br /&gt;        raise ValueError(&lt;span style=&quot;color: #dd1144;&quot; class=&quot;hljs-string&quot;&gt;&quot;Values are not consistent.&quot;&lt;/span&gt;)&lt;br /&gt;&lt;/code&gt;&lt;/pre&gt;&lt;div style=&quot;color: #444444; font-family: Arvo, 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 13px; line-height: 18px; margin-bottom: 9px;&quot;&gt;As soon as it gets merged, I'll make necessary changes in Fermat's principle and Snell's law part of the code and send a PR to review.&lt;/div&gt;&lt;div style=&quot;color: #444444; font-family: Arvo, 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 13px; line-height: 18px; margin-bottom: 9px;&quot;&gt;Now I realize that the next two weeks are not going to be a joy ride for me. I must finish major part of geometrical optics as written in my proposal.&lt;br /&gt;&lt;br /&gt;That's all for now. Cheers!&lt;/div&gt;&lt;/div&gt;</description>
	<pubDate>Mon, 16 Jun 2014 19:32:09 +0000</pubDate>
	<author>noreply@blogger.com (Sudhanshu Mishra)</author>
</item>
<item>
	<title>Sushant Hiray: This Week in CSymPy: #4</title>
	<guid isPermaLink="true">http://sushant-hiray.in/posts/gsoc/csympy-week4/</guid>
	<link>http://sushant-hiray.in/posts/gsoc/csympy-week4/</link>
	<description>&lt;p&gt;Week 4 for GSoC just ended and this week I completed implementing the Exponential Module.&lt;/p&gt;

&lt;h1 id=&quot;progress&quot;&gt;Progress&lt;/h1&gt;

&lt;p&gt;I started the week by implementing &lt;code&gt;ATan2&lt;/code&gt; which was not implemented in the PR of Trignometric Module.
&lt;br /&gt;&lt;br /&gt;
&lt;a href=&quot;https://github.com/sympy/csympy/pull/189&quot;&gt;Pull 189&lt;/a&gt; looked into implementing the &lt;code&gt;ATan2&lt;/code&gt; functionality. Since to implement &lt;code&gt;ATan2&lt;/code&gt; we needed to find whether the signs of numerator and denominators. In case of complex symbolic expressions, we are yet to implement &lt;code&gt;numeric-eval&lt;/code&gt; in CSymPy, so in those cases we just
return the object, in cases where we find the &lt;code&gt;arg&lt;/code&gt; in lookup table we simplify and give out the result.
&lt;br /&gt;
A more detailed version of the assumptions can be found in this &lt;a href=&quot;https://github.com/sympy/csympy/pull/189#issuecomment-45625322&quot;&gt;comment&lt;/a&gt; in PR. It is also documented in the code.
&lt;br /&gt;&lt;br /&gt;
After implementing &lt;code&gt;ATan2&lt;/code&gt;, I worked on the Exponential module. &lt;a href=&quot;https://github.com/asmeurer&quot;&gt;Aaron&lt;/a&gt; gave some insights regarding the implementation of the exponential module, specifically he mentioned the fact that &lt;/p&gt;

&lt;blockquote&gt;
  &lt;pre&gt;&lt;code&gt;It's better to special case E in one place `(pow)` 
than to special case exp everywhere in the code 
that tries to deal with pow objects 
&lt;/code&gt;&lt;/pre&gt;
&lt;/blockquote&gt;

&lt;p&gt;So discussing this with &lt;a href=&quot;https://github.com/certik&quot;&gt;Ondrej&lt;/a&gt; we decided to keep &lt;code&gt;exp&lt;/code&gt; only as a function which just calls &lt;code&gt;pow(E, x)&lt;/code&gt; underneath.
&lt;br /&gt;&lt;br /&gt;
The logarithm class was similar to the current implementation of SymPy barring the part involving complex numbers. The exponential module as a whole was implemented in &lt;a href=&quot;https://github.com/sympy/csympy/pull/194&quot;&gt;pull request&lt;/a&gt; which has been merged into master.
&lt;br /&gt;&lt;br /&gt;
I have also decided to implement the LambertW function. It wasn’t a part of my original proposal but it seems pretty trivial to implement! Once this is merged into master, the exponential module will cover all major functions implemented by SymPy.&lt;/p&gt;

&lt;h1 id=&quot;discussions&quot;&gt;Discussions&lt;/h1&gt;

&lt;p&gt;As usual most of the actual discussions happened on PR, Aaron also gave some insights on gitter! So its good to hangout there as well.&lt;/p&gt;

&lt;h1 id=&quot;week-highlights&quot;&gt;Week Highlights!&lt;/h1&gt;

&lt;ul&gt;
  &lt;li&gt;This week &lt;a href=&quot;https://github.com/isuruf&quot;&gt;@isuruf&lt;/a&gt; started helping us out in the Number Theory module which was originally added by Thilina.&lt;/li&gt;
  &lt;li&gt;Also I’ve noticed extra traffic in &lt;a href=&quot;https://gitter.im/sympy/csympy&quot;&gt;CSymPy gitter&lt;/a&gt;. A lot of people have started following the conversations there! That is good to see :)&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;the-week-ahead&quot;&gt;The Week Ahead&lt;/h1&gt;
&lt;ul&gt;
  &lt;li&gt;Add the &lt;code&gt;LambertW&lt;/code&gt; class.&lt;/li&gt;
  &lt;li&gt;Implement the &lt;code&gt;Hyperbolic Module&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;br /&gt;
Thats all for now :) Will get back next week!&lt;/p&gt;</description>
	<pubDate>Sun, 15 Jun 2014 18:20:00 +0000</pubDate>
</item>
<item>
	<title>Kundan Kumar: GSoC week 4: Implemented system of three linear equation of first order</title>
	<guid isPermaLink="false">http://kundankumar185.wordpress.com/?p=57</guid>
	<link>http://kundankumar185.wordpress.com/2014/06/15/gsoc-week-4-implemented-system-of-three-linear-equation-of-first-order/</link>
	<description>&lt;p&gt;I will summarize the work completed until now since beginning of first week. These included&lt;/p&gt;
&lt;p&gt;&amp;gt; Implementing classify_sysode to classify all type of equations on the basis of linearity, number of equations, order of equations.&lt;/p&gt;
&lt;p&gt;&amp;gt; Implementing system of two linear equations of first order which includes seven type of equation of various forms.&lt;/p&gt;
&lt;p&gt;&amp;gt; Implementing system of two linear equations of second order which has eleven type of equation.&lt;/p&gt;
&lt;p&gt;&amp;gt; Implementing system of three linear equations of third order which has five type of equation both of constant coefficient and variable coefficients.&lt;/p&gt;
&lt;p&gt;&amp;gt; Implementing homogeneous system of n linear equations of first order of constant coefficients.&lt;/p&gt;
&lt;p&gt;Those were the work completed till now of which last week work was on implemention of system of three linear equations of 1st order and homogeneous system of n equations. I am currently working on implementing system of two and three nonlinear system of equations of first order and aiming to complete it by next week. Its been a good progress till now and hope to work likely in coming weeks &lt;span class=&quot;wp-smiley emoji emoji-smile&quot; title=&quot;:)&quot;&gt;:)&lt;/span&gt; .&lt;/p&gt;&lt;br /&gt;  &lt;a href=&quot;http://feeds.wordpress.com/1.0/gocomments/kundankumar185.wordpress.com/57/&quot; rel=&quot;nofollow&quot;&gt;&lt;img src=&quot;http://feeds.wordpress.com/1.0/comments/kundankumar185.wordpress.com/57/&quot; alt=&quot;&quot; border=&quot;0&quot; /&gt;&lt;/a&gt; &lt;img src=&quot;http://pixel.wp.com/b.gif?host=kundankumar185.wordpress.com&amp;amp;blog=68025302&amp;amp;post=57&amp;amp;subd=kundankumar185&amp;amp;ref=&amp;amp;feed=1&quot; alt=&quot;&quot; border=&quot;0&quot; width=&quot;1&quot; height=&quot;1&quot; /&gt;</description>
	<pubDate>Sun, 15 Jun 2014 09:26:39 +0000</pubDate>
</item>
<item>
	<title>Thilina Rathnayake: [GSoC] Week 4: Fraction Free Algorithms</title>
	<guid isPermaLink="false">http://thilinaatsympy.wordpress.com/?p=339</guid>
	<link>http://thilinaatsympy.wordpress.com/2014/06/15/gsoc-week-4/</link>
	<description>&lt;p&gt;Hi All,&lt;/p&gt;
&lt;p&gt;As the week 4 of the GSoC comes to an end I was able to start implementing Matrix decompositions, starting with the LU decomposition.&lt;/p&gt;
&lt;h3&gt;Fraction Free Algorithms&lt;/h3&gt;
&lt;p&gt;Gaussian elimination is the procedure for reducing a given matrix to an echelon form. In Gauss-Jordan elimination, we reduce a given matrix into a reduced row echelon form. I implemented quite a few algorithms for Gaussian elimination and Gauss-Jordan elimination. The conventional algorithm for Guassian elimination is a very straight forward one and can be found in[1]. There are two problems in this algorithm. One is that we have to perform division which is not a good thing to do if the divisor is too small. Also, the above implementation doesn’t allow pivoting, which makes the algorithm not applicable to non-singular matrices.&lt;/p&gt;
&lt;p&gt;To avoid the problem with division, I implemented a set of algorithms which results in fraction free matrix entries. These algorithms are described in detail in [2] and [3]. One disadvantage in these fraction free methods is that the resulting matrix entries tends to grow larger than the naive algorithm described in [1]. These can be avoided by observing that certain entries are divisible by other entries in the matrix. This is described in detail in [3].&lt;/p&gt;
&lt;p&gt;Pivoting is also a concern in these algorithms. Since we are mostly dealing with symbolic matrices, first row below the current pow which has a non-zero element is chosen as the pivot row.&lt;/p&gt;
&lt;p&gt;Also, I implemented a fraction free version of LU decomposition.&lt;/p&gt;
&lt;h3&gt;Plan for upcoming week&lt;/h3&gt;
&lt;p&gt;I hope to implement some other Matrix decomposition algorithms like QR and Cholesky in the coming week. Also, I wish to implement a Gaussian elimination algorithm which is more suited to matrices with symbolic entries. For the time being I am studying about it in [4].&lt;/p&gt;
&lt;h3&gt;References&lt;/h3&gt;
&lt;p&gt;[1] &lt;a href=&quot;http://www.cs.rutgers.edu/~venugopa/parallel_summer2012/ge.html#algo&quot; rel=&quot;nofollow&quot;&gt;http://www.cs.rutgers.edu/~venugopa/parallel_summer2012/ge.html#algo&lt;/a&gt;&lt;br /&gt;
[2] Fraction-free algorithms for linear and polynomial equations (1997) by George Nakos, Peter Turner, Robert Williams&lt;br /&gt;
[3] A Simplified Fraction-Free integer Gauss elimination algorithm, Peter R. Turner, Ph.D.&lt;br /&gt;
[4] Modified Gauss Algorithm for Matrices with Symbolic Entries, Benno Fuchssteiner.&lt;/p&gt;&lt;br /&gt;  &lt;a href=&quot;http://feeds.wordpress.com/1.0/gocomments/thilinaatsympy.wordpress.com/339/&quot; rel=&quot;nofollow&quot;&gt;&lt;img src=&quot;http://feeds.wordpress.com/1.0/comments/thilinaatsympy.wordpress.com/339/&quot; alt=&quot;&quot; border=&quot;0&quot; /&gt;&lt;/a&gt; &lt;img src=&quot;http://pixel.wp.com/b.gif?host=thilinaatsympy.wordpress.com&amp;amp;blog=52956410&amp;amp;post=339&amp;amp;subd=thilinaatsympy&amp;amp;ref=&amp;amp;feed=1&quot; alt=&quot;&quot; border=&quot;0&quot; width=&quot;1&quot; height=&quot;1&quot; /&gt;</description>
	<pubDate>Sat, 14 Jun 2014 23:51:13 +0000</pubDate>
</item>
<item>
	<title>Sachin Joglekar: GSoC Week 4: Vector framework done</title>
	<guid isPermaLink="false">http://codesachin.wordpress.com/?p=15</guid>
	<link>http://codesachin.wordpress.com/2014/06/15/gsoc-week-4-vector-framework-done/</link>
	<description>&lt;p&gt;This has been a tricky week. Not hectic, but rather tricky. Most of it was spent fixing the innumerable bugs that I encountered while polishing and ‘packaging’ the basic version of the new vector module – it’s in a PR &lt;a href=&quot;https://github.com/sympy/sympy/pull/7566&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;I cannot stress how helpful the pre-written unit and example tests were, in making things clearer and pointing out the many bugs in the first version of my code. In some cases, I spent quite some (read: &lt;em&gt;a lot&lt;/em&gt;) of time fixing the issues, while in some, I just redid the code/API to work around the intricacies of the SymPy core. Its quite easy to get lost in there.&lt;/p&gt;
&lt;p&gt;Currently, the following functionalities are supported &lt;em&gt;stably&lt;/em&gt; by my code(with appropriate error handling wherever required)-&lt;/p&gt;
&lt;p&gt;1. All basic vector operations-&lt;/p&gt;
&lt;p&gt;a) Addition/Subtraction&lt;/p&gt;
&lt;p&gt;b) Multiplication/Division by scalars&lt;/p&gt;
&lt;p&gt;c) Dot/Cross product&lt;/p&gt;
&lt;p&gt;2. Including coordinate variables (spatial variables) in vectorial expressions.&lt;/p&gt;
&lt;p&gt;3. All basic use cases of the Del operator in vector/scalar expressions, including-&lt;/p&gt;
&lt;p&gt;a) Gradient&lt;/p&gt;
&lt;p&gt;b) Divergence&lt;/p&gt;
&lt;p&gt;c) Curl&lt;/p&gt;
&lt;p&gt;d) Directional derivative&lt;/p&gt;
&lt;p&gt;I know it seems a little low for something that’s based on code which is already a part of SymPy, but the whole point was to base it directly upon the SymPy core – for users not acquainted with the physics module. Moreover, with some rudimentary timing techniques, I found that on an average, the new module was able to do a set of most-basic vector operations (add, sub, dot, cross) approximately 3-4 times &lt;em&gt;faster &lt;/em&gt;than sympy.physics.vector. But I guess it’s too early to judge now, since the new module has no overhead of coordinate systems.&lt;/p&gt;
&lt;p&gt;I can say I am successful (hopefully all the tests on the PR should pass soon) in supporting all the functionality mentioned above, in a stable implementation – though I am still waiting for Jason and the SymPy people to review the PR. I hope it gets in soon.&lt;/p&gt;
&lt;p&gt;The next step would be to start working on a new branch that would include the classes for coordinate systems and stationary points in 3D space (cartesian system). This is going to be tricky – the code for these classes in &lt;em&gt;sympy.physics.vector&lt;/em&gt; is enough to prove that. As usual, the first step would be to write out the ‘expected-to-succeed’ unit and example tests. Hopefully, by that time, I would get sufficient feedback on the current PR too. But since the underlying vector framework is working well, I wouldn’t have to worry about bugs in that area – I can focus purely on the one-level-up code for multiple coordinate systems.&lt;/p&gt;
&lt;p&gt;Cheers to a fun week! Hopefully I will be reporting just as much of progress next week too. Have a great week ahead &lt;span class=&quot;wp-smiley emoji emoji-smile&quot; title=&quot;:-)&quot;&gt;:-)&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt; &lt;/p&gt;&lt;br /&gt;  &lt;a href=&quot;http://feeds.wordpress.com/1.0/gocomments/codesachin.wordpress.com/15/&quot; rel=&quot;nofollow&quot;&gt;&lt;img src=&quot;http://feeds.wordpress.com/1.0/comments/codesachin.wordpress.com/15/&quot; alt=&quot;&quot; border=&quot;0&quot; /&gt;&lt;/a&gt; &lt;img src=&quot;http://pixel.wp.com/b.gif?host=codesachin.wordpress.com&amp;amp;blog=67602166&amp;amp;post=15&amp;amp;subd=codesachin&amp;amp;ref=&amp;amp;feed=1&quot; alt=&quot;&quot; border=&quot;0&quot; width=&quot;1&quot; height=&quot;1&quot; /&gt;</description>
	<pubDate>Sat, 14 Jun 2014 20:15:58 +0000</pubDate>
</item>
<item>
	<title>Jim Crist: GSoC Week 4: Linearizing Lagranges Equations</title>
	<guid isPermaLink="false">tag:,2014-06-13:gsoc-week-4.html</guid>
	<link>http://jcrist.github.io/gsoc-week-4.html</link>
	<description>&lt;p&gt;As of last week the &lt;code&gt;Linearizer&lt;/code&gt; class implementing the general form discussed
in Luke and Gilbert's paper was completed. The methods contained for
linearization work for any system that can be expressed by any combination of
the following:&lt;/p&gt;
&lt;p&gt;\begin{aligned}
f_{c}(q, t) &amp;amp;= 0_{l \times 1} \\
f_{v}(q, u, t) &amp;amp;= 0_{m \times 1} \\
f_{a}(q, \dot{q}, u, \dot{u}, t) &amp;amp;= 0_{m \times 1} \\
f_{0}(q, \dot{q}, t) + f_{1}(q, u, t) &amp;amp;= 0_{n \times 1} \\
f_{2}(q, \dot{u}, t) + f_{3}(q, \dot{q}, u, r, t) &amp;amp;= 0_{(o-m) \times 1}
\end{aligned}&lt;/p&gt;
&lt;p&gt;with&lt;/p&gt;
&lt;p&gt;\begin{aligned}
q, \dot{q} &amp;amp; \in \mathbb{R}^n \\
u, \dot{u} &amp;amp; \in \mathbb{R}^o \\
r &amp;amp; \in \mathbb{R}^s 
\end{aligned}&lt;/p&gt;
&lt;p&gt;This works for most systems (it was derived with kanes method in mind
specifically). However, systems expressed using lagranges method can't
be brought into this form.&lt;/p&gt;
&lt;p&gt;This week I spent some time rederiving the general form to make it fit
lagranges method, as well as kanes method. I plan to write up a formal
paper expressing the derivation as a reference and documentation of the
class; here I'll just give a brief overview.&lt;/p&gt;
&lt;p&gt;In general, Lagrange's Method expresses the system using 3 equations:&lt;/p&gt;
&lt;p&gt;\begin{aligned}
m_{c}(q, t) \dot{q} + f_{c}(q, t) &amp;amp;= 0_{m \times 1}\\
m_{dc}(\dot{q}, q, t) \ddot{q} + f_{dc}(\dot{q}, q, t) &amp;amp;= 0_{m \times 1}\\
m_{d}(\dot{q}, q, t) \ddot{q} + \Lambda_c(q, t)
\lambda + f_{d}(\dot{q}, q, r, t) &amp;amp;= 0_{n \times 1}\\
\end{aligned}&lt;/p&gt;
&lt;p&gt;with&lt;/p&gt;
&lt;p&gt;\begin{aligned}
q, \dot{q}, \ddot{q} &amp;amp; \in \mathbb{R}^n \\
r &amp;amp; \in \mathbb{R}^s \\
\lambda &amp;amp; \in \mathbb{R}^m
\end{aligned}&lt;/p&gt;
&lt;p&gt;In this case, the first equation encompass the time differentiated holonomic
constraints, as well as the nonholonomic constraints. The second equation
is then the time derivative of the first equation. The third equation
represents the dynamics of the system, as formed by the lagrangian. The
lagrange multipliers ($\lambda$) enforce these constraints.&lt;/p&gt;
&lt;p&gt;With some rearranging of the above, they can be merged with the previous
general form for Kane's Method, forming a set of equations that &lt;em&gt;should&lt;/em&gt; be
able to contain most equations of motion:&lt;/p&gt;
&lt;p&gt;\begin{aligned}
f_{c}(q, t) &amp;amp;= 0_{l \times 1} \\
f_{v}(q, u, t) &amp;amp;= 0_{m \times 1} \\
f_{a}(q, \dot{q}, u, \dot{u}, t) &amp;amp;= 0_{m \times 1} \\
f_{0}(q, \dot{q}, t) + f_{1}(q, u, t) &amp;amp;= 0_{n \times 1} \\
f_{2}(q, u, \dot{u}, t) + f_{3}(q, \dot{q}, u, r, t) + 
f_{4}(q, \lambda, t) &amp;amp;= 0_{(o-m+k) \times 1}
\end{aligned}&lt;/p&gt;
&lt;p&gt;with&lt;/p&gt;
&lt;p&gt;\begin{aligned}
q, \dot{q} &amp;amp; \in \mathbb{R}^n \\
u, \dot{u} &amp;amp; \in \mathbb{R}^o \\
r &amp;amp; \in \mathbb{R}^s \\
\lambda &amp;amp; \in \mathbb{R}^k
\end{aligned}&lt;/p&gt;
&lt;p&gt;Note that the only changes are the addition of a $u$ term in $f_2$, and the
$f_{4}$ term holding the lagrange multipliers. For Lagrange's method,
$\dot{q} = u$, and $k = m$; for Kanes method $k = 0$, and everything
looks the same as it did before.&lt;/p&gt;
&lt;p&gt;The returned $M$, $A$, and $B$ linearized form then is:&lt;/p&gt;
&lt;p&gt;$$
M \begin{bmatrix} \delta \dot{q} \\ \delta \dot{u} \\ \delta \lambda \end{bmatrix} =
A \begin{bmatrix} \delta q_i \\ \delta u_i \end{bmatrix} + B \begin{bmatrix} \delta r \end{bmatrix}
$$&lt;/p&gt;
&lt;p&gt;where&lt;/p&gt;
&lt;p&gt;\begin{aligned}
M &amp;amp;\in \mathbb{R}^{(n+o+k) \times (n+o+k)} \\
A &amp;amp;\in \mathbb{R}^{(n+o+k) \times (n-l+o-m)} \\
B &amp;amp;\in \mathbb{R}^{(n+o+k) \times s}
\end{aligned}&lt;/p&gt;
&lt;p&gt;As before, the $M$ matrix can be inverted, and the square state space matrices
$A$ and $B$ calculated.&lt;/p&gt;
&lt;p&gt;The functionality described above has been implemented in the
&lt;a href=&quot;https://github.com/jcrist/sympy/tree/LinearizeLagrange&quot;&gt;LinearizeLagrange branch&lt;/a&gt;
of sympy on my github. As this is a superset of the functionality I implemented
last week, I'm going to hold off on submitting this to master until my 
&lt;a href=&quot;https://github.com/sympy/sympy/pull/7581&quot;&gt;current pull request&lt;/a&gt; is merged. For
now I made a local PR &lt;a href=&quot;https://github.com/jcrist/sympy/pull/3&quot;&gt;here&lt;/a&gt;. Please
take a look through, I need all the code review I can get.&lt;/p&gt;
&lt;p&gt;Two tests have been implemented linearizing a system generated with Lagrange's
Method. I plan on adding more next week, as well as improving the documentation.&lt;/p&gt;
&lt;h2&gt;Linearizing a Non-minimal Pendulum with Lagrange's Method&lt;/h2&gt;
&lt;p&gt;A demonstration of the current functionality for a non-minimal realization
of a pendulum is below. The pendulum has two generalized coordinates, $q1$ and
$q2$. As this is Lagrange's method, the generalized speeds are just the time
derivatives of the coordinates (i.e. $u = \dot{q}$).&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://jcrist.github.io/feeds/images/Pendulum_NonMin_Coord.svg&quot; alt=&quot;Pendulum system&quot; title=&quot;Pendulum System&quot; /&gt;&lt;/p&gt;
&lt;div style=&quot;background: #272822;&quot; class=&quot;codehilite&quot;&gt;&lt;pre style=&quot;line-height: 125%;&quot;&gt;&lt;span style=&quot;color: #75715e;&quot;&gt;# Create the required symbols&lt;/span&gt;
&lt;span style=&quot;color: #f8f8f2;&quot;&gt;q1,&lt;/span&gt; &lt;span style=&quot;color: #f8f8f2;&quot;&gt;q2&lt;/span&gt; &lt;span style=&quot;color: #f92672;&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: #f8f8f2;&quot;&gt;dynamicsymbols(&lt;/span&gt;&lt;span style=&quot;color: #e6db74;&quot;&gt;'q1:3'&lt;/span&gt;&lt;span style=&quot;color: #f8f8f2;&quot;&gt;)&lt;/span&gt;
&lt;span style=&quot;color: #f8f8f2;&quot;&gt;q1d,&lt;/span&gt; &lt;span style=&quot;color: #f8f8f2;&quot;&gt;q2d&lt;/span&gt; &lt;span style=&quot;color: #f92672;&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: #f8f8f2;&quot;&gt;dynamicsymbols(&lt;/span&gt;&lt;span style=&quot;color: #e6db74;&quot;&gt;'q1:3'&lt;/span&gt;&lt;span style=&quot;color: #f8f8f2;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #f8f8f2;&quot;&gt;level&lt;/span&gt;&lt;span style=&quot;color: #f92672;&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;color: #ae81ff;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #f8f8f2;&quot;&gt;)&lt;/span&gt;
&lt;span style=&quot;color: #f8f8f2;&quot;&gt;L,&lt;/span&gt; &lt;span style=&quot;color: #f8f8f2;&quot;&gt;m,&lt;/span&gt; &lt;span style=&quot;color: #f8f8f2;&quot;&gt;t&lt;/span&gt; &lt;span style=&quot;color: #f92672;&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: #f8f8f2;&quot;&gt;symbols(&lt;/span&gt;&lt;span style=&quot;color: #e6db74;&quot;&gt;'L, m, t'&lt;/span&gt;&lt;span style=&quot;color: #f8f8f2;&quot;&gt;)&lt;/span&gt;
&lt;span style=&quot;color: #f8f8f2;&quot;&gt;g&lt;/span&gt; &lt;span style=&quot;color: #f92672;&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: #ae81ff;&quot;&gt;9.8&lt;/span&gt;

&lt;span style=&quot;color: #75715e;&quot;&gt;# Compose World Frame&lt;/span&gt;
&lt;span style=&quot;color: #f8f8f2;&quot;&gt;N&lt;/span&gt; &lt;span style=&quot;color: #f92672;&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: #f8f8f2;&quot;&gt;ReferenceFrame(&lt;/span&gt;&lt;span style=&quot;color: #e6db74;&quot;&gt;'N'&lt;/span&gt;&lt;span style=&quot;color: #f8f8f2;&quot;&gt;)&lt;/span&gt;
&lt;span style=&quot;color: #f8f8f2;&quot;&gt;pN&lt;/span&gt; &lt;span style=&quot;color: #f92672;&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: #f8f8f2;&quot;&gt;Point(&lt;/span&gt;&lt;span style=&quot;color: #e6db74;&quot;&gt;'N*'&lt;/span&gt;&lt;span style=&quot;color: #f8f8f2;&quot;&gt;)&lt;/span&gt;
&lt;span style=&quot;color: #f8f8f2;&quot;&gt;pN&lt;/span&gt;&lt;span style=&quot;color: #f92672;&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: #f8f8f2;&quot;&gt;set_vel(N,&lt;/span&gt; &lt;span style=&quot;color: #ae81ff;&quot;&gt;0&lt;/span&gt;&lt;span style=&quot;color: #f8f8f2;&quot;&gt;)&lt;/span&gt;

&lt;span style=&quot;color: #75715e;&quot;&gt;# A.x is along the pendulum&lt;/span&gt;
&lt;span style=&quot;color: #f8f8f2;&quot;&gt;theta1&lt;/span&gt; &lt;span style=&quot;color: #f92672;&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: #f8f8f2;&quot;&gt;atan(q2&lt;/span&gt;&lt;span style=&quot;color: #f92672;&quot;&gt;/&lt;/span&gt;&lt;span style=&quot;color: #f8f8f2;&quot;&gt;q1)&lt;/span&gt;
&lt;span style=&quot;color: #f8f8f2;&quot;&gt;A&lt;/span&gt; &lt;span style=&quot;color: #f92672;&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: #f8f8f2;&quot;&gt;N&lt;/span&gt;&lt;span style=&quot;color: #f92672;&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: #f8f8f2;&quot;&gt;orientnew(&lt;/span&gt;&lt;span style=&quot;color: #e6db74;&quot;&gt;'A'&lt;/span&gt;&lt;span style=&quot;color: #f8f8f2;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #e6db74;&quot;&gt;'axis'&lt;/span&gt;&lt;span style=&quot;color: #f8f8f2;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #f8f8f2;&quot;&gt;[theta1,&lt;/span&gt; &lt;span style=&quot;color: #f8f8f2;&quot;&gt;N&lt;/span&gt;&lt;span style=&quot;color: #f92672;&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: #f8f8f2;&quot;&gt;z])&lt;/span&gt;

&lt;span style=&quot;color: #75715e;&quot;&gt;# Create point P, the pendulum mass&lt;/span&gt;
&lt;span style=&quot;color: #f8f8f2;&quot;&gt;P&lt;/span&gt; &lt;span style=&quot;color: #f92672;&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: #f8f8f2;&quot;&gt;pN&lt;/span&gt;&lt;span style=&quot;color: #f92672;&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: #f8f8f2;&quot;&gt;locatenew(&lt;/span&gt;&lt;span style=&quot;color: #e6db74;&quot;&gt;'P1'&lt;/span&gt;&lt;span style=&quot;color: #f8f8f2;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #f8f8f2;&quot;&gt;q1&lt;/span&gt;&lt;span style=&quot;color: #f92672;&quot;&gt;*&lt;/span&gt;&lt;span style=&quot;color: #f8f8f2;&quot;&gt;N&lt;/span&gt;&lt;span style=&quot;color: #f92672;&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: #f8f8f2;&quot;&gt;x&lt;/span&gt; &lt;span style=&quot;color: #f92672;&quot;&gt;+&lt;/span&gt; &lt;span style=&quot;color: #f8f8f2;&quot;&gt;q2&lt;/span&gt;&lt;span style=&quot;color: #f92672;&quot;&gt;*&lt;/span&gt;&lt;span style=&quot;color: #f8f8f2;&quot;&gt;N&lt;/span&gt;&lt;span style=&quot;color: #f92672;&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: #f8f8f2;&quot;&gt;y)&lt;/span&gt;
&lt;span style=&quot;color: #f8f8f2;&quot;&gt;P&lt;/span&gt;&lt;span style=&quot;color: #f92672;&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: #f8f8f2;&quot;&gt;set_vel(N,&lt;/span&gt; &lt;span style=&quot;color: #f8f8f2;&quot;&gt;P&lt;/span&gt;&lt;span style=&quot;color: #f92672;&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: #f8f8f2;&quot;&gt;pos_from(pN)&lt;/span&gt;&lt;span style=&quot;color: #f92672;&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: #f8f8f2;&quot;&gt;dt(N))&lt;/span&gt;
&lt;span style=&quot;color: #f8f8f2;&quot;&gt;pP&lt;/span&gt; &lt;span style=&quot;color: #f92672;&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: #f8f8f2;&quot;&gt;Particle(&lt;/span&gt;&lt;span style=&quot;color: #e6db74;&quot;&gt;'pP'&lt;/span&gt;&lt;span style=&quot;color: #f8f8f2;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #f8f8f2;&quot;&gt;P,&lt;/span&gt; &lt;span style=&quot;color: #f8f8f2;&quot;&gt;m)&lt;/span&gt;

&lt;span style=&quot;color: #75715e;&quot;&gt;# Constraint Equations&lt;/span&gt;
&lt;span style=&quot;color: #f8f8f2;&quot;&gt;f_c&lt;/span&gt; &lt;span style=&quot;color: #f92672;&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: #f8f8f2;&quot;&gt;Matrix([q1&lt;/span&gt;&lt;span style=&quot;color: #f92672;&quot;&gt;**&lt;/span&gt;&lt;span style=&quot;color: #ae81ff;&quot;&gt;2&lt;/span&gt; &lt;span style=&quot;color: #f92672;&quot;&gt;+&lt;/span&gt; &lt;span style=&quot;color: #f8f8f2;&quot;&gt;q2&lt;/span&gt;&lt;span style=&quot;color: #f92672;&quot;&gt;**&lt;/span&gt;&lt;span style=&quot;color: #ae81ff;&quot;&gt;2&lt;/span&gt; &lt;span style=&quot;color: #f92672;&quot;&gt;-&lt;/span&gt; &lt;span style=&quot;color: #f8f8f2;&quot;&gt;L&lt;/span&gt;&lt;span style=&quot;color: #f92672;&quot;&gt;**&lt;/span&gt;&lt;span style=&quot;color: #ae81ff;&quot;&gt;2&lt;/span&gt;&lt;span style=&quot;color: #f8f8f2;&quot;&gt;])&lt;/span&gt;

&lt;span style=&quot;color: #75715e;&quot;&gt;# Calculate the lagrangian, and form the equations of motion&lt;/span&gt;
&lt;span style=&quot;color: #f8f8f2;&quot;&gt;Lag&lt;/span&gt; &lt;span style=&quot;color: #f92672;&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: #f8f8f2;&quot;&gt;Lagrangian(N,&lt;/span&gt; &lt;span style=&quot;color: #f8f8f2;&quot;&gt;pP)&lt;/span&gt;
&lt;span style=&quot;color: #f8f8f2;&quot;&gt;LM&lt;/span&gt; &lt;span style=&quot;color: #f92672;&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: #f8f8f2;&quot;&gt;LagrangesMethod(Lag,&lt;/span&gt; &lt;span style=&quot;color: #f8f8f2;&quot;&gt;[q1,&lt;/span&gt; &lt;span style=&quot;color: #f8f8f2;&quot;&gt;q2],&lt;/span&gt; &lt;span style=&quot;color: #f8f8f2;&quot;&gt;hol_coneqs&lt;/span&gt;&lt;span style=&quot;color: #f92672;&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;color: #f8f8f2;&quot;&gt;f_c,&lt;/span&gt; &lt;span style=&quot;color: #f8f8f2;&quot;&gt;forcelist&lt;/span&gt;&lt;span style=&quot;color: #f92672;&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;color: #f8f8f2;&quot;&gt;[(P,&lt;/span&gt; &lt;span style=&quot;color: #f8f8f2;&quot;&gt;m&lt;/span&gt;&lt;span style=&quot;color: #f92672;&quot;&gt;*&lt;/span&gt;&lt;span style=&quot;color: #f8f8f2;&quot;&gt;g&lt;/span&gt;&lt;span style=&quot;color: #f92672;&quot;&gt;*&lt;/span&gt;&lt;span style=&quot;color: #f8f8f2;&quot;&gt;N&lt;/span&gt;&lt;span style=&quot;color: #f92672;&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: #f8f8f2;&quot;&gt;x)],&lt;/span&gt; &lt;span style=&quot;color: #f8f8f2;&quot;&gt;frame&lt;/span&gt;&lt;span style=&quot;color: #f92672;&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;color: #f8f8f2;&quot;&gt;N)&lt;/span&gt;
&lt;span style=&quot;color: #f8f8f2;&quot;&gt;LM&lt;/span&gt;&lt;span style=&quot;color: #f92672;&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: #f8f8f2;&quot;&gt;form_lagranges_equations()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;At this point the equations of motion have been formed, but not linearized.
Linearization requires that dependent and independent coordinates be chosen. In
this case we'll chose $q2$ as independent, and $q1$ as dependent.&lt;/p&gt;
&lt;div style=&quot;background: #272822;&quot; class=&quot;codehilite&quot;&gt;&lt;pre style=&quot;line-height: 125%;&quot;&gt;&lt;span style=&quot;color: #75715e;&quot;&gt;# Choose the independent and dependent coordinates&lt;/span&gt;
&lt;span style=&quot;color: #f8f8f2;&quot;&gt;q_i&lt;/span&gt; &lt;span style=&quot;color: #f92672;&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: #f8f8f2;&quot;&gt;Matrix([q2])&lt;/span&gt;
&lt;span style=&quot;color: #f8f8f2;&quot;&gt;q_d&lt;/span&gt; &lt;span style=&quot;color: #f92672;&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: #f8f8f2;&quot;&gt;Matrix([q1])&lt;/span&gt;
&lt;span style=&quot;color: #f8f8f2;&quot;&gt;u_i&lt;/span&gt; &lt;span style=&quot;color: #f92672;&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: #f8f8f2;&quot;&gt;Matrix([q2d])&lt;/span&gt;
&lt;span style=&quot;color: #f8f8f2;&quot;&gt;u_d&lt;/span&gt; &lt;span style=&quot;color: #f92672;&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: #f8f8f2;&quot;&gt;Matrix([q1d])&lt;/span&gt;
&lt;span style=&quot;color: #f8f8f2;&quot;&gt;linearizer&lt;/span&gt; &lt;span style=&quot;color: #f92672;&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: #f8f8f2;&quot;&gt;LM&lt;/span&gt;&lt;span style=&quot;color: #f92672;&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: #f8f8f2;&quot;&gt;to_linearizer(q_i,&lt;/span&gt; &lt;span style=&quot;color: #f8f8f2;&quot;&gt;u_i,&lt;/span&gt; &lt;span style=&quot;color: #f8f8f2;&quot;&gt;q_d,&lt;/span&gt; &lt;span style=&quot;color: #f8f8f2;&quot;&gt;u_d)&lt;/span&gt;

&lt;span style=&quot;color: #75715e;&quot;&gt;# Compose operating point&lt;/span&gt;
&lt;span style=&quot;color: #f8f8f2;&quot;&gt;q_op&lt;/span&gt; &lt;span style=&quot;color: #f92672;&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: #f8f8f2;&quot;&gt;{q1:&lt;/span&gt; &lt;span style=&quot;color: #f8f8f2;&quot;&gt;L,&lt;/span&gt; &lt;span style=&quot;color: #f8f8f2;&quot;&gt;q2:&lt;/span&gt; &lt;span style=&quot;color: #ae81ff;&quot;&gt;0&lt;/span&gt;&lt;span style=&quot;color: #f8f8f2;&quot;&gt;}&lt;/span&gt;
&lt;span style=&quot;color: #f8f8f2;&quot;&gt;u_op&lt;/span&gt; &lt;span style=&quot;color: #f92672;&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: #f8f8f2;&quot;&gt;{q1d:&lt;/span&gt; &lt;span style=&quot;color: #ae81ff;&quot;&gt;0&lt;/span&gt;&lt;span style=&quot;color: #f8f8f2;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #f8f8f2;&quot;&gt;q2d:&lt;/span&gt; &lt;span style=&quot;color: #ae81ff;&quot;&gt;0&lt;/span&gt;&lt;span style=&quot;color: #f8f8f2;&quot;&gt;}&lt;/span&gt;
&lt;span style=&quot;color: #f8f8f2;&quot;&gt;ud_op&lt;/span&gt; &lt;span style=&quot;color: #f92672;&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: #f8f8f2;&quot;&gt;{q1d&lt;/span&gt;&lt;span style=&quot;color: #f92672;&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: #f8f8f2;&quot;&gt;diff(t):&lt;/span&gt; &lt;span style=&quot;color: #ae81ff;&quot;&gt;0&lt;/span&gt;&lt;span style=&quot;color: #f8f8f2;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #f8f8f2;&quot;&gt;q2d&lt;/span&gt;&lt;span style=&quot;color: #f92672;&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: #f8f8f2;&quot;&gt;diff(t):&lt;/span&gt; &lt;span style=&quot;color: #ae81ff;&quot;&gt;0&lt;/span&gt;&lt;span style=&quot;color: #f8f8f2;&quot;&gt;}&lt;/span&gt;

&lt;span style=&quot;color: #75715e;&quot;&gt;# Perform the linearization&lt;/span&gt;
&lt;span style=&quot;color: #f8f8f2;&quot;&gt;A,&lt;/span&gt; &lt;span style=&quot;color: #f8f8f2;&quot;&gt;B&lt;/span&gt; &lt;span style=&quot;color: #f92672;&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: #f8f8f2;&quot;&gt;linearizer&lt;/span&gt;&lt;span style=&quot;color: #f92672;&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: #f8f8f2;&quot;&gt;linearize(q_op&lt;/span&gt;&lt;span style=&quot;color: #f92672;&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;color: #f8f8f2;&quot;&gt;q_op,&lt;/span&gt; &lt;span style=&quot;color: #f8f8f2;&quot;&gt;u_op&lt;/span&gt;&lt;span style=&quot;color: #f92672;&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;color: #f8f8f2;&quot;&gt;u_op,&lt;/span&gt; &lt;span style=&quot;color: #f8f8f2;&quot;&gt;ud_op&lt;/span&gt;&lt;span style=&quot;color: #f92672;&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;color: #f8f8f2;&quot;&gt;ud_op,&lt;/span&gt; &lt;span style=&quot;color: #f8f8f2;&quot;&gt;A_and_B&lt;/span&gt;&lt;span style=&quot;color: #f92672;&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;color: #f8f8f2;&quot;&gt;True)&lt;/span&gt;
&lt;span style=&quot;color: #66d9ef;&quot;&gt;print&lt;/span&gt;&lt;span style=&quot;color: #f8f8f2;&quot;&gt;(A)&lt;/span&gt;
&lt;span style=&quot;color: #66d9ef;&quot;&gt;print&lt;/span&gt;&lt;span style=&quot;color: #f8f8f2;&quot;&gt;(B)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Output:  &lt;/p&gt;
&lt;div style=&quot;background: #272822;&quot; class=&quot;codehilite&quot;&gt;&lt;pre style=&quot;line-height: 125%;&quot;&gt;&lt;span style=&quot;color: #f8f8f2;&quot;&gt;Matrix([&lt;/span&gt;
&lt;span style=&quot;color: #f8f8f2;&quot;&gt;[&lt;/span&gt;           &lt;span style=&quot;color: #ae81ff;&quot;&gt;0&lt;/span&gt;&lt;span style=&quot;color: #f8f8f2;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #ae81ff;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #f8f8f2;&quot;&gt;],&lt;/span&gt;
&lt;span style=&quot;color: #f8f8f2;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #f92672;&quot;&gt;-&lt;/span&gt;&lt;span style=&quot;color: #ae81ff;&quot;&gt;2&lt;/span&gt;&lt;span style=&quot;color: #f92672;&quot;&gt;*&lt;/span&gt;&lt;span style=&quot;color: #f8f8f2;&quot;&gt;lam1(t)&lt;/span&gt;&lt;span style=&quot;color: #f92672;&quot;&gt;/&lt;/span&gt;&lt;span style=&quot;color: #f8f8f2;&quot;&gt;m,&lt;/span&gt; &lt;span style=&quot;color: #ae81ff;&quot;&gt;0&lt;/span&gt;&lt;span style=&quot;color: #f8f8f2;&quot;&gt;]])&lt;/span&gt;

&lt;span style=&quot;color: #f8f8f2;&quot;&gt;Matrix(&lt;/span&gt;&lt;span style=&quot;color: #ae81ff;&quot;&gt;0&lt;/span&gt;&lt;span style=&quot;color: #f8f8f2;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #ae81ff;&quot;&gt;0&lt;/span&gt;&lt;span style=&quot;color: #f8f8f2;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #f8f8f2;&quot;&gt;[])&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Note that the lagrange multiplier apppears in the linearization. However, for 
a given operating point, each multiplier has a specific value (i.e. they're
not free choices). Using the structure of the system of equations, the values
can be solved for, and substituted in:&lt;/p&gt;
&lt;div style=&quot;background: #272822;&quot; class=&quot;codehilite&quot;&gt;&lt;pre style=&quot;line-height: 125%;&quot;&gt;&lt;span style=&quot;color: #75715e;&quot;&gt;# Take advantage of problem structure to solve for lams&lt;/span&gt;
&lt;span style=&quot;color: #f8f8f2;&quot;&gt;mass_matrix&lt;/span&gt; &lt;span style=&quot;color: #f92672;&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: #f8f8f2;&quot;&gt;LM&lt;/span&gt;&lt;span style=&quot;color: #f92672;&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: #f8f8f2;&quot;&gt;mass_matrix&lt;/span&gt;&lt;span style=&quot;color: #f92672;&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: #f8f8f2;&quot;&gt;col_join((&lt;/span&gt;&lt;span style=&quot;color: #f92672;&quot;&gt;-&lt;/span&gt;&lt;span style=&quot;color: #f8f8f2;&quot;&gt;LM&lt;/span&gt;&lt;span style=&quot;color: #f92672;&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: #f8f8f2;&quot;&gt;lam_coeffs&lt;/span&gt;&lt;span style=&quot;color: #f92672;&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: #f8f8f2;&quot;&gt;row_join(zeros(&lt;/span&gt;&lt;span style=&quot;color: #ae81ff;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #f8f8f2;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #ae81ff;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #f8f8f2;&quot;&gt;))))&lt;/span&gt;
&lt;span style=&quot;color: #f8f8f2;&quot;&gt;force_matrix&lt;/span&gt; &lt;span style=&quot;color: #f92672;&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: #f8f8f2;&quot;&gt;LM&lt;/span&gt;&lt;span style=&quot;color: #f92672;&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: #f8f8f2;&quot;&gt;forcing&lt;/span&gt;&lt;span style=&quot;color: #f92672;&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: #f8f8f2;&quot;&gt;col_join(LM&lt;/span&gt;&lt;span style=&quot;color: #f92672;&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: #f8f8f2;&quot;&gt;_f_cd)&lt;/span&gt;
&lt;span style=&quot;color: #f8f8f2;&quot;&gt;lam_op_vec&lt;/span&gt; &lt;span style=&quot;color: #f92672;&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: #f8f8f2;&quot;&gt;Matrix((mass_matrix&lt;/span&gt;&lt;span style=&quot;color: #f92672;&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: #f8f8f2;&quot;&gt;inv()&lt;/span&gt;&lt;span style=&quot;color: #f92672;&quot;&gt;*&lt;/span&gt;&lt;span style=&quot;color: #f8f8f2;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #f92672;&quot;&gt;-&lt;/span&gt;&lt;span style=&quot;color: #f8f8f2;&quot;&gt;force_matrix))[&lt;/span&gt;&lt;span style=&quot;color: #f92672;&quot;&gt;-&lt;/span&gt;&lt;span style=&quot;color: #ae81ff;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #f8f8f2;&quot;&gt;:])&lt;/span&gt;
&lt;span style=&quot;color: #f8f8f2;&quot;&gt;lam_op_vec&lt;/span&gt; &lt;span style=&quot;color: #f92672;&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: #f8f8f2;&quot;&gt;lam_op_vec&lt;/span&gt;&lt;span style=&quot;color: #f92672;&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: #f8f8f2;&quot;&gt;subs(ud_op)&lt;/span&gt;&lt;span style=&quot;color: #f92672;&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: #f8f8f2;&quot;&gt;subs(u_op)&lt;/span&gt;&lt;span style=&quot;color: #f92672;&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: #f8f8f2;&quot;&gt;subs(q_op)&lt;/span&gt;
&lt;span style=&quot;color: #f8f8f2;&quot;&gt;lam_op&lt;/span&gt; &lt;span style=&quot;color: #f92672;&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: #f8f8f2;&quot;&gt;dict(zip(LM&lt;/span&gt;&lt;span style=&quot;color: #f92672;&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: #f8f8f2;&quot;&gt;lam_vec,&lt;/span&gt; &lt;span style=&quot;color: #f8f8f2;&quot;&gt;lam_op_vec))&lt;/span&gt;

&lt;span style=&quot;color: #75715e;&quot;&gt;# Substitute the value for the multipliers at this operating point&lt;/span&gt;
&lt;span style=&quot;color: #f8f8f2;&quot;&gt;A&lt;/span&gt; &lt;span style=&quot;color: #f92672;&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: #f8f8f2;&quot;&gt;A&lt;/span&gt;&lt;span style=&quot;color: #f92672;&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: #f8f8f2;&quot;&gt;subs(lam_op)&lt;/span&gt;
&lt;span style=&quot;color: #66d9ef;&quot;&gt;print&lt;/span&gt;&lt;span style=&quot;color: #f8f8f2;&quot;&gt;(A)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Output:&lt;/p&gt;
&lt;div style=&quot;background: #272822;&quot; class=&quot;codehilite&quot;&gt;&lt;pre style=&quot;line-height: 125%;&quot;&gt;&lt;span style=&quot;color: #f8f8f2;&quot;&gt;Matrix([&lt;/span&gt;
&lt;span style=&quot;color: #f8f8f2;&quot;&gt;[&lt;/span&gt;     &lt;span style=&quot;color: #ae81ff;&quot;&gt;0&lt;/span&gt;&lt;span style=&quot;color: #f8f8f2;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #ae81ff;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #f8f8f2;&quot;&gt;],&lt;/span&gt;
&lt;span style=&quot;color: #f8f8f2;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #f92672;&quot;&gt;-&lt;/span&gt;&lt;span style=&quot;color: #ae81ff;&quot;&gt;9.8&lt;/span&gt;&lt;span style=&quot;color: #f92672;&quot;&gt;/&lt;/span&gt;&lt;span style=&quot;color: #f8f8f2;&quot;&gt;L,&lt;/span&gt; &lt;span style=&quot;color: #ae81ff;&quot;&gt;0&lt;/span&gt;&lt;span style=&quot;color: #f8f8f2;&quot;&gt;]])&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;This is the correct linearization for a pendulum linearized about hanging
at rest operating point. You can try out the added functionality demonstrated
above by cloning my &lt;code&gt;LinearizeLagrange&lt;/code&gt; branch of sympy
&lt;a href=&quot;https://github.com/jcrist/sympy/tree/LinearizeLagrange&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;While functional, it still isn't finished. I still need to add documentation,
more tests, and finalize the interface. I plan on working on this next week.&lt;/p&gt;&amp;lt;script type=&quot;text/javascript&quot;&amp;gt;
    if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {
        var mathjaxscript = document.createElement('script');
        mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';
        mathjaxscript.type = 'text/javascript';
        mathjaxscript.src = 'https:' == document.location.protocol
                ? 'https://c328740.ssl.cf1.rackcdn.com/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'
                : 'http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML';
        mathjaxscript[(window.opera ? &quot;innerHTML&quot; : &quot;text&quot;)] =
            &quot;MathJax.Hub.Config({&quot; +
            &quot;    config: ['MMLorHTML.js'],&quot; +
            &quot;    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } },&quot; +
            &quot;    jax: ['input/TeX','input/MathML','output/HTML-CSS'],&quot; +
            &quot;    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js'],&quot; +
            &quot;    displayAlign: 'center',&quot; +
            &quot;    displayIndent: '0em',&quot; +
            &quot;    showMathMenu: true,&quot; +
            &quot;    tex2jax: { &quot; +
            &quot;        inlineMath: [ ['$','$'] ], &quot; +
            &quot;        displayMath: [ ['$$','$$'] ],&quot; +
            &quot;        processEscapes: true,&quot; +
            &quot;        preview: 'TeX',&quot; +
            &quot;    }, &quot; +
            &quot;    'HTML-CSS': { &quot; +
            &quot;        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'black ! important'} }&quot; +
            &quot;    } &quot; +
            &quot;}); &quot;;
        (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);
    }
&amp;lt;/script&amp;gt;</description>
	<pubDate>Fri, 13 Jun 2014 23:00:00 +0000</pubDate>
</item>

</channel>
</rss>
